<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

	 <meta name="description" content="">

    <meta name="author" content="dmey (forked from NREL)" >
    <link rel="icon" href="../favicon.png">

    <title>PlantEIRChillers.f90 &ndash; EnergyPlusFortran</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>


    <script src="../tipuesearch/tipuesearch_content.js"></script>
    <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">
    <script src="../tipuesearch/tipuesearch_set.js"></script>
    <script src="../tipuesearch/tipuesearch.js"></script>


  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">EnergyPlusFortran <small>8.1.0.009</small></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">

            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
		 aria-expanded="false">Contents <span class="caret"></span></a>
	      <ul class="dropdown-menu">

            <li><a href="../lists/files.html">Source Files</a></li>


            <li><a href="../lists/modules.html">Modules</a></li>


            <li><a href="../lists/procedures.html">Procedures</a></li>


            <li><a href="../lists/types.html">Derived Types</a></li>


            <li><a href="../program/energyplus.html">Program</a></li>

            </ul>
            </li>

<li class="visible-xs hidden-sm visible-lg"><a href="../lists/files.html">Source Files</a></li>


<li class="visible-xs hidden-sm visible-lg"><a href="../lists/modules.html">Modules</a></li>


<li class="visible-xs hidden-sm visible-lg"><a href="../lists/procedures.html">Procedures</a></li>


<li class="visible-xs hidden-sm visible-lg"><a href="../lists/types.html">Derived Types</a></li>


<li class="visible-xs hidden-sm visible-lg"><a href="../program/energyplus.html">Program</a></li>

          </ul>


        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">


  <div class="row">
    <h1>PlantEIRChillers.f90
    <small>Source File</small>

    </h1>

<div class="row">
  <div class="col-lg-12">
<div class="well well-sm">
  <ul class="list-inline" style="margin-bottom:0px;display:inline">


     <li><i class="fa fa-list-ol"></i>
       <a data-toggle="tooltip"
	  data-placement="bottom" data-html="true"
	  title=" 0.8% of total for source files.">3113 statements</a>
     </li>


    <li><i class="fa fa-code"></i><a href="../src/PlantEIRChillers.f90"> Source File</a></li>

  </ul>
  <ol class="breadcrumb in-well text-right">

     <li class="active">PlantEIRChillers.f90</li>
  </ol>
</div>
</div>
</div>
<script>
  $(function () {
  $('[data-toggle="tooltip"]').tooltip()
  })
</script>

  </div>
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">

<div id="sidebar">


<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#mods-0">Modules</a></h3></div>
  <div id="mods-0" class="panel-collapse collapse">
    <div class="list-group">

      <a class="list-group-item" href="../module/chillerelectriceir.html">ChillerElectricEIR</a>

      <a class="list-group-item" href="../module/chillerreformulatedeir.html">ChillerReformulatedEIR</a>

    </div>
  </div>
</div>


<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title">Source Code</h3></div>
  <div class="list-group">
    <a class="list-group-item" href="../sourcefile/planteirchillers.f90.html#src">PlantEIRChillers.f90</a>
  </div>
</div>


  <hr>


<div class="panel panel-default">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#allfiles-0">All Source Files</a></h3></div>
  <div id="allfiles-0" class="panel-collapse collapse">
    <div class="list-group">

      <a class="list-group-item" href="../sourcefile/airflownetworkbalancemanager.f90.html">AirflowNetworkBalanceManager.f90</a>

      <a class="list-group-item" href="../sourcefile/airflownetworksolver.f90.html">AirflowNetworkSolver.f90</a>

      <a class="list-group-item" href="../sourcefile/baseboardradiator.f90.html">BaseboardRadiator.f90</a>

      <a class="list-group-item" href="../sourcefile/baseboardradiatorelectric.f90.html">BaseboardRadiatorElectric.f90</a>

      <a class="list-group-item" href="../sourcefile/baseboardradiatorsteam.f90.html">BaseboardRadiatorSteam.f90</a>

      <a class="list-group-item" href="../sourcefile/baseboardradiatorwater.f90.html">BaseboardRadiatorWater.f90</a>

      <a class="list-group-item" href="../sourcefile/branchinputmanager.f90.html">BranchInputManager.f90</a>

      <a class="list-group-item" href="../sourcefile/branchnodeconnections.f90.html">BranchNodeConnections.f90</a>

      <a class="list-group-item" href="../sourcefile/conductiontransferfunctioncalc.f90.html">ConductionTransferFunctionCalc.f90</a>

      <a class="list-group-item" href="../sourcefile/cooltower.f90.html">CoolTower.f90</a>

      <a class="list-group-item" href="../sourcefile/costestimatemanager.f90.html">CostEstimateManager.f90</a>

      <a class="list-group-item" href="../sourcefile/curvemanager.f90.html">CurveManager.f90</a>

      <a class="list-group-item" href="../sourcefile/cvfonlyroutines.f90.html">CVFOnlyRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/dataairflownetwork.f90.html">DataAirflowNetwork.f90</a>

      <a class="list-group-item" href="../sourcefile/dataairloop.f90.html">DataAirLoop.f90</a>

      <a class="list-group-item" href="../sourcefile/dataairsystems.f90.html">DataAirSystems.f90</a>

      <a class="list-group-item" href="../sourcefile/databranchairloopplant.f90.html">DataBranchAirLoopPlant.f90</a>

      <a class="list-group-item" href="../sourcefile/databranchnodeconnections.f90.html">DataBranchNodeConnections.f90</a>

      <a class="list-group-item" href="../sourcefile/databsdfwindow.f90.html">DataBSDFWindow.f90</a>

      <a class="list-group-item" href="../sourcefile/datacomplexfenestration.f90.html">DataComplexFenestration.f90</a>

      <a class="list-group-item" href="../sourcefile/datacontaminantbalance.f90.html">DataContaminantBalance.f90</a>

      <a class="list-group-item" href="../sourcefile/dataconvergparams.f90.html">DataConvergParams.f90</a>

      <a class="list-group-item" href="../sourcefile/dataconversions.f90.html">DataConversions.f90</a>

      <a class="list-group-item" href="../sourcefile/datacostestimate.f90.html">DataCostEstimate.f90</a>

      <a class="list-group-item" href="../sourcefile/datadaylighting.f90.html">DataDaylighting.f90</a>

      <a class="list-group-item" href="../sourcefile/datadaylightingdevices.f90.html">DataDaylightingDevices.f90</a>

      <a class="list-group-item" href="../sourcefile/datadefineequip.f90.html">Datadefineequip.f90</a>

      <a class="list-group-item" href="../sourcefile/datadelight.f90.html">DataDElight.f90</a>

      <a class="list-group-item" href="../sourcefile/dataenvironment.f90.html">DataEnvironment.f90</a>

      <a class="list-group-item" href="../sourcefile/dataequivalentlayerwindow.f90.html">DataEquivalentLayerWindow.f90</a>

      <a class="list-group-item" href="../sourcefile/dataerrortracking.f90.html">DataErrorTracking.f90</a>

      <a class="list-group-item" href="../sourcefile/datagenerators.f90.html">DataGenerators.f90</a>

      <a class="list-group-item" href="../sourcefile/dataglobalconstants.f90.html">DataGlobalConstants.f90</a>

      <a class="list-group-item" href="../sourcefile/dataglobals.f90.html">DataGlobals.f90</a>

      <a class="list-group-item" href="../sourcefile/dataheatbalance.f90.html">DataHeatBalance.f90</a>

      <a class="list-group-item" href="../sourcefile/dataheatbalfansys.f90.html">DataHeatBalFanSys.f90</a>

      <a class="list-group-item" href="../sourcefile/dataheatbalsurface.f90.html">DataHeatBalSurface.f90</a>

      <a class="list-group-item" href="../sourcefile/datahvaccontrollers.f90.html">DataHVACControllers.f90</a>

      <a class="list-group-item" href="../sourcefile/datahvacglobals.f90.html">DataHVACGlobals.f90</a>

      <a class="list-group-item" href="../sourcefile/datainterfaces.f90.html">DataInterfaces.f90</a>

      <a class="list-group-item" href="../sourcefile/dataipshortcuts.f90.html">DataIPShortCuts.f90</a>

      <a class="list-group-item" href="../sourcefile/dataloopnode.f90.html">DataLoopNode.f90</a>

      <a class="list-group-item" href="../sourcefile/datamoisturebalance.f90.html">DataMoistureBalance.f90</a>

      <a class="list-group-item" href="../sourcefile/datamoisturebalanceempd.f90.html">DataMoistureBalanceEMPD.f90</a>

      <a class="list-group-item" href="../sourcefile/dataoutputs.f90.html">DataOutputs.f90</a>

      <a class="list-group-item" href="../sourcefile/dataphotovoltaics.f90.html">DataPhotovoltaics.f90</a>

      <a class="list-group-item" href="../sourcefile/dataplant.f90.html">DataPlant.f90</a>

      <a class="list-group-item" href="../sourcefile/dataplantpipingsystems.f90.html">DataPlantPipingSystems.f90</a>

      <a class="list-group-item" href="../sourcefile/dataprecisionglobals.f90.html">DataPrecisionGlobals.f90</a>

      <a class="list-group-item" href="../sourcefile/datareportingflags.f90.html">DataReportingFlags.f90</a>

      <a class="list-group-item" href="../sourcefile/dataroomair.f90.html">DataRoomAir.f90</a>

      <a class="list-group-item" href="../sourcefile/datarootfinder.f90.html">DataRootFinder.f90</a>

      <a class="list-group-item" href="../sourcefile/dataruntimelanguage.f90.html">DataRuntimeLanguage.f90</a>

      <a class="list-group-item" href="../sourcefile/datashadowingcombinations.f90.html">DataShadowingCombinations.f90</a>

      <a class="list-group-item" href="../sourcefile/datasizing.f90.html">DataSizing.f90</a>

      <a class="list-group-item" href="../sourcefile/datastringglobals.f90.html">DataStringGlobals.f90</a>

      <a class="list-group-item" href="../sourcefile/datasurfacecolors.f90.html">DataSurfaceColors.f90</a>

      <a class="list-group-item" href="../sourcefile/datasurfacelists.f90.html">DataSurfaceLists.f90</a>

      <a class="list-group-item" href="../sourcefile/datasurfaces.f90.html">DataSurfaces.f90</a>

      <a class="list-group-item" href="../sourcefile/datasystemvariables.f90.html">DataSystemVariables.f90</a>

      <a class="list-group-item" href="../sourcefile/datatimings.f90.html">DataTimings.f90</a>

      <a class="list-group-item" href="../sourcefile/dataucsdshareddata.f90.html">DataUCSDSharedData.f90</a>

      <a class="list-group-item" href="../sourcefile/datavectortypes.f90.html">DataVectorTypes.f90</a>

      <a class="list-group-item" href="../sourcefile/dataviewfactorinformation.f90.html">DataViewFactorInformation.f90</a>

      <a class="list-group-item" href="../sourcefile/datawater.f90.html">DataWater.f90</a>

      <a class="list-group-item" href="../sourcefile/datazonecontrols.f90.html">DataZoneControls.f90</a>

      <a class="list-group-item" href="../sourcefile/datazoneenergydemands.f90.html">DataZoneEnergyDemands.f90</a>

      <a class="list-group-item" href="../sourcefile/datazoneequipment.f90.html">DataZoneEquipment.f90</a>

      <a class="list-group-item" href="../sourcefile/daylightingdevices.f90.html">DaylightingDevices.f90</a>

      <a class="list-group-item" href="../sourcefile/daylightingmanager.f90.html">DaylightingManager.f90</a>

      <a class="list-group-item" href="../sourcefile/delightmanagerf.f90.html">DElightManagerF.f90</a>

      <a class="list-group-item" href="../sourcefile/delightmanagerf_no.f90.html">DElightManagerF_NO.f90</a>

      <a class="list-group-item" href="../sourcefile/demandmanager.f90.html">DemandManager.f90</a>

      <a class="list-group-item" href="../sourcefile/desiccantdehumidifiers.f90.html">DesiccantDehumidifiers.f90</a>

      <a class="list-group-item" href="../sourcefile/directair.f90.html">DirectAir.f90</a>

      <a class="list-group-item" href="../sourcefile/displayroutines.f90.html">DisplayRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/dxcoil.f90.html">DXCoil.f90</a>

      <a class="list-group-item" href="../sourcefile/earthtube.f90.html">EarthTube.f90</a>

      <a class="list-group-item" href="../sourcefile/economiclifecyclecost.f90.html">EconomicLifeCycleCost.f90</a>

      <a class="list-group-item" href="../sourcefile/economictariff.f90.html">EconomicTariff.f90</a>

      <a class="list-group-item" href="../sourcefile/ecoroof.f90.html">EcoRoof.f90</a>

      <a class="list-group-item" href="../sourcefile/electricpowergenerators.f90.html">ElectricPowerGenerators.f90</a>

      <a class="list-group-item" href="../sourcefile/electricpowermanager.f90.html">ElectricPowerManager.f90</a>

      <a class="list-group-item" href="../sourcefile/emsmanager.f90.html">EMSManager.f90</a>

      <a class="list-group-item" href="../sourcefile/energyplus.f90.html">EnergyPlus.f90</a>

      <a class="list-group-item" href="../sourcefile/exteriorenergyusemanager.f90.html">ExteriorEnergyUseManager.f90</a>

      <a class="list-group-item" href="../sourcefile/externalinterface_no.f90.html">ExternalInterface_NO.f90</a>

      <a class="list-group-item" href="../sourcefile/fancoilunits.f90.html">FanCoilUnits.f90</a>

      <a class="list-group-item" href="../sourcefile/faultsmanager.f90.html">FaultsManager.f90</a>

      <a class="list-group-item" href="../sourcefile/fluidproperties.f90.html">FluidProperties.f90</a>

      <a class="list-group-item" href="../sourcefile/general.f90.html">General.f90</a>

      <a class="list-group-item" href="../sourcefile/generalroutines.f90.html">GeneralRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/globalnames.f90.html">GlobalNames.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalanceairmanager.f90.html">HeatBalanceAirManager.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalanceconvectioncoeffs.f90.html">HeatBalanceConvectionCoeffs.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalancehamtmanager.f90.html">HeatBalanceHAMTManager.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalanceinternalheatgains.f90.html">HeatBalanceInternalHeatGains.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalanceintradexchange.f90.html">HeatBalanceIntRadExchange.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalancemanager.f90.html">HeatBalanceManager.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalancemovableinsulation.f90.html">HeatBalanceMovableInsulation.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalancesurfacemanager.f90.html">HeatBalanceSurfaceManager.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalfinitedifferencemanager.f90.html">HeatBalFiniteDifferenceManager.f90</a>

      <a class="list-group-item" href="../sourcefile/heatrecovery.f90.html">HeatRecovery.f90</a>

      <a class="list-group-item" href="../sourcefile/humidifiers.f90.html">Humidifiers.f90</a>

      <a class="list-group-item" href="../sourcefile/hvaccontrollers.f90.html">HVACControllers.f90</a>

      <a class="list-group-item" href="../sourcefile/hvaccooledbeam.f90.html">HVACCooledBeam.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacdualductsystem.f90.html">HVACDualDuctSystem.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacduct.f90.html">HVACDuct.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacdxsystem.f90.html">HVACDXSystem.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacevapcomponent.f90.html">HVACEvapComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacfancomponent.f90.html">HVACFanComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacfurnace.f90.html">HVACFurnace.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacheatingcoils.f90.html">HVACHeatingCoils.f90</a>

      <a class="list-group-item" href="../sourcefile/hvachxassistedcoolingcoil.f90.html">HVACHXAssistedCoolingCoil.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacinterfacemanager.f90.html">HVACInterfaceManager.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacmanager.f90.html">HVACManager.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacmixercomponent.f90.html">HVACMixerComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacmultispeedheatpump.f90.html">HVACMultiSpeedHeatPump.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacsingleductinduc.f90.html">HVACSingleDuctInduc.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacsingleductsystem.f90.html">HVACSingleDuctSystem.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacsplittercomponent.f90.html">HVACSplitterComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacstandaloneerv.f90.html">HVACStandAloneERV.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacsteamcoilcomponent.f90.html">HVACSteamCoilComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvactranspiredcollector.f90.html">HVACTranspiredCollector.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacunitarybypassvav.f90.html">HVACUnitaryBypassVAV.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacunitarysystem.f90.html">HVACUnitarySystem.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacvariablerefrigerantflow.f90.html">HVACVariableRefrigerantFlow.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacwatercoilcomponent.f90.html">HVACWaterCoilComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacwatertoair.f90.html">HVACWatertoAir.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacwatertoairmultispeedhp.f90.html">HVACWatertoAirMultiSpeedHP.f90</a>

      <a class="list-group-item" href="../sourcefile/inputprocessor.f90.html">InputProcessor.f90</a>

      <a class="list-group-item" href="../sourcefile/matrixdatamanager.f90.html">MatrixDataManager.f90</a>

      <a class="list-group-item" href="../sourcefile/mixedair.f90.html">MixedAir.f90</a>

      <a class="list-group-item" href="../sourcefile/moisturebalanceempdmanager.f90.html">MoistureBalanceEMPDManager.f90</a>

      <a class="list-group-item" href="../sourcefile/nodeinputmanager.f90.html">NodeInputManager.f90</a>

      <a class="list-group-item" href="../sourcefile/nonzoneequipmentmanager.f90.html">NonZoneEquipmentManager.f90</a>

      <a class="list-group-item" href="../sourcefile/outairnodemanager.f90.html">OutAirNodeManager.f90</a>

      <a class="list-group-item" href="../sourcefile/outdoorairunit.f90.html">OutdoorAirUnit.f90</a>

      <a class="list-group-item" href="../sourcefile/outputprocessor.f90.html">OutputProcessor.f90</a>

      <a class="list-group-item" href="../sourcefile/outputreportpredefined.f90.html">OutputReportPredefined.f90</a>

      <a class="list-group-item" href="../sourcefile/outputreports.f90.html">OutputReports.f90</a>

      <a class="list-group-item" href="../sourcefile/outputreporttabular.f90.html">OutputReportTabular.f90</a>

      <a class="list-group-item" href="../sourcefile/packagedterminalheatpump.f90.html">PackagedTerminalHeatPump.f90</a>

      <a class="list-group-item" href="../sourcefile/packagedthermalstoragecoil.f90.html">PackagedThermalStorageCoil.f90</a>

      <a class="list-group-item" href="../sourcefile/photovoltaics.f90.html">Photovoltaics.f90</a>

      <a class="list-group-item" href="../sourcefile/photovoltaicthermalcollectors.f90.html">PhotovoltaicThermalCollectors.f90</a>

      <a class="list-group-item" href="../sourcefile/plantabsorptionchillers.f90.html">PlantAbsorptionChillers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantboilers.f90.html">PlantBoilers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantboilerssteam.f90.html">PlantBoilersSteam.f90</a>

      <a class="list-group-item" href="../sourcefile/plantcentralgshp.f90.html">PlantCentralGSHP.f90</a>

      <a class="list-group-item" href="../sourcefile/plantchillers.f90.html">PlantChillers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantcondloopoperation.f90.html">PlantCondLoopOperation.f90</a>

      <a class="list-group-item" href="../sourcefile/plantcondlooptowers.f90.html">PlantCondLoopTowers.f90</a>

      <a class="list-group-item" href="../sourcefile/planteirchillers.f90.html">PlantEIRChillers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantevapfluidcoolers.f90.html">PlantEvapFluidCoolers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantexhaustabsorptionchiller.f90.html">PlantExhaustAbsorptionChiller.f90</a>

      <a class="list-group-item" href="../sourcefile/plantfluidcoolers.f90.html">PlantFluidCoolers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantgasabsorptionchiller.f90.html">PlantGasAbsorptionChiller.f90</a>

      <a class="list-group-item" href="../sourcefile/plantgroundheatexchangers.f90.html">PlantGroundHeatExchangers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantheatexchanger.f90.html">PlantHeatExchanger.f90</a>

      <a class="list-group-item" href="../sourcefile/planticethermalstorage.f90.html">PlantIceThermalStorage.f90</a>

      <a class="list-group-item" href="../sourcefile/plantloadprofile.f90.html">PlantLoadProfile.f90</a>

      <a class="list-group-item" href="../sourcefile/plantloopequipment.f90.html">PlantLoopEquipment.f90</a>

      <a class="list-group-item" href="../sourcefile/plantloopsolver.f90.html">PlantLoopSolver.f90</a>

      <a class="list-group-item" href="../sourcefile/plantmanager.f90.html">PlantManager.f90</a>

      <a class="list-group-item" href="../sourcefile/plantoutsideenergysources.f90.html">PlantOutsideEnergySources.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpipeheattransfer.f90.html">PlantPipeHeatTransfer.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpipes.f90.html">PlantPipes.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpipingsystemmanager.f90.html">PlantPipingSystemManager.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpondgroundheatexchanger.f90.html">PlantPondGroundHeatExchanger.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpressuresystem.f90.html">PlantPressureSystem.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpumps.f90.html">PlantPumps.f90</a>

      <a class="list-group-item" href="../sourcefile/plantsolarcollectors.f90.html">PlantSolarCollectors.f90</a>

      <a class="list-group-item" href="../sourcefile/plantsurfacegroundheatexchanger.f90.html">PlantSurfaceGroundHeatExchanger.f90</a>

      <a class="list-group-item" href="../sourcefile/plantutilities.f90.html">PlantUtilities.f90</a>

      <a class="list-group-item" href="../sourcefile/plantvalves.f90.html">PlantValves.f90</a>

      <a class="list-group-item" href="../sourcefile/plantwatersources.f90.html">PlantWaterSources.f90</a>

      <a class="list-group-item" href="../sourcefile/plantwaterthermaltank.f90.html">PlantWaterThermalTank.f90</a>

      <a class="list-group-item" href="../sourcefile/plantwatertowatergshp.f90.html">PlantWatertoWaterGSHP.f90</a>

      <a class="list-group-item" href="../sourcefile/plantwateruse.f90.html">PlantWaterUse.f90</a>

      <a class="list-group-item" href="../sourcefile/pollutionanalysismodule.f90.html">PollutionAnalysisModule.f90</a>

      <a class="list-group-item" href="../sourcefile/poweredinductionunits.f90.html">PoweredInductionUnits.f90</a>

      <a class="list-group-item" href="../sourcefile/psychroutines.f90.html">PsychRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/purchasedairmanager.f90.html">Purchasedairmanager.f90</a>

      <a class="list-group-item" href="../sourcefile/radiantsystemhightemp.f90.html">RadiantSystemHighTemp.f90</a>

      <a class="list-group-item" href="../sourcefile/radiantsystemlowtemp.f90.html">RadiantSystemLowTemp.f90</a>

      <a class="list-group-item" href="../sourcefile/refrigeratedcase.f90.html">RefrigeratedCase.f90</a>

      <a class="list-group-item" href="../sourcefile/reportsizingmanager.f90.html">ReportSizingManager.f90</a>

      <a class="list-group-item" href="../sourcefile/returnairpath.f90.html">ReturnAirPath.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmanager.f90.html">RoomAirManager.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmodelcrossvent.f90.html">RoomAirModelCrossVent.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmodeldisplacementvent.f90.html">RoomAirModelDisplacementVent.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmodelmundt.f90.html">RoomAirModelMundt.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmodelufad.f90.html">RoomAirModelUFAD.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmodelusertemppattern.f90.html">RoomAirModelUserTempPattern.f90</a>

      <a class="list-group-item" href="../sourcefile/rootfinder.f90.html">RootFinder.f90</a>

      <a class="list-group-item" href="../sourcefile/runtimelanguageprocessor.f90.html">RuntimeLanguageProcessor.f90</a>

      <a class="list-group-item" href="../sourcefile/schedulemanager.f90.html">ScheduleManager.f90</a>

      <a class="list-group-item" href="../sourcefile/setpointmanager.f90.html">SetPointManager.f90</a>

      <a class="list-group-item" href="../sourcefile/simairservingzones.f90.html">SimAirServingZones.f90</a>

      <a class="list-group-item" href="../sourcefile/simulationmanager.f90.html">SimulationManager.f90</a>

      <a class="list-group-item" href="../sourcefile/sizingmanager.f90.html">SizingManager.f90</a>

      <a class="list-group-item" href="../sourcefile/solarreflectionmanager.f90.html">SolarReflectionManager.f90</a>

      <a class="list-group-item" href="../sourcefile/solarshading.f90.html">SolarShading.f90</a>

      <a class="list-group-item" href="../sourcefile/sortandstringutilities.f90.html">SortAndStringUtilities.f90</a>

      <a class="list-group-item" href="../sourcefile/sqlite3.c.html">sqlite3.c</a>

      <a class="list-group-item" href="../sourcefile/sqlitecroutines.c.html">SQLiteCRoutines.c</a>

      <a class="list-group-item" href="../sourcefile/sqlitefortranroutines.f90.html">SQLiteFortranRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/sqlitefortranroutines_no.f90.html">SQLiteFortranRoutines_NO.f90</a>

      <a class="list-group-item" href="../sourcefile/standardratings.f90.html">StandardRatings.f90</a>

      <a class="list-group-item" href="../sourcefile/surfacegeometry.f90.html">SurfaceGeometry.f90</a>

      <a class="list-group-item" href="../sourcefile/systemavailabilitymanager.f90.html">SystemAvailabilityManager.f90</a>

      <a class="list-group-item" href="../sourcefile/systemreports.f90.html">SystemReports.f90</a>

      <a class="list-group-item" href="../sourcefile/tarcogcomplexfenestration.f90.html">TarcogComplexFenestration.f90</a>

      <a class="list-group-item" href="../sourcefile/thermalchimney.f90.html">ThermalChimney.f90</a>

      <a class="list-group-item" href="../sourcefile/thermalcomfort.f90.html">ThermalComfort.f90</a>

      <a class="list-group-item" href="../sourcefile/unitheater.f90.html">UnitHeater.f90</a>

      <a class="list-group-item" href="../sourcefile/unitventilator.f90.html">UnitVentilator.f90</a>

      <a class="list-group-item" href="../sourcefile/userdefinedcomponents.f90.html">UserDefinedComponents.f90</a>

      <a class="list-group-item" href="../sourcefile/utilityroutines.f90.html">UtilityRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/vectorutilities.f90.html">VectorUtilities.f90</a>

      <a class="list-group-item" href="../sourcefile/ventilatedslab.f90.html">VentilatedSlab.f90</a>

      <a class="list-group-item" href="../sourcefile/watermanager.f90.html">WaterManager.f90</a>

      <a class="list-group-item" href="../sourcefile/weathermanager.f90.html">WeatherManager.f90</a>

      <a class="list-group-item" href="../sourcefile/windowac.f90.html">WindowAC.f90</a>

      <a class="list-group-item" href="../sourcefile/windowcomplexmanager.f90.html">WindowComplexManager.f90</a>

      <a class="list-group-item" href="../sourcefile/windowequivalentlayer.f90.html">WindowEquivalentLayer.f90</a>

      <a class="list-group-item" href="../sourcefile/windowmanager.f90.html">WindowManager.f90</a>

      <a class="list-group-item" href="../sourcefile/windturbine.f90.html">WindTurbine.f90</a>

      <a class="list-group-item" href="../sourcefile/zoneairloopequipmentmanager.f90.html">Zoneairloopequipmentmanager.f90</a>

      <a class="list-group-item" href="../sourcefile/zonecontaminantpredictorcorrector.f90.html">ZoneContaminantPredictorCorrector.f90</a>

      <a class="list-group-item" href="../sourcefile/zonedehumidifier.f90.html">ZoneDehumidifier.f90</a>

      <a class="list-group-item" href="../sourcefile/zoneequipmentmanager.f90.html">Zoneequipmentmanager.f90</a>

      <a class="list-group-item" href="../sourcefile/zoneplenumcomponent.f90.html">ZonePlenumComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/zonetemppredictorcorrector.f90.html">ZoneTempPredictorCorrector.f90</a>

    </div>
  </div>
</div>


</div>

    </div>
    <div class="col-md-9" id='text'>


    <h3>This File Depends On</h3>

                <div class="depgraph"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: sourcefile~~planteirchillers.f90~~EfferentGraph Pages: 1 -->
<svg id="sourcefileplanteirchillersf90EfferentGraph" width="641pt" height="1043pt"
 viewBox="0.00 0.00 641.00 1042.62" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph" class="graph" transform="scale(.2613 .2613) rotate(0) translate(4 3986.0227)">
<title>sourcefile~~planteirchillers.f90~~EfferentGraph</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-3986.0227 2449.052,-3986.0227 2449.052,4 -4,4"/>
<!-- sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node1" class="node">
<title>sourcefile~planteirchillers.f90</title>
<polygon fill="none" stroke="#000000" points="2445.0303,-1210.2191 2339.1172,-1210.2191 2339.1172,-1188.2082 2445.0303,-1188.2082 2445.0303,-1210.2191"/>
<text text-anchor="middle" x="2392.0737" y="-1196.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#000000">PlantEIRChillers.f90</text>
</g>
<!-- sourcefile~datahvacglobals.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node2" class="node">
<title>sourcefile~datahvacglobals.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node2"><a xlink:href="../sourcefile/datahvacglobals.f90.html" xlink:title="DataHVACGlobals.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="643.4123,-3044.2191 528.0262,-3044.2191 528.0262,-3022.2082 643.4123,-3022.2082 643.4123,-3044.2191"/>
<text text-anchor="middle" x="585.7192" y="-3030.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataHVACGlobals.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datahvacglobals.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge247" class="edge">
<title>sourcefile~datahvacglobals.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M2120.0962,-3263.2137C2241.0462,-3187.2202 2126.59,-3031.5424 2256.5284,-2972.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M959.8616,-3074.2137C1226.5225,-3083.348 1293.5298,-2979.9071 1557.583,-3018.2137 1723.2027,-3042.2403 1767.5019,-3053.2771 1918.6055,-3125.2137 1967.6066,-3148.5418 2074.1431,-3292.0862 2120.0962,-3263.2137"/>
</g>
<!-- sourcefile~standardratings.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node13" class="node">
<title>sourcefile~standardratings.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node13"><a xlink:href="../sourcefile/standardratings.f90.html" xlink:title="StandardRatings.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="2173.827,-2964.2191 2066.3654,-2964.2191 2066.3654,-2942.2082 2173.827,-2942.2082 2173.827,-2964.2191"/>
<text text-anchor="middle" x="2120.0962" y="-2950.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">StandardRatings.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datahvacglobals.f90&#45;&gt;sourcefile~standardratings.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge150" class="edge">
<title>sourcefile~datahvacglobals.f90&#45;&gt;sourcefile~standardratings.f90</title>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M959.8616,-3074.2137C998.7815,-3074.1939 1009.6683,-3068.399 1044.0784,-3050.2137 1062.4923,-3040.4821 1061.5374,-3029.701 1080.0784,-3020.2137 1318.8728,-2898.0233 1406.7019,-2929.9148 1674.5929,-2916.2137"/>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M765.059,-3072.2137C850.3955,-3057.5723 873.3288,-3071.2495 959.8616,-3074.2137"/>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M1674.5929,-2916.2137C1815.6144,-2908.0823 1867.6165,-2850.0494 1992.4182,-2916.2137"/>
</g>
<!-- sourcefile~general.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node19" class="node">
<title>sourcefile~general.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node19"><a xlink:href="../sourcefile/general.f90.html" xlink:title="General.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="798.4277,-2076.2191 731.6902,-2076.2191 731.6902,-2054.2082 798.4277,-2054.2082 798.4277,-2076.2191"/>
<text text-anchor="middle" x="765.059" y="-2062.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">General.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datahvacglobals.f90&#45;&gt;sourcefile~general.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge185" class="edge">
<title>sourcefile~datahvacglobals.f90&#45;&gt;sourcefile~general.f90</title>
<path fill="none" stroke="#1400ff" stroke-dasharray="5,2" d="M591.3467,-3021.9664C604.8225,-2994.4671 638.9726,-2921.3148 654.4731,-2856.2137 692.7423,-2695.4858 668.0448,-2649.9053 690.4731,-2486.2137 711.6268,-2331.8256 748.2442,-2147.5333 760.7376,-2086.2068"/>
<polygon fill="#1400ff" stroke="#1400ff" points="764.205,-2086.7204 762.7805,-2076.2218 757.347,-2085.3173 764.205,-2086.7204"/>
</g>
<!-- sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node27" class="node">
<title>sourcefile~runtimelanguageprocessor.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node27"><a xlink:href="../sourcefile/runtimelanguageprocessor.f90.html" xlink:title="RuntimeLanguageProcessor.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1755.6127,-1373.2191 1593.5731,-1373.2191 1593.5731,-1351.2082 1755.6127,-1351.2082 1755.6127,-1373.2191"/>
<text text-anchor="middle" x="1674.5929" y="-1359.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">RuntimeLanguageProcessor.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datahvacglobals.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge19" class="edge">
<title>sourcefile~datahvacglobals.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M615.1302,-3044.2343C650.3184,-3056.3341 711.2354,-3073.857 765.059,-3072.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M765.059,-3072.2137C836.5204,-3070.0318 1451.7293,-2064.694 1557.583,-1811.2137 1623.4608,-1653.4608 1660.5269,-1448.6932 1671.2774,-1383.2737"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1674.7401,-1383.7852 1672.8795,-1373.3551 1667.8296,-1382.669 1674.7401,-1383.7852"/>
</g>
<!-- sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node48" class="node">
<title>sourcefile~branchinputmanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node48"><a xlink:href="../sourcefile/branchinputmanager.f90.html" xlink:title="BranchInputManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1918.6068,-3156.2191 1791.6014,-3156.2191 1791.6014,-3134.2082 1918.6068,-3134.2082 1918.6068,-3156.2191"/>
<text text-anchor="middle" x="1855.1041" y="-3142.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">BranchInputManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datahvacglobals.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge197" class="edge">
<title>sourcefile~datahvacglobals.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M959.8616,-3074.2137C1063.0789,-3074.1613 1033.955,-3225.7627 1137.1608,-3224.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1137.1608,-3224.2137C1194.5565,-3223.3522 1326.2761,-3154.0274 1375.3286,-3124.2137 1393.1264,-3113.3963 1393.1104,-3104.307 1411.3286,-3094.2137 1441.25,-3077.6364 1450.2508,-3070.5466 1484.4558,-3070.2137"/>
</g>
<!-- sourcefile~plantutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node3" class="node">
<title>sourcefile~plantutilities.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node3"><a xlink:href="../sourcefile/plantutilities.f90.html" xlink:title="PlantUtilities.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="2163.8808,-3445.2191 2076.3115,-3445.2191 2076.3115,-3423.2082 2163.8808,-3423.2082 2163.8808,-3445.2191"/>
<text text-anchor="middle" x="2120.0962" y="-3431.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">PlantUtilities.f90</text>
</a>
</g>
</g>
<!-- sourcefile~plantutilities.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge248" class="edge">
<title>sourcefile~plantutilities.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M2124.2764,-3422.8726C2133.695,-3397.1462 2157.0707,-3332.3161 2173.9614,-3277.2137 2215.1192,-3142.9454 2123.353,-3016.7809 2256.5284,-2972.2137"/>
</g>
<!-- sourcefile~dataipshortcuts.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node4" class="node">
<title>sourcefile~dataipshortcuts.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node4"><a xlink:href="../sourcefile/dataipshortcuts.f90.html" xlink:title="DataIPShortCuts.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="453.3838,-2321.2191 344.7839,-2321.2191 344.7839,-2299.2082 453.3838,-2299.2082 453.3838,-2321.2191"/>
<text text-anchor="middle" x="399.0839" y="-2307.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataIPShortCuts.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge249" class="edge">
<title>sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M453.3864,-2316.6314C464.0644,-2320.4185 474.0787,-2326.2595 480.9653,-2335.2137 547.3258,-2421.4974 472.501,-3214.8581 516.9653,-3314.2137 767.0288,-3872.9808 1184.8923,-3754.6363 1791.6028,-3836.2137 1937.0707,-3855.773 2015.7544,-3973.4429 2120.0962,-3870.2137"/>
</g>
<!-- sourcefile~curvemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node12" class="node">
<title>sourcefile~curvemanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node12"><a xlink:href="../sourcefile/curvemanager.f90.html" xlink:title="CurveManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1533.8457,-2966.2191 1435.0659,-2966.2191 1435.0659,-2944.2082 1533.8457,-2944.2082 1533.8457,-2966.2191"/>
<text text-anchor="middle" x="1484.4558" y="-2952.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">CurveManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~curvemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge144" class="edge">
<title>sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~curvemanager.f90</title>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M453.47,-2317.0485C464.0091,-2320.8241 473.9442,-2326.5551 480.9653,-2335.2137 538.1531,-2405.7385 469.502,-2664.8093 516.9653,-2742.2137 554.6457,-2803.6638 605.043,-2775.7485 654.4731,-2828.2137 677.386,-2852.5333 661.7411,-2877.1574 690.4731,-2894.2137 861.2486,-2995.5916 947.1852,-2824.3255 1137.1608,-2882.2137"/>
</g>
<!-- sourcefile~schedulemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node18" class="node">
<title>sourcefile~schedulemanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node18"><a xlink:href="../sourcefile/schedulemanager.f90.html" xlink:title="ScheduleManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1194.3257,-1408.2191 1079.9959,-1408.2191 1079.9959,-1386.2082 1194.3257,-1386.2082 1194.3257,-1408.2191"/>
<text text-anchor="middle" x="1137.1608" y="-1394.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">ScheduleManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~schedulemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge180" class="edge">
<title>sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~schedulemanager.f90</title>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M404.1843,-2299.1716C418.8887,-2266.8031 461.5494,-2169.0244 480.9653,-2083.2137 498.8547,-2004.1499 470.7996,-1786.8457 516.9653,-1720.2137 608.0175,-1588.796 733.6711,-1680.9245 839.6448,-1561.2137 871.7881,-1524.9037 840.3646,-1491.484 875.6448,-1458.2137 903.96,-1431.5115 923.5686,-1448.2699 959.8616,-1434.2137"/>
</g>
<!-- sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~general.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge189" class="edge">
<title>sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~general.f90</title>
<path fill="none" stroke="#1400ff" stroke-dasharray="5,2" d="M446.221,-2321.2233C493.4226,-2331.199 562.315,-2342.5946 585.7192,-2330.2137"/>
<path fill="none" stroke="#1400ff" stroke-dasharray="5,2" d="M585.7192,-2330.2137C686.5568,-2276.87 741.0166,-2138.5901 758.6185,-2085.963"/>
<polygon fill="#1400ff" stroke="#1400ff" points="761.9767,-2086.9534 761.7347,-2076.3614 755.3186,-2084.7925 761.9767,-2086.9534"/>
</g>
<!-- sourcefile~inputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node26" class="node">
<title>sourcefile~inputprocessor.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node26"><a xlink:href="../sourcefile/inputprocessor.f90.html" xlink:title="InputProcessor.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="635.2783,-1751.2191 536.1602,-1751.2191 536.1602,-1729.2082 635.2783,-1729.2082 635.2783,-1751.2191"/>
<text text-anchor="middle" x="585.7192" y="-1737.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">InputProcessor.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~inputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge242" class="edge">
<title>sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~inputprocessor.f90</title>
<path fill="none" stroke="#ff003d" stroke-dasharray="5,2" d="M404.1267,-2299.1584C418.6749,-2266.7539 460.9545,-2168.8876 480.9653,-2083.2137 497.141,-2013.9596 472.9479,-1821.0728 516.9653,-1765.2137 519.8285,-1761.5802 523.2687,-1758.4746 527.0637,-1755.8202"/>
<polygon fill="#ff003d" stroke="#ff003d" points="528.9734,-1758.7583 535.8522,-1750.7002 525.4497,-1752.7099 528.9734,-1758.7583"/>
</g>
<!-- sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node28" class="node">
<title>sourcefile~outputprocessor.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node28"><a xlink:href="../sourcefile/outputprocessor.f90.html" xlink:title="OutputProcessor.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1538.1815,-1295.2191 1430.7301,-1295.2191 1430.7301,-1273.2082 1538.1815,-1273.2082 1538.1815,-1295.2191"/>
<text text-anchor="middle" x="1484.4558" y="-1281.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">OutputProcessor.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge57" class="edge">
<title>sourcefile~dataipshortcuts.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M402.2641,-2299.1502C413.4687,-2261.4067 453.8716,-2135.2349 516.9653,-2048.2137 630.8486,-1891.1414 747.1352,-1924.7512 839.6448,-1754.2137 886.8874,-1667.1239 809.7434,-1608.1968 875.6448,-1534.2137 927.4195,-1476.0895 976.9771,-1525.6656 1044.0784,-1486.2137 1063.5842,-1474.7453 1060.3631,-1461.3181 1080.0784,-1450.2137 1102.8383,-1437.3942 1112.7179,-1445.4277 1137.1608,-1436.2137"/>
</g>
<!-- sourcefile~datasizing.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node5" class="node">
<title>sourcefile~datasizing.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node5"><a xlink:href="../sourcefile/datasizing.f90.html" xlink:title="DataSizing.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="439.3754,-3540.2191 358.7923,-3540.2191 358.7923,-3518.2082 439.3754,-3518.2082 439.3754,-3540.2191"/>
<text text-anchor="middle" x="399.0839" y="-3526.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataSizing.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datasizing.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge250" class="edge">
<title>sourcefile~datasizing.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M399.9866,-3540.2777C405.1323,-3594.9 436.0814,-3836.0627 585.7192,-3908.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M585.7192,-3908.2137C873.1906,-4046.8238 983.6424,-3946.2137 1302.7859,-3946.2137 1302.7859,-3946.2137 1302.7859,-3946.2137 1855.1041,-3946.2137 1977.6264,-3946.2137 2036.5483,-3959.8321 2120.0962,-3870.2137"/>
</g>
<!-- sourcefile~datasizing.f90&#45;&gt;sourcefile~plantutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge10" class="edge">
<title>sourcefile~datasizing.f90&#45;&gt;sourcefile~plantutilities.f90</title>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M765.059,-3756.2137C907.9571,-3784.1874 935.8751,-3826.0185 1080.0784,-3846.2137 1270.8826,-3872.9351 1512.4603,-3885.813 1755.6028,-3808.2137 1942.0691,-3748.7026 2073.2507,-3523.5949 2109.786,-3454.5041"/>
<polygon fill="#ff3d00" stroke="#ff3d00" points="2112.9704,-3455.9668 2114.485,-3445.4807 2106.7618,-3452.7336 2112.9704,-3455.9668"/>
</g>
<!-- sourcefile~dataplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node20" class="node">
<title>sourcefile~dataplant.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node20"><a xlink:href="../sourcefile/dataplant.f90.html" xlink:title="DataPlant.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="2030.0446,-3274.2191 1954.7918,-3274.2191 1954.7918,-3252.2082 2030.0446,-3252.2082 2030.0446,-3274.2191"/>
<text text-anchor="middle" x="1992.4182" y="-3260.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataPlant.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datasizing.f90&#45;&gt;sourcefile~dataplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge213" class="edge">
<title>sourcefile~datasizing.f90&#45;&gt;sourcefile~dataplant.f90</title>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M585.7192,-3708.2137C660.3531,-3743.3993 683.8707,-3741.4925 765.059,-3756.2137"/>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M765.059,-3756.2137C876.8031,-3776.4753 1653.0834,-3553.0713 1755.6028,-3504.2137 1835.4086,-3466.1806 1858.7676,-3455.2899 1918.6055,-3390.2137 1948.6253,-3357.5657 1971.9231,-3310.6638 1983.7773,-3283.9424"/>
<polygon fill="#5100ff" stroke="#5100ff" points="1987.1261,-3285.0163 1987.8821,-3274.4485 1980.7009,-3282.2383 1987.1261,-3285.0163"/>
</g>
<!-- sourcefile~datasizing.f90&#45;&gt;sourcefile~inputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge243" class="edge">
<title>sourcefile~datasizing.f90&#45;&gt;sourcefile~inputprocessor.f90</title>
<path fill="none" stroke="#ff003d" stroke-dasharray="5,2" d="M439.4056,-3526.7322C454.8969,-3523.5849 471.1919,-3517.1347 480.9653,-3504.2137 539.2595,-3427.1455 460.7111,-1843.7831 516.9653,-1765.2137 519.8189,-1761.2281 523.3747,-1757.876 527.3562,-1755.057"/>
<polygon fill="#ff003d" stroke="#ff003d" points="529.1674,-1758.0525 536.0378,-1749.9872 525.6374,-1752.0077 529.1674,-1758.0525"/>
</g>
<!-- sourcefile~datasizing.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge204" class="edge">
<title>sourcefile~datasizing.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M406.2142,-3540.5751C428.0485,-3574.1465 497.8757,-3672.7552 585.7192,-3708.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M585.7192,-3708.2137C668.1376,-3741.4823 1294.3621,-3616.8745 1375.3286,-3580.2137 1489.8695,-3528.3506 1495.1416,-3478.4355 1593.583,-3400.2137 1664.5772,-3343.8015 1691.6012,-3340.4499 1755.6028,-3276.2137 1791.1253,-3240.5609 1824.8916,-3191.9179 1842.487,-3165.0631"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1845.5151,-3166.8261 1848.0128,-3156.5299 1839.6394,-3163.0213 1845.5151,-3166.8261"/>
</g>
<!-- sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node6" class="node">
<title>sourcefile~emsmanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node6"><a xlink:href="../sourcefile/emsmanager.f90.html" xlink:title="EMSManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="2303.1626,-1210.2191 2209.8943,-1210.2191 2209.8943,-1188.2082 2303.1626,-1188.2082 2303.1626,-1210.2191"/>
<text text-anchor="middle" x="2256.5284" y="-1196.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">EMSManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~emsmanager.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge251" class="edge">
<title>sourcefile~emsmanager.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M2303.1754,-1199.2137C2311.4316,-1199.2137 2320.1525,-1199.2137 2328.7764,-1199.2137"/>
<polygon fill="#ff0000" stroke="#ff0000" points="2328.8218,-1202.7137 2338.8218,-1199.2137 2328.8218,-1195.7137 2328.8218,-1202.7137"/>
</g>
<!-- sourcefile~datainterfaces.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node7" class="node">
<title>sourcefile~datainterfaces.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node7"><a xlink:href="../sourcefile/datainterfaces.f90.html" xlink:title="DataInterfaces.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="447.8836,-2074.2191 350.2841,-2074.2191 350.2841,-2052.2082 447.8836,-2052.2082 447.8836,-2074.2191"/>
<text text-anchor="middle" x="399.0839" y="-2060.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataInterfaces.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge252" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M2120.0962,-3870.2137C2196.6315,-3804.428 2164.7226,-3014.1314 2256.5284,-2972.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M404.6316,-2074.6726C420.1487,-2107.3741 463.9684,-2204.3182 480.9653,-2290.2137 498.4098,-2378.3711 477.578,-3017.4381 516.9653,-3098.2137 589.1586,-3246.2677 938.0559,-3496.7781 1080.0784,-3580.2137 1289.8956,-3703.4773 1359.121,-3705.0619 1593.583,-3770.2137 1600.7547,-3772.2065 2114.4514,-3875.0656 2120.0962,-3870.2137"/>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~plantutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge11" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~plantutilities.f90</title>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M765.059,-3148.2137C828.6524,-3177.8517 1171.0675,-3537.5205 1230.2432,-3575.2137 1333.3454,-3640.8868 1371.5832,-3633.2796 1484.4558,-3680.2137"/>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge111" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M1674.5929,-1989.2137C2061.0472,-2075.6211 2225.5041,-1353.6803 2252.4762,-1220.2079"/>
<polygon fill="#fff400" stroke="#fff400" points="2255.9135,-1220.8674 2254.4269,-1210.3774 2249.0474,-1219.5049 2255.9135,-1220.8674"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M426.7773,-2052.1899C478.0588,-2032.1418 591.5964,-1989.4576 690.4731,-1964.2137 988.1584,-1888.2124 1072.8485,-1816.3764 1375.3286,-1870.2137 1460.2953,-1885.3365 1484.8713,-1890.7266 1557.583,-1937.2137 1576.6472,-1949.402 1573.6202,-1962.5607 1593.583,-1973.2137 1625.9611,-1990.492 1638.2966,-1983.7857 1674.5929,-1989.2137"/>
</g>
<!-- sourcefile~reportsizingmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node8" class="node">
<title>sourcefile~reportsizingmanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node8"><a xlink:href="../sourcefile/reportsizingmanager.f90.html" xlink:title="ReportSizingManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1549.9509,-264.2191 1418.9607,-264.2191 1418.9607,-242.2082 1549.9509,-242.2082 1549.9509,-264.2191"/>
<text text-anchor="middle" x="1484.4558" y="-250.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">ReportSizingManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~reportsizingmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge119" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~reportsizingmanager.f90</title>
<path fill="none" stroke="#8eff00" stroke-dasharray="5,2" d="M401.0915,-2052.0305C411.4446,-1993.8948 459.1566,-1720.2141 480.9653,-1494.2137 488.7337,-1413.7108 480.768,-839.5379 516.9653,-767.2137 534.7303,-731.7182 570.8849,-747.0303 585.7192,-710.2137"/>
<path fill="none" stroke="#8eff00" stroke-dasharray="5,2" d="M585.7192,-710.2137C629.5201,-601.5064 609.4953,-552.9389 690.4731,-468.2137 842.7059,-308.9361 921.2293,-209.4212 1137.1608,-253.2137"/>
</g>
<!-- sourcefile~globalnames.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node9" class="node">
<title>sourcefile~globalnames.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node9"><a xlink:href="../sourcefile/globalnames.f90.html" xlink:title="GlobalNames.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="811.6828,-608.2191 718.4351,-608.2191 718.4351,-586.2082 811.6828,-586.2082 811.6828,-608.2191"/>
<text text-anchor="middle" x="765.059" y="-594.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">GlobalNames.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~globalnames.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge123" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~globalnames.f90</title>
<path fill="none" stroke="#51ff00" stroke-dasharray="5,2" d="M585.7192,-710.2137C597.8151,-680.1934 626.1752,-701.922 654.4731,-686.2137 664.1317,-680.8521 714.5087,-639.3419 743.8282,-614.9497"/>
<polygon fill="#51ff00" stroke="#51ff00" points="746.3935,-617.3681 751.8359,-608.2779 741.9126,-611.9901 746.3935,-617.3681"/>
</g>
<!-- sourcefile~outairnodemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node11" class="node">
<title>sourcefile~outairnodemanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node11"><a xlink:href="../sourcefile/outairnodemanager.f90.html" xlink:title="OutAirNodeManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1917.8434,-2170.2191 1792.3649,-2170.2191 1792.3649,-2148.2082 1917.8434,-2148.2082 1917.8434,-2170.2191"/>
<text text-anchor="middle" x="1855.1041" y="-2156.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">OutAirNodeManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~outairnodemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge138" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~outairnodemanager.f90</title>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M447.9875,-2065.8688C485.7396,-2067.2146 539.2073,-2067.5889 585.7192,-2062.2137"/>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M585.7192,-2062.2137C638.5846,-2056.1042 639.9017,-2020.7847 690.4731,-2004.2137 856.3718,-1949.8527 905.8983,-1965.9936 1080.0784,-1954.2137 1259.397,-1942.0862 1320.6644,-1877.223 1484.4558,-1951.2137"/>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~curvemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge146" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~curvemanager.f90</title>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M404.2347,-2074.2444C419.0755,-2106.5826 462.0694,-2204.2869 480.9653,-2290.2137 500.7992,-2380.4058 457.9015,-2633.2245 516.9653,-2704.2137 557.5184,-2752.9546 605.9381,-2701.4144 654.4731,-2742.2137 683.0832,-2766.2637 660.3094,-2796.1436 690.4731,-2818.2137 754.4712,-2865.0396 965.7,-2854.1615 1044.0784,-2866.2137 1085.5674,-2872.5934 1097.5789,-2868.2382 1137.1608,-2882.2137"/>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M1137.1608,-2882.2137C1182.1468,-2897.1085 1184.9154,-2920.3936 1230.2432,-2934.2137 1294.775,-2953.8889 1372.5277,-2957.5838 1424.9129,-2957.3502"/>
<polygon fill="#00ff66" stroke="#00ff66" points="1425.0738,-2960.8489 1435.0403,-2957.2547 1425.0077,-2953.8493 1425.0738,-2960.8489"/>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~standardratings.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge156" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~standardratings.f90</title>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M585.7192,-2614.2137C850.4673,-2847.796 1022.4899,-2713.7477 1375.3286,-2701.2137 1508.3765,-2696.4873 1542.0593,-2675.6077 1674.5929,-2688.2137"/>
</g>
<!-- sourcefile~dataenvironment.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node14" class="node">
<title>sourcefile~dataenvironment.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node14"><a xlink:href="../sourcefile/dataenvironment.f90.html" xlink:title="DataEnvironment.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1014.9996,-1636.2191 904.7235,-1636.2191 904.7235,-1614.2082 1014.9996,-1614.2082 1014.9996,-1636.2191"/>
<text text-anchor="middle" x="959.8616" y="-1622.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataEnvironment.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~dataenvironment.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge160" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~dataenvironment.f90</title>
<path fill="none" stroke="#00ffe0" stroke-dasharray="5,2" d="M585.7192,-1779.2137C611.8768,-1761.3017 626.8549,-1775.7793 654.4731,-1760.2137 673.6456,-1749.408 671.5301,-1737.4166 690.4731,-1726.2137 720.4468,-1708.4871 731.716,-1712.2585 765.059,-1702.2137"/>
<path fill="none" stroke="#00ffe0" stroke-dasharray="5,2" d="M420.2836,-2052.0295C438.8883,-2041.1665 465.3469,-2022.9959 480.9653,-2000.2137 512.9316,-1953.5853 492.5292,-1929.1933 516.9653,-1878.2137 540.1205,-1829.9064 541.5191,-1809.4807 585.7192,-1779.2137"/>
</g>
<!-- sourcefile~psychroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node16" class="node">
<title>sourcefile~psychroutines.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node16"><a xlink:href="../sourcefile/psychroutines.f90.html" xlink:title="PsychRoutines.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1186.7096,-2170.2191 1087.6119,-2170.2191 1087.6119,-2148.2082 1186.7096,-2148.2082 1186.7096,-2170.2191"/>
<text text-anchor="middle" x="1137.1608" y="-2156.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">PsychRoutines.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~psychroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge168" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~psychroutines.f90</title>
<path fill="none" stroke="#00a3ff" stroke-dasharray="5,2" d="M434.7759,-2074.2899C513.429,-2098.0499 708.025,-2153.2888 875.6448,-2172.2137 950.0315,-2180.6122 969.3991,-2177.4034 1044.0784,-2172.2137 1054.9209,-2171.4602 1066.4228,-2170.2187 1077.5069,-2168.7942"/>
<polygon fill="#00a3ff" stroke="#00a3ff" points="1078.0946,-2172.2467 1087.5379,-2167.4432 1077.1602,-2165.3093 1078.0946,-2172.2467"/>
</g>
<!-- sourcefile~branchnodeconnections.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node17" class="node">
<title>sourcefile~branchnodeconnections.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node17"><a xlink:href="../sourcefile/branchnodeconnections.f90.html" xlink:title="BranchNodeConnections.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1557.7104,-2666.2191 1411.2012,-2666.2191 1411.2012,-2644.2082 1557.7104,-2644.2082 1557.7104,-2666.2191"/>
<text text-anchor="middle" x="1484.4558" y="-2652.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">BranchNodeConnections.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~branchnodeconnections.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge174" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~branchnodeconnections.f90</title>
<path fill="none" stroke="#0066ff" stroke-dasharray="5,2" d="M1137.1608,-2692.2137C1239.8529,-2702.8147 1359.5668,-2682.9486 1428.2374,-2668.4522"/>
<polygon fill="#0066ff" stroke="#0066ff" points="1429.3594,-2671.791 1438.4002,-2666.267 1427.8879,-2664.9474 1429.3594,-2671.791"/>
<path fill="none" stroke="#0066ff" stroke-dasharray="5,2" d="M585.7192,-2614.2137C751.4431,-2733.0522 855.7638,-2556.9538 1044.0784,-2635.2137 1064.1216,-2643.5432 1061.8046,-2656.5013 1080.0784,-2668.2137 1103.2488,-2683.0644 1109.7456,-2689.801 1137.1608,-2692.2137"/>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~schedulemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge184" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~schedulemanager.f90</title>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M400.506,-2051.8321C408.6636,-1988.3028 451.4571,-1678.0375 516.9653,-1612.2137 621.6611,-1507.0136 723.5119,-1618.6333 839.6448,-1526.2137 866.4022,-1504.9199 849.071,-1479.7362 875.6448,-1458.2137 905.8893,-1433.7181 923.5954,-1448.3388 959.8616,-1434.2137"/>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~general.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge193" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~general.f90</title>
<path fill="none" stroke="#1400ff" stroke-dasharray="5,2" d="M585.7192,-2062.2137C631.7521,-2056.8938 684.8667,-2058.7724 721.2755,-2061.2783"/>
<polygon fill="#1400ff" stroke="#1400ff" points="721.3169,-2064.7906 731.5463,-2062.0323 721.8295,-2057.8094 721.3169,-2064.7906"/>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~dataplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge214" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~dataplant.f90</title>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M1674.5929,-3414.2137C1765.7412,-3387.8412 1764.5105,-3328.4325 1855.1041,-3300.2137"/>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M959.8616,-3224.2137C1003.6563,-3239.7802 1007.0162,-3258.1658 1044.0784,-3286.2137 1060.2415,-3298.4455 1061.4708,-3306.1748 1080.0784,-3314.2137 1201.9931,-3366.8831 1244.3607,-3338.1984 1375.3286,-3360.2137 1508.613,-3382.6183 1544.7637,-3451.7778 1674.5929,-3414.2137"/>
</g>
<!-- sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node24" class="node">
<title>sourcefile~nodeinputmanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node24"><a xlink:href="../sourcefile/nodeinputmanager.f90.html" xlink:title="NodeInputManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1733.9285,-2284.2191 1615.2573,-2284.2191 1615.2573,-2262.2082 1733.9285,-2262.2082 1733.9285,-2284.2191"/>
<text text-anchor="middle" x="1674.5929" y="-2270.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">NodeInputManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge229" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M403.308,-2074.5039C415.6373,-2107.5451 452.5022,-2206.9651 480.9653,-2290.2137 529.9264,-2433.4142 465.2362,-2522.6308 585.7192,-2614.2137"/>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M585.7192,-2614.2137C634.6019,-2651.3709 1075.7591,-2578.2137 1137.1608,-2578.2137 1137.1608,-2578.2137 1137.1608,-2578.2137 1302.7859,-2578.2137 1472.9355,-2578.2137 1458.8001,-2433.0619 1593.583,-2329.2137 1611.6384,-2315.3022 1632.8575,-2300.6934 1649.049,-2289.886"/>
<polygon fill="#ff00b7" stroke="#ff00b7" points="1651.073,-2292.7435 1657.475,-2284.3016 1647.2059,-2286.9087 1651.073,-2292.7435"/>
</g>
<!-- sourcefile~fluidproperties.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node25" class="node">
<title>sourcefile~fluidproperties.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node25"><a xlink:href="../sourcefile/fluidproperties.f90.html" xlink:title="FluidProperties.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1009.9889,-2474.2191 909.7343,-2474.2191 909.7343,-2452.2082 1009.9889,-2452.2082 1009.9889,-2474.2191"/>
<text text-anchor="middle" x="959.8616" y="-2460.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">FluidProperties.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~fluidproperties.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge236" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~fluidproperties.f90</title>
<path fill="none" stroke="#ff007a" stroke-dasharray="5,2" d="M405.8996,-2074.3472C422.3732,-2100.5815 466.721,-2167.2933 516.9653,-2210.2137 650.7856,-2324.5273 843.7717,-2413.8366 923.3958,-2448.0649"/>
<polygon fill="#ff007a" stroke="#ff007a" points="922.4053,-2451.4475 932.9767,-2452.1521 925.152,-2445.0089 922.4053,-2451.4475"/>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~inputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge246" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~inputprocessor.f90</title>
<path fill="none" stroke="#ff003d" stroke-dasharray="5,2" d="M421.7803,-2052.0918C440.8339,-2041.4966 467.1006,-2023.6881 480.9653,-2000.2137 534.7002,-1909.2345 449.9496,-1846.9053 516.9653,-1765.2137 519.8993,-1761.6372 523.3901,-1758.5723 527.2199,-1755.9459"/>
<polygon fill="#ff003d" stroke="#ff003d" points="529.1326,-1758.8836 536.061,-1750.8682 525.6463,-1752.8135 529.1326,-1758.8836"/>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge30" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M585.7192,-1779.2137C627.8026,-1750.3961 994.8079,-1767.4001 1044.0784,-1754.2137 1316.2343,-1681.3752 1583.2927,-1447.1508 1655.5575,-1380.2264"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1658.1083,-1382.6333 1663.0338,-1373.2529 1653.3337,-1377.5144 1658.1083,-1382.6333"/>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge64" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M400.2434,-2051.9337C407.3744,-1984.607 447.2875,-1636.1381 516.9653,-1559.2137 618.6841,-1446.9161 706.9186,-1522.2972 839.6448,-1449.2137 857.6424,-1439.3036 857.4007,-1429.6624 875.6448,-1420.2137 910.2047,-1402.3148 923.8909,-1411.0754 959.8616,-1396.2137"/>
</g>
<!-- sourcefile~dataruntimelanguage.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node31" class="node">
<title>sourcefile~dataruntimelanguage.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node31"><a xlink:href="../sourcefile/dataruntimelanguage.f90.html" xlink:title="DataRuntimeLanguage.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="654.2279,-1294.2191 517.2105,-1294.2191 517.2105,-1272.2082 654.2279,-1272.2082 654.2279,-1294.2191"/>
<text text-anchor="middle" x="585.7192" y="-1280.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataRuntimeLanguage.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~dataruntimelanguage.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge77" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~dataruntimelanguage.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M400.3818,-2051.9065C409.443,-1973.8257 464.4203,-1513.9627 516.9653,-1384.2137 529.6578,-1352.8722 553.2025,-1321.4004 569.1627,-1302.1132"/>
<polygon fill="#00ffff" stroke="#00ffff" points="571.9075,-1304.2877 575.6901,-1294.3911 566.5615,-1299.7688 571.9075,-1304.2877"/>
</g>
<!-- sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node34" class="node">
<title>sourcefile~dataheatbalance.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node34"><a xlink:href="../sourcefile/dataheatbalance.f90.html" xlink:title="DataHeatBalance.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1192.9776,-798.2191 1081.344,-798.2191 1081.344,-776.2082 1192.9776,-776.2082 1192.9776,-798.2191"/>
<text text-anchor="middle" x="1137.1608" y="-784.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataHeatBalance.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge94" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~dataheatbalance.f90</title>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M400.7685,-2051.993C409.5101,-1993.6705 450.4682,-1719.2064 480.9653,-1494.2137 497.9958,-1368.5712 462.2782,-1325.605 516.9653,-1211.2137 578.2389,-1083.0451 819.6566,-773.1088 959.8616,-750.2137"/>
</g>
<!-- sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node39" class="node">
<title>sourcefile~sqlitefortranroutines.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node39"><a xlink:href="../sourcefile/sqlitefortranroutines.f90.html" xlink:title="SQLiteFortranRoutines.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1371.1836,-990.2191 1234.3881,-990.2191 1234.3881,-968.2082 1371.1836,-968.2082 1371.1836,-990.2191"/>
<text text-anchor="middle" x="1302.7859" y="-976.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SQLiteFortranRoutines.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge43" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M400.708,-2051.9694C414.677,-1955.2836 514.1126,-1267.586 516.9653,-1263.2137 653.4574,-1054.0137 801.6407,-1128.3689 1044.0784,-1068.2137 1110.8959,-1051.6345 1129.4224,-1053.4024 1194.2432,-1030.2137 1221.737,-1020.3781 1251.683,-1006.0127 1273.1427,-995.0326"/>
<polygon fill="#00ffff" stroke="#00ffff" points="1274.8063,-998.1127 1282.0767,-990.4061 1271.5873,-991.8967 1274.8063,-998.1127"/>
</g>
<!-- sourcefile~datainterfaces.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge205" class="edge">
<title>sourcefile~datainterfaces.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M404.6202,-2074.6749C420.1074,-2107.3823 463.8558,-2204.3406 480.9653,-2290.2137 497.5494,-2373.4497 467.2296,-2984.4414 516.9653,-3053.2137 551.5607,-3101.0505 710,-3126.913 765.059,-3148.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M959.8616,-3224.2137C1034.1104,-3250.6049 1058.3709,-3222.9747 1137.1608,-3224.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M765.059,-3148.2137C797.2965,-3163.2381 806.5075,-3164.2939 839.6448,-3177.2137 893.0939,-3198.0528 905.8068,-3205.0003 959.8616,-3224.2137"/>
</g>
<!-- sourcefile~reportsizingmanager.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge253" class="edge">
<title>sourcefile~reportsizingmanager.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M2256.5284,-368.2137C2320.7215,-422.7845 2379.2276,-1053.0641 2390.2249,-1177.8299"/>
<polygon fill="#ff0000" stroke="#ff0000" points="2386.7566,-1178.347 2391.1146,-1188.004 2393.73,-1177.7371 2386.7566,-1178.347"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1674.5929,-292.2137C1935.0868,-305.5365 2057.7987,-199.2727 2256.5284,-368.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1519.7677,-264.2252C1557.6219,-275.137 1619.6942,-290.4717 1674.5929,-292.2137"/>
</g>
<!-- sourcefile~globalnames.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge254" class="edge">
<title>sourcefile~globalnames.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M778.2091,-586.0261C806.2599,-562.2126 869.8918,-508.484 875.6448,-506.2137 1078.5119,-426.1536 1637.0109,-444.2137 1855.1041,-444.2137 1855.1041,-444.2137 1855.1041,-444.2137 1992.4182,-444.2137 2022.9546,-444.2137 2233.2628,-348.4354 2256.5284,-368.2137"/>
</g>
<!-- sourcefile~dataloopnode.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node10" class="node">
<title>sourcefile~dataloopnode.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node10"><a xlink:href="../sourcefile/dataloopnode.f90.html" xlink:title="DataLoopNode.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1352.9388,-3236.2191 1252.6329,-3236.2191 1252.6329,-3214.2082 1352.9388,-3214.2082 1352.9388,-3236.2191"/>
<text text-anchor="middle" x="1302.7859" y="-3222.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataLoopNode.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataloopnode.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge255" class="edge">
<title>sourcefile~dataloopnode.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1992.4182,-3376.2137C2064.9561,-3354.291 2055.9318,-3303.5284 2120.0962,-3263.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1674.5929,-3452.2137C1712.0655,-3449.7847 1726.3977,-3451.8179 1755.6028,-3428.2137 1781.5896,-3407.2105 1762.8708,-3379.2699 1791.6028,-3362.2137 1840.1403,-3333.4002 1862.4075,-3356.9312 1918.6055,-3362.2137 1951.8495,-3365.3385 1960.4555,-3385.8735 1992.4182,-3376.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1311.5834,-3236.228C1349.7274,-3282.6222 1506.4718,-3459.4184 1674.5929,-3452.2137"/>
</g>
<!-- sourcefile~dataloopnode.f90&#45;&gt;sourcefile~plantutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge3" class="edge">
<title>sourcefile~dataloopnode.f90&#45;&gt;sourcefile~plantutilities.f90</title>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M1992.4182,-3566.2137C2046.4193,-3543.3174 2088.7433,-3485.1607 2108.2855,-3454.246"/>
<polygon fill="#ff3d00" stroke="#ff3d00" points="2111.3484,-3455.947 2113.6067,-3445.5956 2105.3861,-3452.2793 2111.3484,-3455.947"/>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M1674.5929,-3452.2137C1711.7059,-3446.4933 1720.0246,-3464.2017 1755.6028,-3476.2137 1782.2728,-3485.218 1966.5025,-3577.2018 1992.4182,-3566.2137"/>
</g>
<!-- sourcefile~dataloopnode.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge101" class="edge">
<title>sourcefile~dataloopnode.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M1353.0011,-3224.993C1424.4437,-3224.6985 1559.5324,-3224.2137 1674.5929,-3224.2137 1674.5929,-3224.2137 1674.5929,-3224.2137 1992.4182,-3224.2137 2130.0948,-3224.2137 2128.5228,-3103.1759 2173.9614,-2973.2137 2234.6359,-2799.6743 2253.922,-1409.6634 2256.2744,-1220.5021"/>
<polygon fill="#fff400" stroke="#fff400" points="2259.7775,-1220.2641 2256.4002,-1210.222 2252.778,-1220.1784 2259.7775,-1220.2641"/>
</g>
<!-- sourcefile~dataloopnode.f90&#45;&gt;sourcefile~outairnodemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge130" class="edge">
<title>sourcefile~dataloopnode.f90&#45;&gt;sourcefile~outairnodemanager.f90</title>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M1484.4558,-3108.2137C1529.1698,-3057.7053 1530.2146,-3036.8692 1557.583,-2975.2137 1686.7462,-2684.2346 1673.3185,-2593.7822 1791.6028,-2298.2137 1808.8221,-2255.1861 1832.1089,-2206.1588 1845.1653,-2179.3539"/>
<polygon fill="#00ff28" stroke="#00ff28" points="1848.3798,-2180.7478 1849.6344,-2170.2275 1842.0931,-2177.6693 1848.3798,-2180.7478"/>
</g>
<!-- sourcefile~dataloopnode.f90&#45;&gt;sourcefile~curvemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge139" class="edge">
<title>sourcefile~dataloopnode.f90&#45;&gt;sourcefile~curvemanager.f90</title>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M1311.575,-3214.0499C1325.7728,-3195.7891 1354.2868,-3158.1607 1375.3286,-3124.2137 1393.3447,-3095.1481 1393.2573,-3085.2448 1411.3286,-3056.2137 1429.7648,-3026.5963 1453.9681,-2994.2438 1469.3719,-2974.3363"/>
<polygon fill="#00ff66" stroke="#00ff66" points="1472.1978,-2976.404 1475.585,-2966.3651 1466.6768,-2972.1006 1472.1978,-2976.404"/>
</g>
<!-- sourcefile~dataloopnode.f90&#45;&gt;sourcefile~branchnodeconnections.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge170" class="edge">
<title>sourcefile~dataloopnode.f90&#45;&gt;sourcefile~branchnodeconnections.f90</title>
<path fill="none" stroke="#0066ff" stroke-dasharray="5,2" d="M1306.3334,-3214.0833C1328.4889,-3144.5689 1447.8768,-2769.9824 1477.701,-2676.4074"/>
<polygon fill="#0066ff" stroke="#0066ff" points="1481.1087,-2677.241 1480.8107,-2666.6504 1474.4392,-2675.1153 1481.1087,-2677.241"/>
</g>
<!-- sourcefile~dataloopnode.f90&#45;&gt;sourcefile~dataplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge208" class="edge">
<title>sourcefile~dataloopnode.f90&#45;&gt;sourcefile~dataplant.f90</title>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M1855.1041,-3300.2137C1884.8367,-3291.5178 1918.4095,-3282.4579 1944.9159,-3275.4798"/>
<polygon fill="#5100ff" stroke="#5100ff" points="1945.9209,-3278.8346 1954.7059,-3272.9123 1944.1452,-3272.0636 1945.9209,-3278.8346"/>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M1328.959,-3236.3171C1409.233,-3268.7852 1658.4353,-3357.733 1855.1041,-3300.2137"/>
</g>
<!-- sourcefile~dataloopnode.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge220" class="edge">
<title>sourcefile~dataloopnode.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M1351.5581,-3214.0979C1360.1023,-3210.6285 1368.4466,-3206.1037 1375.3286,-3200.2137 1401.3088,-3177.9782 1385.1851,-3154.2568 1411.3286,-3132.2137 1437.4801,-3110.1639 1461.7819,-3133.8258 1484.4558,-3108.2137"/>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M1484.4558,-3108.2137C1529.1698,-3057.7053 1536.9486,-3039.4371 1557.583,-2975.2137 1598.796,-2846.9406 1572.2261,-2807.2414 1593.583,-2674.2137 1617.0634,-2527.9588 1656.0525,-2353.8599 1669.6969,-2294.3554"/>
<polygon fill="#ff00b7" stroke="#ff00b7" points="1673.1752,-2294.8468 1672.0082,-2284.3165 1666.3537,-2293.2762 1673.1752,-2294.8468"/>
</g>
<!-- sourcefile~dataloopnode.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge195" class="edge">
<title>sourcefile~dataloopnode.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1484.4558,-3108.2137C1512.4631,-3076.577 1632.7594,-3102.2769 1674.5929,-3108.2137"/>
</g>
<!-- sourcefile~outairnodemanager.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge256" class="edge">
<title>sourcefile~outairnodemanager.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1859.7846,-2170.433C1873.9472,-2202.4859 1919.8738,-2293.3694 1992.4182,-2312.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1992.4182,-2312.2137C2047.3412,-2326.4806 2090.7087,-2263.6703 2120.0962,-2312.2137"/>
</g>
<!-- sourcefile~outairnodemanager.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge103" class="edge">
<title>sourcefile~outairnodemanager.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M1915.0096,-2148.1535C1989.1533,-2131.0407 2113.0552,-2090.5315 2173.9614,-2003.2137 2220.0869,-1937.0863 2249.942,-1341.6416 2255.5628,-1220.6194"/>
<polygon fill="#fff400" stroke="#fff400" points="2259.0685,-1220.5723 2256.0308,-1210.4223 2252.0759,-1220.2513 2259.0685,-1220.5723"/>
</g>
<!-- sourcefile~curvemanager.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge257" class="edge">
<title>sourcefile~curvemanager.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1533.7607,-2963.2877C1604.6341,-2974.1746 1739.5092,-2992.2137 1855.1041,-2992.2137 1855.1041,-2992.2137 1855.1041,-2992.2137 1992.4182,-2992.2137 2110.1366,-2992.2137 2144.8951,-3009.5718 2256.5284,-2972.2137"/>
</g>
<!-- sourcefile~curvemanager.f90&#45;&gt;sourcefile~standardratings.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge152" class="edge">
<title>sourcefile~curvemanager.f90&#45;&gt;sourcefile~standardratings.f90</title>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M1521.5446,-2944.1341C1559.5567,-2933.6045 1620.5796,-2918.9761 1674.5929,-2916.2137"/>
</g>
<!-- sourcefile~curvemanager.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge21" class="edge">
<title>sourcefile~curvemanager.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1488.2119,-2944.1826C1500.716,-2906.9017 1541.0753,-2781.9643 1557.583,-2675.2137 1605.1903,-2367.3506 1565.1534,-2285.436 1593.583,-1975.2137 1614.9192,-1742.3951 1658.5837,-1462.0495 1671.1433,-1383.5469"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1674.6334,-1383.8874 1672.7643,-1373.4588 1667.722,-1382.7768 1674.6334,-1383.8874"/>
</g>
<!-- sourcefile~curvemanager.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge198" class="edge">
<title>sourcefile~curvemanager.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1491.8105,-2966.5699C1514.3077,-2999.859 1586.079,-3095.6523 1674.5929,-3108.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1674.5929,-3108.2137C1716.5367,-3114.1661 1763.3897,-3123.8612 1798.8489,-3131.834"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1798.4741,-3135.3379 1809.001,-3134.1394 1800.0244,-3128.5117 1798.4741,-3135.3379"/>
</g>
<!-- sourcefile~standardratings.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge258" class="edge">
<title>sourcefile~standardratings.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M2147.6936,-2964.2587C2175.7439,-2973.8335 2220.1294,-2984.3946 2256.5284,-2972.2137"/>
</g>
<!-- sourcefile~dataenvironment.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge259" class="edge">
<title>sourcefile~dataenvironment.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M2120.0962,-2312.2137C2197.6578,-2440.3328 2117.3005,-3027.4033 2256.5284,-2972.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1137.1608,-1550.2137C1369.9366,-1401.214 1976.965,-2075.7841 2120.0962,-2312.2137"/>
</g>
<!-- sourcefile~dataenvironment.f90&#45;&gt;sourcefile~outairnodemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge136" class="edge">
<title>sourcefile~dataenvironment.f90&#45;&gt;sourcefile~outairnodemanager.f90</title>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M1137.1608,-1550.2137C1210.4904,-1503.1731 1693.9207,-1970.6883 1755.6028,-2032.2137 1790.3723,-2066.8948 1824.1878,-2113.6414 1842.0472,-2139.6593"/>
<polygon fill="#00ff28" stroke="#00ff28" points="1839.1603,-2141.6382 1847.6743,-2147.944 1844.9509,-2137.7051 1839.1603,-2141.6382"/>
</g>
<!-- sourcefile~dataenvironment.f90&#45;&gt;sourcefile~psychroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge167" class="edge">
<title>sourcefile~dataenvironment.f90&#45;&gt;sourcefile~psychroutines.f90</title>
<path fill="none" stroke="#00a3ff" stroke-dasharray="5,2" d="M973.2069,-1636.3239C992.639,-1653.3854 1028.1382,-1688.0883 1044.0784,-1726.2137 1107.811,-1878.6477 1013.2248,-1945.1223 1080.0784,-2096.2137 1087.8678,-2113.818 1102.5374,-2129.8374 1115.0545,-2141.3172"/>
<polygon fill="#00a3ff" stroke="#00a3ff" points="1113.0493,-2144.2139 1122.8752,-2148.1765 1117.665,-2138.9513 1113.0493,-2144.2139"/>
</g>
<!-- sourcefile~dataenvironment.f90&#45;&gt;sourcefile~schedulemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge182" class="edge">
<title>sourcefile~dataenvironment.f90&#45;&gt;sourcefile~schedulemanager.f90</title>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M982.2409,-1614.0975C1001.4875,-1603.3952 1028.5329,-1585.4257 1044.0784,-1562.2137 1079.8285,-1508.8326 1038.4522,-1471.151 1080.0784,-1422.2137 1082.8779,-1418.9224 1086.1932,-1416.0497 1089.7952,-1413.5449"/>
<polygon fill="#0028ff" stroke="#0028ff" points="1091.777,-1416.4395 1098.6124,-1408.3445 1088.2209,-1410.41 1091.777,-1416.4395"/>
</g>
<!-- sourcefile~dataenvironment.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge232" class="edge">
<title>sourcefile~dataenvironment.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M969.5418,-1636.4305C1015.1857,-1689.3273 1213.4521,-1919.1853 1375.3286,-2108.2137 1423.9546,-2164.9957 1421.0487,-2196.6127 1484.4558,-2236.2137"/>
</g>
<!-- sourcefile~dataenvironment.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge27" class="edge">
<title>sourcefile~dataenvironment.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1137.1608,-1550.2137C1160.1611,-1535.1008 1170.2477,-1539.6907 1194.2432,-1526.2137 1211.4513,-1516.5487 1212.589,-1509.0375 1230.2432,-1500.2137 1381.5141,-1424.6055 1432.0438,-1437.2591 1593.583,-1387.2137 1605.0008,-1383.6764 1617.3269,-1379.8675 1628.836,-1376.3153"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1630.1727,-1379.5657 1638.6963,-1373.273 1628.1089,-1372.8769 1630.1727,-1379.5657"/>
</g>
<!-- sourcefile~dataenvironment.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge60" class="edge">
<title>sourcefile~dataenvironment.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M1137.1608,-1550.2137C1168.4639,-1529.6453 1172.229,-1518.5174 1194.2432,-1488.2137 1213.4243,-1461.8097 1209.5199,-1449.4254 1230.2432,-1424.2137 1257.1745,-1391.4492 1266.3513,-1383.9237 1302.7859,-1362.2137"/>
</g>
<!-- sourcefile~dataenvironment.f90&#45;&gt;sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge95" class="edge">
<title>sourcefile~dataenvironment.f90&#45;&gt;sourcefile~dataheatbalance.f90</title>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M984.512,-1614.142C1004.3632,-1603.7872 1031.0349,-1586.2973 1044.0784,-1562.2137 1103.4651,-1452.5613 1059.9829,-1125.2851 1080.0784,-1002.2137 1091.9169,-929.7107 1117.6792,-846.2466 1130.1364,-808.1422"/>
<polygon fill="#ff00bf" stroke="#ff00bf" points="1133.5948,-808.8315 1133.4104,-798.2383 1126.9485,-806.6344 1133.5948,-808.8315"/>
</g>
<!-- sourcefile~dataenvironment.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge46" class="edge">
<title>sourcefile~dataenvironment.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M1137.1608,-1550.2137C1168.4639,-1529.6453 1177.2185,-1521.5768 1194.2432,-1488.2137 1230.9293,-1416.32 1213.6031,-1389.1926 1230.2432,-1310.2137 1254.9841,-1192.7859 1286.357,-1052.3316 1298.0834,-1000.1081"/>
<polygon fill="#00ffff" stroke="#00ffff" points="1301.5,-1000.8676 1300.2781,-990.3435 1294.6703,-999.3325 1301.5,-1000.8676"/>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M1007.2578,-1614.1783C1019.5627,-1610.5021 1032.5819,-1605.8671 1044.0784,-1600.2137 1061.7893,-1591.5043 1062.8703,-1583.8786 1080.0784,-1574.2137 1104.0738,-1560.7366 1114.1605,-1565.3265 1137.1608,-1550.2137"/>
</g>
<!-- sourcefile~outputreportpredefined.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node15" class="node">
<title>sourcefile~outputreportpredefined.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node15"><a xlink:href="../sourcefile/outputreportpredefined.f90.html" xlink:title="OutputReportPredefined.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1374.6234,-303.2191 1230.9483,-303.2191 1230.9483,-281.2082 1374.6234,-281.2082 1374.6234,-303.2191"/>
<text text-anchor="middle" x="1302.7859" y="-289.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">OutputReportPredefined.f90</text>
</a>
</g>
</g>
<!-- sourcefile~outputreportpredefined.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge260" class="edge">
<title>sourcefile~outputreportpredefined.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1374.7795,-290.8621C1449.6942,-289.7727 1570.3974,-288.9074 1674.5929,-292.2137"/>
</g>
<!-- sourcefile~outputreportpredefined.f90&#45;&gt;sourcefile~reportsizingmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge120" class="edge">
<title>sourcefile~outputreportpredefined.f90&#45;&gt;sourcefile~reportsizingmanager.f90</title>
<path fill="none" stroke="#8eff00" stroke-dasharray="5,2" d="M1354.3593,-281.1421C1375.737,-276.5529 1400.7075,-271.1923 1423.0239,-266.4016"/>
<polygon fill="#8eff00" stroke="#8eff00" points="1424.0256,-269.7663 1433.0681,-264.2453 1422.5562,-262.9223 1424.0256,-269.7663"/>
</g>
<!-- sourcefile~outputreportpredefined.f90&#45;&gt;sourcefile~standardratings.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge157" class="edge">
<title>sourcefile~outputreportpredefined.f90&#45;&gt;sourcefile~standardratings.f90</title>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M1306.8757,-303.503C1331.0011,-370.1258 1457.1053,-718.7629 1557.583,-1004.2137 1573.8235,-1050.3519 1571.4561,-1064.5915 1593.583,-1108.2137 1650.8063,-1221.0266 1704.7103,-1226.4068 1755.6028,-1342.2137 2024.9074,-1955.0219 2106.1441,-2789.7163 2118.3759,-2932.1424"/>
<polygon fill="#00ffa3" stroke="#00ffa3" points="2114.8936,-2932.5012 2119.2202,-2942.1724 2121.8689,-2931.914 2114.8936,-2932.5012"/>
</g>
<!-- sourcefile~outputreportpredefined.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge61" class="edge">
<title>sourcefile~outputreportpredefined.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M1304.442,-303.5863C1312.8427,-361.5294 1351.2835,-629.7643 1375.3286,-850.2137 1385.1978,-940.6959 1355.6242,-1186.2313 1411.3286,-1258.2137 1414.3153,-1262.0732 1417.9207,-1265.361 1421.9099,-1268.1617"/>
<polygon fill="#ffbf00" stroke="#ffbf00" points="1420.1684,-1271.1979 1430.5619,-1273.2534 1423.7187,-1265.1651 1420.1684,-1271.1979"/>
</g>
<!-- sourcefile~psychroutines.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge261" class="edge">
<title>sourcefile~psychroutines.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1165.5914,-2170.3153C1175.4404,-2175.1034 1186.0531,-2181.4175 1194.2432,-2189.2137 1217.0447,-2210.9185 1203.8718,-2233.0218 1230.2432,-2250.2137 1464.0311,-2402.6233 1576.0539,-2308.1566 1855.1041,-2312.2137"/>
</g>
<!-- sourcefile~psychroutines.f90&#45;&gt;sourcefile~outairnodemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge132" class="edge">
<title>sourcefile~psychroutines.f90&#45;&gt;sourcefile~outairnodemanager.f90</title>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M1184.2332,-2148.1057C1310.8273,-2118.3944 1650.6558,-2039.7687 1674.5929,-2046.2137"/>
</g>
<!-- sourcefile~psychroutines.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge226" class="edge">
<title>sourcefile~psychroutines.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M1302.7859,-2236.2137C1383.4032,-2231.7252 1415.8331,-2193.6669 1484.4558,-2236.2137"/>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M1162.8174,-2170.2297C1172.6761,-2174.5203 1184.0148,-2179.5254 1194.2432,-2184.2137 1242.8699,-2206.5021 1249.3771,-2239.1872 1302.7859,-2236.2137"/>
</g>
<!-- sourcefile~psychroutines.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge22" class="edge">
<title>sourcefile~psychroutines.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1144.2857,-2148.1969C1159.1316,-2125.5516 1194.94,-2072.5185 1230.2432,-2032.2137 1363.0735,-1880.5642 1450.1771,-1888.8168 1557.583,-1718.2137 1629.5597,-1603.8861 1661.7573,-1440.7943 1671.351,-1383.274"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1674.835,-1383.6533 1672.9735,-1373.2233 1667.9245,-1382.5377 1674.835,-1383.6533"/>
</g>
<!-- sourcefile~branchnodeconnections.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge262" class="edge">
<title>sourcefile~branchnodeconnections.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1497.8186,-2644.0053C1512.5972,-2631.5393 1537.0365,-2610.7162 1557.583,-2592.2137 1692.5159,-2470.7034 1673.7794,-2302.5726 1855.1041,-2312.2137"/>
</g>
<!-- sourcefile~branchnodeconnections.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge230" class="edge">
<title>sourcefile~branchnodeconnections.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M1503.6834,-2644.1082C1520.7403,-2633.1793 1544.8655,-2614.8612 1557.583,-2592.2137 1605.6646,-2506.5888 1553.5554,-2463.8867 1593.583,-2374.2137 1608.2391,-2341.3799 1636.2086,-2310.1445 1655.1316,-2291.3293"/>
<polygon fill="#ff00b7" stroke="#ff00b7" points="1657.6457,-2293.7666 1662.3794,-2284.288 1652.768,-2288.7458 1657.6457,-2293.7666"/>
</g>
<!-- sourcefile~branchnodeconnections.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge206" class="edge">
<title>sourcefile~branchnodeconnections.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1486.7674,-2666.4178C1495.3093,-2705.8056 1528.0456,-2840.373 1593.583,-2930.2137 1660.2449,-3021.5958 1774.4708,-3097.0859 1827.0778,-3128.9362"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1825.4857,-3132.0623 1835.8636,-3134.1952 1829.0809,-3126.0561 1825.4857,-3132.0623"/>
</g>
<!-- sourcefile~schedulemanager.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge263" class="edge">
<title>sourcefile~schedulemanager.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M2256.5284,-2972.2137C2344.106,-2942.8668 2386.4086,-1418.4801 2391.5398,-1220.3567"/>
<polygon fill="#ff0000" stroke="#ff0000" points="2395.0391,-1220.4249 2391.7967,-1210.3385 2388.0414,-1220.2454 2395.0391,-1220.4249"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1302.7859,-1324.2137C1545.455,-1279.1183 2088.5547,-1781.6374 2173.9614,-2013.2137 2210.9685,-2113.5567 2155.1207,-3006.195 2256.5284,-2972.2137"/>
</g>
<!-- sourcefile~schedulemanager.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge99" class="edge">
<title>sourcefile~schedulemanager.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M1302.7859,-1324.2137C1384.1408,-1309.7871 1592.9914,-1310.2548 1674.5929,-1323.2137"/>
</g>
<!-- sourcefile~schedulemanager.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge219" class="edge">
<title>sourcefile~schedulemanager.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M1143.5747,-1408.4911C1173.1135,-1460.7525 1297.9074,-1685.1189 1375.3286,-1880.2137 1436.3703,-2034.0334 1343.8068,-2149.0099 1484.4558,-2236.2137"/>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M1484.4558,-2236.2137C1520.3271,-2258.6171 1566.8407,-2267.9381 1604.8835,-2271.6238"/>
<polygon fill="#ff00b7" stroke="#ff00b7" points="1604.6026,-2275.1124 1614.8657,-2272.4822 1605.2023,-2268.1382 1604.6026,-2275.1124"/>
</g>
<!-- sourcefile~schedulemanager.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge49" class="edge">
<title>sourcefile~schedulemanager.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M1302.7859,-1324.2137C1345.5137,-1316.6368 1393.4366,-1305.9941 1429.3299,-1297.5912"/>
<polygon fill="#ffbf00" stroke="#ffbf00" points="1430.1893,-1300.9847 1439.1204,-1295.285 1428.5843,-1294.1711 1430.1893,-1300.9847"/>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M1154.6303,-1386.1134C1183.881,-1368.3308 1245.2361,-1334.4189 1302.7859,-1324.2137"/>
</g>
<!-- sourcefile~schedulemanager.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge35" class="edge">
<title>sourcefile~schedulemanager.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M1141.5908,-1386.0332C1163.9985,-1329.4814 1264.9459,-1074.7131 1294.5818,-999.9188"/>
<polygon fill="#00ffff" stroke="#00ffff" points="1297.9892,-1000.8206 1298.4191,-990.2345 1291.4814,-998.242 1297.9892,-1000.8206"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge264" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M798.7664,-2070.1517C837.5448,-2075.3677 903.1704,-2082.7723 959.8616,-2082.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1674.5929,-2198.2137C1685.1153,-2203.6872 1843.2436,-2312.1315 1855.1041,-2312.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M959.8616,-2082.2137C1013.6497,-2081.6836 1026.3779,-2071.33 1080.0784,-2068.2137 1130.7331,-2065.2741 1143.7796,-2062.9252 1194.2432,-2068.2137 1414.2076,-2091.2654 1478.3822,-2096.1495 1674.5929,-2198.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1855.1041,-2312.2137C1916.1311,-2312.6362 1933.3501,-2296.87 1992.4182,-2312.2137"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~plantutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge5" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~plantutilities.f90</title>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M798.5326,-2064.3176C813.1176,-2065.747 829.2269,-2070.1041 839.6448,-2081.2137 914.3268,-2160.854 818.4485,-2231.2159 875.6448,-2324.2137 923.6622,-2402.2872 998.7337,-2363.558 1044.0784,-2443.2137 1094.0369,-2530.9743 1037.7323,-2804.5371 1080.0784,-2896.2137 1110.1469,-2961.31 1164.2193,-2945.0967 1194.2432,-3010.2137 1237.2685,-3103.5286 1163.0653,-3393.4576 1230.2432,-3471.2137 1273.4758,-3521.254 1314.0673,-3479.3109 1375.3286,-3504.2137 1392.6994,-3511.2749 1393.5248,-3520.329 1411.3286,-3526.2137 1599.3572,-3588.3618 1658.1357,-3545.7062 1855.1041,-3566.2137"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge104" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M798.6846,-2056.4871C811.5789,-2052.9477 826.3763,-2048.65 839.6448,-2044.2137 855.9261,-2038.7699 858.8585,-2033.8105 875.6448,-2030.2137 1223.3085,-1955.7184 1325.4447,-1922.0189 1674.5929,-1989.2137"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~reportsizingmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge115" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~reportsizingmanager.f90</title>
<path fill="none" stroke="#8eff00" stroke-dasharray="5,2" d="M959.8616,-1548.2137C980.8005,-1506.7185 1021.5827,-1526.886 1044.0784,-1486.2137 1096.2787,-1391.835 1048.0047,-1105.1868 1080.0784,-1002.2137 1109.9439,-906.3299 1164.7161,-903.2022 1194.2432,-807.2137 1229.2773,-693.3226 1154.311,-364.0444 1230.2432,-272.2137 1251.4816,-246.5284 1274.7464,-271.2301 1302.7859,-253.2137"/>
<path fill="none" stroke="#8eff00" stroke-dasharray="5,2" d="M798.6786,-2064.0477C813.4785,-2061.6988 829.7228,-2056.2579 839.6448,-2044.2137 901.8818,-1968.6647 826.2624,-1689.7267 875.6448,-1605.2137 898.4468,-1566.1902 940.2725,-1588.9448 959.8616,-1548.2137"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~curvemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge140" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~curvemanager.f90</title>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M959.8616,-2310.2137C992.4816,-2343.323 1014.87,-2336.0589 1044.0784,-2372.2137 1068.5803,-2402.5427 1059.6992,-2418.9738 1080.0784,-2452.2137 1145.0604,-2558.2035 1401.245,-2858.4087 1468.314,-2936.4732"/>
<polygon fill="#00ff66" stroke="#00ff66" points="1465.7,-2938.8015 1474.8738,-2944.1016 1471.0075,-2934.2374 1465.7,-2938.8015"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~standardratings.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge149" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~standardratings.f90</title>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M1992.4182,-2916.2137C2012.2209,-2926.7121 2035.3742,-2934.5701 2056.4858,-2940.2801"/>
<polygon fill="#00ffa3" stroke="#00ffa3" points="2055.7829,-2943.7135 2066.3411,-2942.8333 2057.5385,-2936.9372 2055.7829,-2943.7135"/>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M959.8616,-2158.2137C996.3245,-2168.709 1009.5564,-2156.4677 1044.0784,-2172.2137 1141.776,-2216.7749 1134.684,-2277.2343 1230.2432,-2326.2137 1289.5625,-2356.6181 1314.6028,-2336.7255 1375.3286,-2364.2137 1609.7344,-2470.3197 1649.9203,-2532.9586 1855.1041,-2688.2137"/>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M1855.1041,-2688.2137C1960.6098,-2741.7063 1887.9056,-2860.8058 1992.4182,-2916.2137"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~dataenvironment.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge158" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~dataenvironment.f90</title>
<path fill="none" stroke="#00ffe0" stroke-dasharray="5,2" d="M798.5766,-2063.9628C813.3541,-2061.5953 829.6091,-2056.1633 839.6448,-2044.2137 890.7821,-1983.324 836.5048,-1757.4281 875.6448,-1688.2137 887.1254,-1667.9115 908.1161,-1652.1847 926.2683,-1641.5218"/>
<polygon fill="#00ffe0" stroke="#00ffe0" points="928.4069,-1644.3368 935.4366,-1636.4101 924.998,-1638.2229 928.4069,-1644.3368"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~psychroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge164" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~psychroutines.f90</title>
<path fill="none" stroke="#00a3ff" stroke-dasharray="5,2" d="M959.8616,-2158.2137C997.9576,-2169.1791 1042.5949,-2169.3647 1077.5505,-2166.8415"/>
<polygon fill="#00a3ff" stroke="#00a3ff" points="1077.9207,-2170.323 1087.6036,-2166.0229 1077.3525,-2163.3461 1077.9207,-2170.323"/>
<path fill="none" stroke="#00a3ff" stroke-dasharray="5,2" d="M783.0536,-2076.3264C816.4927,-2096.3903 891.0746,-2138.4142 959.8616,-2158.2137"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~branchnodeconnections.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge171" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~branchnodeconnections.f90</title>
<path fill="none" stroke="#0066ff" stroke-dasharray="5,2" d="M959.8616,-2310.2137C979.798,-2330.1749 1352.6466,-2585.4374 1375.3286,-2602.2137 1391.6252,-2614.2671 1393.494,-2620.5808 1411.3286,-2630.2137 1418.7105,-2634.2008 1426.8493,-2637.7317 1434.9347,-2640.7914"/>
<polygon fill="#0066ff" stroke="#0066ff" points="1433.7587,-2644.0879 1444.3532,-2644.1659 1436.1197,-2637.4981 1433.7587,-2644.0879"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~schedulemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge177" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~schedulemanager.f90</title>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M959.8616,-1548.2137C981.1181,-1506.8802 1013.2813,-1521.025 1044.0784,-1486.2137 1065.7029,-1461.7705 1055.8814,-1444.1133 1080.0784,-1422.2137 1083.9399,-1418.7187 1088.3677,-1415.6541 1093.0123,-1412.9817"/>
<polygon fill="#0028ff" stroke="#0028ff" points="1094.8154,-1415.9906 1102.1192,-1408.3156 1091.6234,-1409.7607 1094.8154,-1415.9906"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~dataplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge210" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~dataplant.f90</title>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M798.5638,-2065.6065C812.6349,-2067.3668 828.3259,-2071.6275 839.6448,-2081.2137 872.8353,-2109.3232 846.7819,-2139.6762 875.6448,-2172.2137 994.5746,-2306.2846 1065.0679,-2294.6691 1230.2432,-2364.2137 1292.4658,-2390.4115 1315.6458,-2377.655 1375.3286,-2409.2137 1466.834,-2457.5992 1501.8406,-2466.9945 1557.583,-2554.2137 1594.0385,-2611.255 1552.0396,-2648.7641 1593.583,-2702.2137 1643.6127,-2766.5816 1697.8355,-2730.6884 1755.6028,-2788.2137 1896.5822,-2928.6024 1968.2125,-3170.0735 1987.1876,-3242.2498"/>
<polygon fill="#5100ff" stroke="#5100ff" points="1983.8126,-3243.179 1989.6959,-3251.9903 1990.5915,-3241.4334 1983.8126,-3243.179"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge223" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M959.8616,-2082.2137C1038.6574,-2081.4371 1063.1479,-2055.1677 1137.1608,-2082.2137"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~fluidproperties.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge233" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~fluidproperties.f90</title>
<path fill="none" stroke="#ff007a" stroke-dasharray="5,2" d="M771.7003,-2076.4629C786.1767,-2101.457 820.7848,-2163.8581 839.6448,-2220.2137 865.5364,-2297.5805 832.1036,-2331.2197 875.6448,-2400.2137 888.2583,-2420.2007 909.6464,-2436.082 927.7114,-2446.8997"/>
<polygon fill="#ff007a" stroke="#ff007a" points="926.3725,-2450.1659 936.7912,-2452.0901 929.8465,-2444.0887 926.3725,-2450.1659"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge20" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M798.7882,-2060.8188C812.4162,-2057.8031 827.7095,-2052.7316 839.6448,-2044.2137 862.5246,-2027.8847 854.6307,-2010.8827 875.6448,-1992.2137 1008.9987,-1873.7408 1071.4921,-1885.5596 1230.2432,-1804.2137 1374.7076,-1730.1884 1446.516,-1760.5936 1557.583,-1642.2137 1630.6426,-1564.3435 1661.3596,-1434.2758 1670.9868,-1383.4653"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1674.4799,-1383.8175 1672.8184,-1373.3538 1667.5919,-1382.5698 1674.4799,-1383.8175"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge52" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M798.5127,-2063.9088C813.2762,-2061.5295 829.5379,-2056.1031 839.6448,-2044.2137 931.7684,-1935.8423 793.2745,-1842.1716 875.6448,-1726.2137 923.7489,-1658.4943 970.0747,-1682.9413 1044.0784,-1645.2137 1111.6358,-1610.7723 1133.0187,-1608.9549 1194.2432,-1564.2137 1309.958,-1479.6523 1426.1824,-1351.2882 1468.1098,-1303.2458"/>
<polygon fill="#ffbf00" stroke="#ffbf00" points="1470.9314,-1305.3344 1474.8422,-1295.4877 1465.6445,-1300.7465 1470.9314,-1305.3344"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge88" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~dataheatbalance.f90</title>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M798.4881,-2064.263C813.4335,-2061.9827 829.8542,-2056.5372 839.6448,-2044.2137 893.3366,-1976.6307 844.1791,-1348.5889 875.6448,-1268.2137 918.0092,-1159.999 987.3562,-1169.6422 1044.0784,-1068.2137 1050.7326,-1056.3148 1110.3234,-871.0318 1130.5095,-808.0111"/>
<polygon fill="#ff00bf" stroke="#ff00bf" points="1133.884,-808.9494 1133.5994,-798.3584 1127.2173,-806.8153 1133.884,-808.9494"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge37" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M959.8616,-1548.2137C987.15,-1495.1512 1158.0367,-1464.6412 1194.2432,-1417.2137 1220.4329,-1382.9072 1281.9651,-1083.0994 1298.5855,-1000.3111"/>
<polygon fill="#00ffff" stroke="#00ffff" points="1302.0551,-1000.8097 1300.5849,-990.3173 1295.1911,-999.4363 1302.0551,-1000.8097"/>
</g>
<!-- sourcefile~general.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge196" class="edge">
<title>sourcefile~general.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M959.8616,-2310.2137C1041.8128,-2385.0217 1093.6864,-2349.3034 1194.2432,-2396.2137 1278.3523,-2435.451 1307.5499,-2436.8104 1375.3286,-2500.2137 1396.3933,-2519.9185 1390.1115,-2534.6731 1411.3286,-2554.2137 1465.9854,-2604.5514 1509.8476,-2578.27 1557.583,-2635.2137 1589.2759,-2673.0202 1568.9227,-2697.4861 1593.583,-2740.2137 1648.3846,-2835.1654 1696.3009,-2834.0056 1755.6028,-2926.2137 1799.3566,-2994.2462 1833.8615,-3084.6984 1848.066,-3124.699"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1844.7713,-3125.8807 1851.3798,-3134.1619 1851.378,-3123.5671 1844.7713,-3125.8807"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M798.5869,-2064.6719C813.005,-2066.2035 828.9638,-2070.5434 839.6448,-2081.2137 893.3604,-2134.8753 834.4004,-2184.4654 875.6448,-2248.2137 900.8925,-2287.2372 926.9026,-2277.4417 959.8616,-2310.2137"/>
</g>
<!-- sourcefile~dataplant.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge265" class="edge">
<title>sourcefile~dataplant.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M2030.2565,-3273.228C2057.3314,-3278.1404 2093.538,-3279.9003 2120.0962,-3263.2137"/>
</g>
<!-- sourcefile~dataplant.f90&#45;&gt;sourcefile~plantutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge6" class="edge">
<title>sourcefile~dataplant.f90&#45;&gt;sourcefile~plantutilities.f90</title>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M2000.7955,-3274.4334C2022.1738,-3303.0655 2078.9495,-3379.1056 2105.7312,-3414.9745"/>
<polygon fill="#ff3d00" stroke="#ff3d00" points="2103.0666,-3417.256 2111.854,-3423.1749 2108.6757,-3413.068 2103.0666,-3417.256"/>
</g>
<!-- sourcefile~dataplant.f90&#45;&gt;sourcefile~standardratings.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge151" class="edge">
<title>sourcefile~dataplant.f90&#45;&gt;sourcefile~standardratings.f90</title>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M1996.9623,-3252.1806C2015.6527,-3206.8007 2086.7752,-3034.1165 2111.5359,-2973.998"/>
<polygon fill="#00ffa3" stroke="#00ffa3" points="2114.901,-2975.0179 2115.4731,-2964.4385 2108.4285,-2972.352 2114.901,-2975.0179"/>
</g>
<!-- sourcefile~dataairsystems.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node29" class="node">
<title>sourcefile~dataairsystems.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node29"><a xlink:href="../sourcefile/dataairsystems.f90.html" xlink:title="DataAirSystems.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="2172.3789,-885.2191 2067.8135,-885.2191 2067.8135,-863.2082 2172.3789,-863.2082 2172.3789,-885.2191"/>
<text text-anchor="middle" x="2120.0962" y="-871.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataAirSystems.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataplant.f90&#45;&gt;sourcefile~dataairsystems.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge66" class="edge">
<title>sourcefile~dataplant.f90&#45;&gt;sourcefile~dataairsystems.f90</title>
<path fill="none" stroke="#7fff00" stroke-dasharray="5,2" d="M1993.0159,-3252.0307C2001.8924,-3085.9416 2106.8377,-1122.2958 2118.9573,-895.5232"/>
<polygon fill="#7fff00" stroke="#7fff00" points="2122.4656,-895.4609 2119.5043,-885.2883 2115.4755,-895.0873 2122.4656,-895.4609"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node21" class="node">
<title>sourcefile~dataprecisionglobals.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node21"><a xlink:href="../sourcefile/dataprecisionglobals.f90.html" xlink:title="DataPrecisionGlobals.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="130.719,-1046.2191 -.2403,-1046.2191 -.2403,-1024.2082 130.719,-1024.2082 130.719,-1046.2191"/>
<text text-anchor="middle" x="65.2394" y="-1032.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataPrecisionGlobals.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge266" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M399.0839,-3908.2137C464.4815,-3959.2401 515.0194,-3864.8307 585.7192,-3908.2137"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datahvacglobals.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge2" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datahvacglobals.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M399.0839,-3146.2137C470.5998,-3165.1917 541.6423,-3089.4144 571.2945,-3052.4374"/>
<polygon fill="#ff0000" stroke="#ff0000" points="574.2063,-3054.3955 577.6069,-3044.3612 568.6911,-3050.0847 574.2063,-3054.3955"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~plantutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge8" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~plantutilities.f90</title>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M765.059,-3870.2137C1002.8153,-3840.663 1063.2001,-3908.2137 1302.7859,-3908.2137 1302.7859,-3908.2137 1302.7859,-3908.2137 1855.1041,-3908.2137 2065.5251,-3908.2137 2110.461,-3547.9243 2118.5228,-3455.5746"/>
<polygon fill="#ff3d00" stroke="#ff3d00" points="2122.0229,-3455.7148 2119.3485,-3445.4631 2115.0462,-3455.145 2122.0229,-3455.7148"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataipshortcuts.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge13" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataipshortcuts.f90</title>
<path fill="none" stroke="#ff7a00" stroke-dasharray="5,2" d="M223.8406,-2994.2137C361.1456,-3049.2022 221.0611,-2447.6115 317.2024,-2335.2137 322.1176,-2329.4673 328.313,-2325.0176 335.0857,-2321.576"/>
<polygon fill="#ff7a00" stroke="#ff7a00" points="336.8079,-2324.6455 344.613,-2317.4809 334.0435,-2318.2144 336.8079,-2324.6455"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datasizing.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge15" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datasizing.f90</title>
<path fill="none" stroke="#ffb700" stroke-dasharray="5,2" d="M223.8406,-2994.2137C437.7569,-3079.8838 163.918,-3332.1571 317.2024,-3504.2137 325.4674,-3513.4908 337.0655,-3519.375 348.9387,-3523.0928"/>
<polygon fill="#ffb700" stroke="#ffb700" points="348.3469,-3526.5567 358.9097,-3525.7332 350.1389,-3519.7899 348.3469,-3526.5567"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge106" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M765.059,-102.2137C1393.0499,38.8367 1842.1411,114.2962 2173.9614,-437.2137 2213.2561,-502.5242 2248.3516,-1061.3117 2255.2884,-1177.9354"/>
<polygon fill="#fff400" stroke="#fff400" points="2251.804,-1178.304 2255.8868,-1188.0806 2258.7918,-1177.8918 2251.804,-1178.304"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M223.8406,-255.2137C275.2779,-222.7902 264.553,-185.6293 317.2024,-155.2137 349.551,-136.5258 362.0005,-131.6866 399.0839,-136.2137"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M65.4475,-1024.1254C67.3834,-935.4377 85.4589,-342.4424 223.8406,-255.2137"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M399.0839,-136.2137C420.1831,-138.7894 564.4701,-177.6803 585.7192,-178.2137"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M585.7192,-178.2137C637.102,-179.5033 642.9813,-148.8702 690.4731,-129.2137 723.0477,-115.7313 730.3495,-108.3883 765.059,-102.2137"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datainterfaces.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge114" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datainterfaces.f90</title>
<path fill="none" stroke="#cbff00" stroke-dasharray="5,2" d="M223.8406,-2994.2137C370.3429,-3052.8855 279.8404,-2443.5414 317.2024,-2290.2137 336.3227,-2211.7468 373.0772,-2122.7361 390.066,-2083.5549"/>
<polygon fill="#cbff00" stroke="#cbff00" points="393.3186,-2084.8523 394.1202,-2074.2878 386.9055,-2082.0466 393.3186,-2084.8523"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~reportsizingmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge116" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~reportsizingmanager.f90</title>
<path fill="none" stroke="#8eff00" stroke-dasharray="5,2" d="M1302.7859,-253.2137C1342.393,-228.9105 1396.5845,-232.5814 1435.4541,-240.0768"/>
<polygon fill="#8eff00" stroke="#8eff00" points="1434.9832,-243.5536 1445.4861,-242.1606 1436.4069,-236.6999 1434.9832,-243.5536"/>
<path fill="none" stroke="#8eff00" stroke-dasharray="5,2" d="M765.059,-102.2137C935.7353,-50.0259 960.4313,-228.3007 1137.1608,-253.2137"/>
<path fill="none" stroke="#8eff00" stroke-dasharray="5,2" d="M1137.1608,-253.2137C1210.4964,-259.5766 1240.0446,-291.7121 1302.7859,-253.2137"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~globalnames.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge124" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~globalnames.f90</title>
<path fill="none" stroke="#51ff00" stroke-dasharray="5,2" d="M399.0839,-136.2137C436.1399,-140.9592 456.0374,-127.388 480.9653,-155.2137 571.4549,-256.2223 441.6076,-345.4647 516.9653,-458.2137 562.6097,-526.5059 653.7134,-564.7414 711.9092,-583.1433"/>
<polygon fill="#51ff00" stroke="#51ff00" points="711.0768,-586.5489 721.6637,-586.1398 713.1324,-579.8576 711.0768,-586.5489"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataloopnode.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge126" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataloopnode.f90</title>
<path fill="none" stroke="#14ff00" stroke-dasharray="5,2" d="M399.0839,-3490.2137C454.3743,-3538.3188 975.4914,-3378.0391 1044.0784,-3352.2137 1088.4264,-3335.515 1093.1897,-3317.8812 1137.1608,-3300.2137"/>
<path fill="none" stroke="#14ff00" stroke-dasharray="5,2" d="M223.8406,-2994.2137C424.8091,-3067.2898 172.9358,-3308.3668 317.2024,-3466.2137 342.7866,-3494.2062 370.0909,-3465.7689 399.0839,-3490.2137"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~outairnodemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge133" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~outairnodemanager.f90</title>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M223.8406,-2994.2137C333.1713,-3033.9685 378.8928,-3001.0245 480.9653,-2945.2137 501.3777,-2934.0526 500.5063,-2923.6556 516.9653,-2907.2137 546.7156,-2877.4943 558.1644,-2873.9791 585.7192,-2842.2137"/>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M585.7192,-2842.2137C613.5068,-2811.8672 635.4934,-2816.7216 654.4731,-2780.2137 715.1957,-2663.4123 650.4343,-2611.6197 690.4731,-2486.2137 743.0451,-2321.5527 738.0461,-2248.8255 875.6448,-2144.2137 895.0261,-2129.4786 1278.6776,-2049.6117 1302.7859,-2046.2137"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~curvemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge142" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~curvemanager.f90</title>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M399.0839,-3146.2137C474.4693,-3166.2186 451.9423,-3233.142 516.9653,-3276.2137 543.948,-3294.0871 554.2856,-3292.5033 585.7192,-3300.2137"/>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M585.7192,-3300.2137C651.2377,-3316.2847 810.5057,-3227.7596 875.6448,-3210.2137 1015.9139,-3172.4305 1054.8707,-3178.1811 1194.2432,-3137.2137 1210.5639,-3132.4163 1213.8418,-3128.728 1230.2432,-3124.2137 1261.902,-3115.4998 1273.7276,-3125.5051 1302.7859,-3110.2137"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~standardratings.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge153" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~standardratings.f90</title>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M585.7192,-3300.2137C695.1973,-3331.5079 726.8119,-3281.4947 839.6448,-3266.2137 930.5228,-3253.906 954.8655,-3259.4588 1044.0784,-3238.2137 1195.5398,-3202.1446 1257.0185,-3225.4274 1375.3286,-3124.2137 1401.3135,-3101.9837 1383.3804,-3075.9184 1411.3286,-3056.2137 1437.6887,-3037.6286 1887.0137,-2981.4966 2056.2819,-2960.8993"/>
<polygon fill="#00ffa3" stroke="#00ffa3" points="2056.7942,-2964.3629 2066.299,-2959.6821 2055.9498,-2957.414 2056.7942,-2964.3629"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataenvironment.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge161" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataenvironment.f90</title>
<path fill="none" stroke="#00ffe0" stroke-dasharray="5,2" d="M765.059,-1702.2137C798.4019,-1692.1688 808.8568,-1694.4848 839.6448,-1678.2137 857.5658,-1668.7426 857.6172,-1659.4803 875.6448,-1650.2137 883.8131,-1646.0149 892.7986,-1642.4082 901.7647,-1639.3473"/>
<polygon fill="#00ffe0" stroke="#00ffe0" points="902.9959,-1642.628 911.4468,-1636.2379 900.8555,-1635.9633 902.9959,-1642.628"/>
<path fill="none" stroke="#00ffe0" stroke-dasharray="5,2" d="M65.5785,-1046.4995C70.379,-1204.0199 126.0083,-2958.1015 223.8406,-2994.2137"/>
<path fill="none" stroke="#00ffe0" stroke-dasharray="5,2" d="M223.8406,-2994.2137C347.5359,-3039.8725 241.5545,-1919.2074 317.2024,-1811.2137 373.1762,-1731.3062 422.4352,-1744.345 516.9653,-1720.2137 624.0838,-1692.8688 659.2045,-1734.1033 765.059,-1702.2137"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~outputreportpredefined.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge163" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~outputreportpredefined.f90</title>
<path fill="none" stroke="#00e0ff" stroke-dasharray="5,2" d="M585.7192,-178.2137C699.0758,-178.925 728.4124,-180.3603 839.6448,-202.2137 975.2004,-228.8456 999.6692,-278.7725 1137.1608,-292.2137"/>
<path fill="none" stroke="#00e0ff" stroke-dasharray="5,2" d="M1137.1608,-292.2137C1164.3906,-293.8966 1194.1868,-294.3321 1220.9068,-294.2136"/>
<polygon fill="#00e0ff" stroke="#00e0ff" points="1221.01,-297.713 1230.9851,-294.1425 1220.9606,-290.7132 1221.01,-297.713"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~psychroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge165" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~psychroutines.f90</title>
<path fill="none" stroke="#00a3ff" stroke-dasharray="5,2" d="M585.7192,-2842.2137C612.9894,-2811.4014 627.2623,-2811.0783 654.4731,-2780.2137 749.7331,-2672.1624 765.7462,-2637.8605 839.6448,-2514.2137 857.7954,-2483.8441 852.5161,-2469.9871 875.6448,-2443.2137 935.5634,-2373.8528 988.7906,-2397.3192 1044.0784,-2324.2137 1073.0765,-2285.8702 1055.4556,-2263.5033 1080.0784,-2222.2137 1090.0002,-2205.5758 1104.7528,-2189.4382 1116.7747,-2177.6614"/>
<polygon fill="#00a3ff" stroke="#00a3ff" points="1119.3726,-2180.0206 1124.2022,-2170.5906 1114.5461,-2174.9506 1119.3726,-2180.0206"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~schedulemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge178" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~schedulemanager.f90</title>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M585.7192,-1092.2137C698.0261,-1150.1788 727.0532,-1162.8036 839.6448,-1220.2137 893.2013,-1247.5219 905.3965,-1256.7656 959.8616,-1282.2137"/>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M959.8616,-1282.2137C1018.3547,-1311.4559 1081.3456,-1355.7271 1114.2149,-1379.9232"/>
<polygon fill="#0028ff" stroke="#0028ff" points="1112.5414,-1383.0396 1122.6582,-1386.1862 1116.7118,-1377.4175 1112.5414,-1383.0396"/>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M223.8406,-788.2137C288.9828,-764.7399 429.9531,-917.3919 480.9653,-964.2137 535.1225,-1013.9221 518.8429,-1061.6935 585.7192,-1092.2137"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~general.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge187" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~general.f90</title>
<path fill="none" stroke="#1400ff" stroke-dasharray="5,2" d="M223.8406,-2994.2137C252.6144,-3004.7841 457.9434,-2914.4537 480.9653,-2894.2137 506.0595,-2872.1518 496.264,-2854.4415 516.9653,-2828.2137 567.9507,-2763.6171 615.863,-2776.8875 654.4731,-2704.2137 708.3802,-2602.7473 671.4853,-2561.5311 690.4731,-2448.2137 713.6679,-2309.7902 748.1728,-2144.5578 760.4879,-2086.5794"/>
<polygon fill="#1400ff" stroke="#1400ff" points="763.9845,-2086.9633 762.6451,-2076.4535 757.1382,-2085.5047 763.9845,-2086.9633"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge211" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataplant.f90</title>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M399.0839,-3908.2137C441.4038,-3939.7197 464.5089,-3899.8652 516.9653,-3894.2137 627.1065,-3882.3473 654.7939,-3880.8679 765.059,-3870.2137"/>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M223.8406,-2994.2137C341.4572,-3036.7328 292.9132,-3426.5287 317.2024,-3549.2137 348.9856,-3709.7508 270.0586,-3807.5418 399.0839,-3908.2137"/>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M765.059,-3870.2137C822.3796,-3861.9265 1702.667,-3568.711 1755.6028,-3545.2137 1831.8374,-3511.3743 1864.0908,-3515.3403 1918.6055,-3452.2137 1921.528,-3448.8294 1966.2714,-3331.8575 1984.6391,-3283.6576"/>
<polygon fill="#5100ff" stroke="#5100ff" points="1987.9411,-3284.8213 1988.2293,-3274.2303 1981.3994,-3282.3299 1987.9411,-3284.8213"/>
</g>
<!-- sourcefile~databranchairloopplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node22" class="node">
<title>sourcefile~databranchairloopplant.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node22"><a xlink:href="../sourcefile/databranchairloopplant.f90.html" xlink:title="DataBranchAirLoopPlant.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1375.3714,-3462.2191 1230.2004,-3462.2191 1230.2004,-3440.2082 1375.3714,-3440.2082 1375.3714,-3462.2191"/>
<text text-anchor="middle" x="1302.7859" y="-3448.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataBranchAirLoopPlant.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~databranchairloopplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge217" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~databranchairloopplant.f90</title>
<path fill="none" stroke="#cc00ff" stroke-dasharray="5,2" d="M1137.1608,-3566.2137C1201.2117,-3555.4116 1259.4257,-3499.8513 1286.6139,-3470.0915"/>
<polygon fill="#cc00ff" stroke="#cc00ff" points="1289.3938,-3472.2328 1293.4387,-3462.4405 1284.1701,-3467.5732 1289.3938,-3472.2328"/>
<path fill="none" stroke="#cc00ff" stroke-dasharray="5,2" d="M585.7192,-3566.2137C829.8354,-3587.9861 895.4884,-3606.9711 1137.1608,-3566.2137"/>
</g>
<!-- sourcefile~dataglobals.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node23" class="node">
<title>sourcefile~dataglobals.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node23"><a xlink:href="../sourcefile/dataglobals.f90.html" xlink:title="DataGlobals.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="267.6355,-1351.2191 180.0456,-1351.2191 180.0456,-1329.2082 267.6355,-1329.2082 267.6355,-1351.2191"/>
<text text-anchor="middle" x="223.8406" y="-1337.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataGlobals.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataglobals.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge218" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataglobals.f90</title>
<path fill="none" stroke="#ff00f4" stroke-dasharray="5,2" d="M67.2247,-1046.254C74.5339,-1084.4515 102.891,-1213.2435 166.4788,-1297.2137 174.2079,-1307.4203 184.9873,-1316.3673 195.1177,-1323.419"/>
<polygon fill="#ff00f4" stroke="#ff00f4" points="193.4838,-1326.5337 203.7602,-1329.112 197.3346,-1320.6881 193.4838,-1326.5337"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge227" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M399.0839,-3146.2137C447.0746,-3158.9489 449.2464,-3108.4132 480.9653,-3070.2137 500.1065,-3047.1617 493.309,-3031.6026 516.9653,-3013.2137 564.9565,-2975.9083 1515.2687,-2718.8524 1557.583,-2675.2137 1612.4506,-2618.6287 1658.3286,-2369.4222 1671.0726,-2294.5557"/>
<polygon fill="#ff00b7" stroke="#ff00b7" points="1674.5644,-2294.8957 1672.77,-2284.4539 1667.6612,-2293.7357 1674.5644,-2294.8957"/>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M223.8406,-2994.2137C283.7864,-3016.0111 267.3265,-3063.4516 317.2024,-3103.2137 349.3433,-3128.837 359.3006,-3135.8752 399.0839,-3146.2137"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~fluidproperties.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge234" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~fluidproperties.f90</title>
<path fill="none" stroke="#ff007a" stroke-dasharray="5,2" d="M223.8406,-2994.2137C268.4506,-3010.5179 271.2312,-3034.2748 317.2024,-3046.2137 387.649,-3064.5089 418.3789,-3083.3671 480.9653,-3046.2137 509.6973,-3029.1574 492.9396,-3003.4346 516.9653,-2980.2137 632.3523,-2868.6917 742.5449,-2945.9749 839.6448,-2818.2137 889.8019,-2752.2184 849.1938,-2713.7723 875.6448,-2635.2137 895.067,-2577.5302 929.7763,-2514.3919 947.978,-2483.0966"/>
<polygon fill="#ff007a" stroke="#ff007a" points="951.0116,-2484.8425 953.0616,-2474.4479 944.9768,-2481.2954 951.0116,-2484.8425"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~inputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge240" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~inputprocessor.f90</title>
<path fill="none" stroke="#ff003d" stroke-dasharray="5,2" d="M223.8406,-2994.2137C322.4048,-3033.6871 279.7531,-2142.5646 317.2024,-2043.2137 320.5564,-2034.3156 509.3851,-1770.9551 516.9653,-1765.2137 522.015,-1761.3889 527.7067,-1758.1056 533.5987,-1755.2978"/>
<polygon fill="#ff003d" stroke="#ff003d" points="535.1581,-1758.4371 542.9588,-1751.2677 532.3898,-1752.0078 535.1581,-1758.4371"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge23" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M585.7192,-826.2137C750.3599,-849.5442 793.5761,-826.2137 959.8616,-826.2137 959.8616,-826.2137 959.8616,-826.2137 1137.1608,-826.2137 1246.1067,-826.2137 1298.3025,-807.167 1375.3286,-884.2137 1423.1904,-932.0882 1365.3759,-982.5038 1411.3286,-1032.2137 1434.5485,-1057.332 1463.4793,-1029.1937 1484.4558,-1056.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1484.4558,-1056.2137C1537.1583,-1121.4762 1527.9378,-1151.7413 1557.583,-1230.2137 1575.3149,-1277.1509 1557.6594,-1302.1848 1593.583,-1337.2137 1597.3076,-1340.8454 1601.5478,-1343.9509 1606.0904,-1346.6062"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1604.6384,-1349.7939 1615.1425,-1351.1776 1607.794,-1343.5455 1604.6384,-1349.7939"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M223.8406,-788.2137C374.6133,-729.727 425.8603,-801.7546 585.7192,-826.2137"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge54" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M585.7192,-826.2137C596.608,-828.4757 1367.6518,-951.1669 1375.3286,-959.2137 1467.7215,-1056.0589 1327.7384,-1153.6759 1411.3286,-1258.2137 1414.3764,-1262.0252 1418.0255,-1265.2786 1422.0448,-1268.0556"/>
<polygon fill="#ffbf00" stroke="#ffbf00" points="1420.3367,-1271.1111 1430.7408,-1273.1127 1423.8558,-1265.0599 1420.3367,-1271.1111"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataairsystems.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge67" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataairsystems.f90</title>
<path fill="none" stroke="#7fff00" stroke-dasharray="5,2" d="M223.8406,-255.2137C244.1731,-242.5299 630.6101,-232.4143 654.4731,-230.2137 703.8054,-225.6643 715.8143,-221.6293 765.059,-216.2137"/>
<path fill="none" stroke="#7fff00" stroke-dasharray="5,2" d="M765.059,-216.2137C940.9743,-206.9893 1408.996,-138.5923 1557.583,-233.2137 1588.0965,-252.6448 1572.3991,-276.8899 1593.583,-306.2137 1753.0804,-526.9976 1857.8802,-525.3104 2030.231,-736.2137 2062.2742,-775.4245 2092.9946,-826.4355 2108.8843,-854.1491"/>
<polygon fill="#7fff00" stroke="#7fff00" points="2105.8839,-855.9535 2113.8641,-862.9226 2111.9717,-852.4981 2105.8839,-855.9535"/>
</g>
<!-- sourcefile~datasurfaces.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node30" class="node">
<title>sourcefile~datasurfaces.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node30"><a xlink:href="../sourcefile/datasurfaces.f90.html" xlink:title="DataSurfaces.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="632.3482,-798.2191 539.0902,-798.2191 539.0902,-776.2082 632.3482,-776.2082 632.3482,-798.2191"/>
<text text-anchor="middle" x="585.7192" y="-784.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataSurfaces.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datasurfaces.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge75" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datasurfaces.f90</title>
<path fill="none" stroke="#00ff3f" stroke-dasharray="5,2" d="M223.8406,-788.2137C268.7826,-771.541 270.9056,-746.6383 317.2024,-734.2137 387.4985,-715.3484 410.1687,-717.3233 480.9653,-734.2137 510.1921,-741.1864 540.4962,-757.7044 560.9445,-770.4617"/>
<polygon fill="#00ff3f" stroke="#00ff3f" points="559.2985,-773.5638 569.6069,-776.0108 563.0744,-767.6695 559.2985,-773.5638"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataruntimelanguage.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge78" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataruntimelanguage.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M72.0277,-1046.4804C103.1827,-1096.5944 237.8779,-1296.2366 399.0839,-1283.2137"/>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M399.0839,-1283.2137C434.4618,-1283.8695 473.6183,-1283.9658 506.8922,-1283.8606"/>
<polygon fill="#00ffff" stroke="#00ffff" points="507.0325,-1287.3602 517.019,-1283.8219 507.0057,-1280.3603 507.0325,-1287.3602"/>
</g>
<!-- sourcefile~datazonecontrols.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node32" class="node">
<title>sourcefile~datazonecontrols.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node32"><a xlink:href="../sourcefile/datazonecontrols.f90.html" xlink:title="DataZoneControls.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="456.3078,-186.2191 341.8599,-186.2191 341.8599,-164.2082 456.3078,-164.2082 456.3078,-186.2191"/>
<text text-anchor="middle" x="399.0839" y="-172.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataZoneControls.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datazonecontrols.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge80" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datazonecontrols.f90</title>
<path fill="none" stroke="#003fff" stroke-dasharray="5,2" d="M223.8406,-255.2137C265.2232,-228.8158 272.1329,-215.6588 317.2024,-196.2137 323.2682,-193.5966 329.7326,-191.2505 336.2678,-189.1612"/>
<polygon fill="#003fff" stroke="#003fff" points="337.2845,-192.5103 345.8552,-186.2819 335.271,-185.8061 337.2845,-192.5103"/>
</g>
<!-- sourcefile~dataairloop.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node33" class="node">
<title>sourcefile~dataairloop.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node33"><a xlink:href="../sourcefile/dataairloop.f90.html" xlink:title="DataAirLoop.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="442.968,-227.2191 355.1998,-227.2191 355.1998,-205.2082 442.968,-205.2082 442.968,-227.2191"/>
<text text-anchor="middle" x="399.0839" y="-213.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataAirLoop.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataairloop.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge82" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataairloop.f90</title>
<path fill="none" stroke="#7f00ff" stroke-dasharray="5,2" d="M223.8406,-255.2137C260.1095,-232.0778 308.2103,-222.5527 344.8417,-218.6871"/>
<polygon fill="#7f00ff" stroke="#7f00ff" points="345.2242,-222.1666 354.8501,-217.7403 344.5649,-215.1977 345.2242,-222.1666"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge90" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataheatbalance.f90</title>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M585.7192,-444.2137C697.8962,-460.5395 738.0596,-417.9079 839.6448,-468.2137 860.7839,-478.6819 857.7273,-491.8707 875.6448,-507.2137 944.1163,-565.8468 983.0164,-553.899 1044.0784,-620.2137 1085.6689,-665.3818 1115.7548,-732.4691 1129.2468,-766.2156"/>
<polygon fill="#ff00bf" stroke="#ff00bf" points="1126.142,-767.8871 1133.0378,-775.9307 1132.6631,-765.3425 1126.142,-767.8871"/>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M223.8406,-255.2137C265.2232,-228.8158 274.2973,-290.37 317.2024,-314.2137 433.0997,-378.6211 455.221,-420.7462 585.7192,-444.2137"/>
</g>
<!-- sourcefile~datasystemvariables.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node35" class="node">
<title>sourcefile~datasystemvariables.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node35"><a xlink:href="../sourcefile/datasystemvariables.f90.html" xlink:title="DataSystemVariables.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="463.7837,-1103.2191 334.3841,-1103.2191 334.3841,-1081.2082 463.7837,-1081.2082 463.7837,-1103.2191"/>
<text text-anchor="middle" x="399.0839" y="-1089.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataSystemVariables.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datasystemvariables.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge17" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datasystemvariables.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M223.8406,-788.2137C317.3255,-753.5325 264.4357,-907.6094 317.2024,-992.2137 336.2164,-1022.7 363.4792,-1054.1722 381.2329,-1073.4696"/>
<polygon fill="#ff0000" stroke="#ff0000" points="378.8302,-1076.0252 388.2076,-1080.9562 383.952,-1071.2536 378.8302,-1076.0252"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge40" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M765.059,-216.2137C1138.8711,-195.3383 1275.9233,-833.5411 1299.1048,-958.2524"/>
<polygon fill="#00ffff" stroke="#00ffff" points="1295.6643,-958.8956 1300.896,-968.1087 1302.5515,-957.644 1295.6643,-958.8956"/>
</g>
<!-- sourcefile~dataroomair.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node41" class="node">
<title>sourcefile~dataroomair.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node41"><a xlink:href="../sourcefile/dataroomair.f90.html" xlink:title="DataRoomAir.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="445.0438,-305.2191 353.1239,-305.2191 353.1239,-283.2082 445.0438,-283.2082 445.0438,-305.2191"/>
<text text-anchor="middle" x="399.0839" y="-291.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataRoomAir.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataroomair.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge34" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataroomair.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M223.8406,-255.2137C234.6881,-248.294 304.4511,-266.5267 352.6137,-280.3433"/>
<polygon fill="#ff0000" stroke="#ff0000" points="351.6553,-283.7095 362.2341,-283.1264 353.6007,-276.9852 351.6553,-283.7095"/>
</g>
<!-- sourcefile~datavectortypes.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node42" class="node">
<title>sourcefile~datavectortypes.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node42"><a xlink:href="../sourcefile/datavectortypes.f90.html" xlink:title="DataVectorTypes.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="278.8255,-663.2191 168.8556,-663.2191 168.8556,-641.2082 278.8255,-641.2082 278.8255,-663.2191"/>
<text text-anchor="middle" x="223.8406" y="-649.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataVectorTypes.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datavectortypes.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge68" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datavectortypes.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M69.2129,-1024.1631C82.294,-987.9682 125.52,-869.8174 166.4788,-774.2137 181.9632,-738.0707 201.828,-696.8243 213.6553,-672.7383"/>
<polygon fill="#ff0000" stroke="#ff0000" points="216.9119,-674.048 218.1959,-663.5312 210.6338,-670.9518 216.9119,-674.048"/>
</g>
<!-- sourcefile~databsdfwindow.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node43" class="node">
<title>sourcefile~databsdfwindow.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node43"><a xlink:href="../sourcefile/databsdfwindow.f90.html" xlink:title="DataBSDFWindow.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="457.5516,-682.2191 340.6161,-682.2191 340.6161,-660.2082 457.5516,-660.2082 457.5516,-682.2191"/>
<text text-anchor="middle" x="399.0839" y="-668.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataBSDFWindow.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~databsdfwindow.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge71" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~databsdfwindow.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M223.8406,-788.2137C278.4584,-767.9515 267.1525,-726.0242 317.2024,-696.2137 324.1021,-692.1041 331.7368,-688.6156 339.4889,-685.669"/>
<polygon fill="#00ffff" stroke="#00ffff" points="340.6886,-688.9573 348.9615,-682.3384 338.3667,-682.3536 340.6886,-688.9573"/>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M67.5965,-1023.9548C77.3355,-980.8957 118.9652,-827.1204 223.8406,-788.2137"/>
</g>
<!-- sourcefile~datacomplexfenestration.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node44" class="node">
<title>sourcefile~datacomplexfenestration.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node44"><a xlink:href="../sourcefile/datacomplexfenestration.f90.html" xlink:title="DataComplexFenestration.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="475.0737,-533.2191 323.0941,-533.2191 323.0941,-511.2082 475.0737,-511.2082 475.0737,-533.2191"/>
<text text-anchor="middle" x="399.0839" y="-519.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataComplexFenestration.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datacomplexfenestration.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge84" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datacomplexfenestration.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M223.8406,-255.2137C309.6112,-200.5007 252.6558,-385.5762 317.2024,-464.2137 331.284,-481.3694 351.6302,-495.8147 368.5177,-505.9983"/>
<polygon fill="#ff0000" stroke="#ff0000" points="367.0773,-509.2093 377.482,-511.2075 370.5944,-503.157 367.0773,-509.2093"/>
</g>
<!-- sourcefile~dataequivalentlayerwindow.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node45" class="node">
<title>sourcefile~dataequivalentlayerwindow.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node45"><a xlink:href="../sourcefile/dataequivalentlayerwindow.f90.html" xlink:title="DataEquivalentLayerWindow.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="480.847,-455.2191 317.3208,-455.2191 317.3208,-433.2082 480.847,-433.2082 480.847,-455.2191"/>
<text text-anchor="middle" x="399.0839" y="-441.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataEquivalentLayerWindow.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataequivalentlayerwindow.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge86" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataequivalentlayerwindow.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M223.8406,-255.2137C233.603,-248.9862 342.1802,-376.4315 383.3677,-425.4238"/>
<polygon fill="#00ffff" stroke="#00ffff" points="380.698,-427.6873 389.8071,-433.0978 386.0602,-423.1876 380.698,-427.6873"/>
</g>
<!-- sourcefile~datacontaminantbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node46" class="node">
<title>sourcefile~datacontaminantbalance.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node46"><a xlink:href="../sourcefile/datacontaminantbalance.f90.html" xlink:title="DataContaminantBalance.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="839.7307,-2035.2191 690.3872,-2035.2191 690.3872,-2013.2082 839.7307,-2013.2082 839.7307,-2035.2191"/>
<text text-anchor="middle" x="765.059" y="-2021.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataContaminantBalance.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datacontaminantbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge129" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~datacontaminantbalance.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M223.8406,-2994.2137C278.5444,-3015.6421 645.3163,-2082.7975 690.4731,-2045.2137 692.7511,-2043.3177 695.1894,-2041.5926 697.7435,-2040.0229"/>
<polygon fill="#ff0000" stroke="#ff0000" points="699.5828,-2043.0103 706.8093,-2035.2625 696.3285,-2036.8128 699.5828,-2043.0103"/>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge201" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1137.1608,-3566.2137C1248.4342,-3541.6036 1283.3987,-3538.5659 1375.3286,-3471.2137 1395.7107,-3456.2808 1392.0556,-3443.5529 1411.3286,-3427.2137 1468.5064,-3378.7396 1505.3331,-3396.9629 1557.583,-3343.2137 1581.1456,-3318.9749 1566.158,-3295.9769 1593.583,-3276.2137 1623.2261,-3254.852 1642.6984,-3280.0399 1674.5929,-3262.2137"/>
</g>
<!-- sourcefile~dataerrortracking.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node49" class="node">
<title>sourcefile~dataerrortracking.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node49"><a xlink:href="../sourcefile/dataerrortracking.f90.html" xlink:title="DataErrorTracking.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1541.8589,-3196.2191 1427.0527,-3196.2191 1427.0527,-3174.2082 1541.8589,-3174.2082 1541.8589,-3196.2191"/>
<text text-anchor="middle" x="1484.4558" y="-3182.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataErrorTracking.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataerrortracking.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge194" class="edge">
<title>sourcefile~dataprecisionglobals.f90&#45;&gt;sourcefile~dataerrortracking.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M399.0839,-3490.2137C427.6456,-3514.2947 447.9147,-3491.7975 480.9653,-3509.2137 500.1675,-3519.3323 498.3364,-3531.0748 516.9653,-3542.2137 544.7438,-3558.8233 553.5511,-3562.6452 585.7192,-3566.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M585.7192,-3566.2137C723.5351,-3581.5019 1068.1035,-3485.796 1194.2432,-3428.2137 1316.3647,-3372.4656 1428.3864,-3250.9511 1468.6621,-3204.1316"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1471.5186,-3206.1754 1475.3337,-3196.2913 1466.1875,-3201.6389 1471.5186,-3206.1754"/>
</g>
<!-- sourcefile~databranchairloopplant.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge267" class="edge">
<title>sourcefile~databranchairloopplant.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1855.1041,-3376.2137C1911.4068,-3352.6662 1934.5316,-3395.5429 1992.4182,-3376.2137"/>
</g>
<!-- sourcefile~databranchairloopplant.f90&#45;&gt;sourcefile~plantutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge7" class="edge">
<title>sourcefile~databranchairloopplant.f90&#45;&gt;sourcefile~plantutilities.f90</title>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M1674.5929,-3490.2137C1760.6495,-3477.1138 1768.5242,-3557.1993 1855.1041,-3566.2137"/>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M1855.1041,-3566.2137C1915.8045,-3572.5335 1936.2315,-3590.0366 1992.4182,-3566.2137"/>
</g>
<!-- sourcefile~databranchairloopplant.f90&#45;&gt;sourcefile~curvemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge141" class="edge">
<title>sourcefile~databranchairloopplant.f90&#45;&gt;sourcefile~curvemanager.f90</title>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M1307.4955,-3439.7904C1320.0754,-3408.911 1354.8929,-3320.994 1375.3286,-3245.2137 1397.5929,-3162.6527 1377.4437,-3134.7236 1411.3286,-3056.2137 1425.0036,-3024.5292 1450.003,-2993.1416 1466.9209,-2973.9667"/>
<polygon fill="#00ff66" stroke="#00ff66" points="1469.7409,-2976.0658 1473.8378,-2966.2951 1464.542,-2971.3784 1469.7409,-2976.0658"/>
</g>
<!-- sourcefile~databranchairloopplant.f90&#45;&gt;sourcefile~standardratings.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge154" class="edge">
<title>sourcefile~databranchairloopplant.f90&#45;&gt;sourcefile~standardratings.f90</title>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M1674.5929,-3490.2137C1711.7165,-3484.5626 1722.8607,-3484.5997 1755.6028,-3466.2137 1807.5955,-3437.0175 1799.098,-3396.6824 1855.1041,-3376.2137"/>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M1342.5656,-3462.2969C1353.4961,-3466.0379 1365.1384,-3470.6934 1375.3286,-3476.2137 1393.1513,-3485.8685 1392.156,-3497.6354 1411.3286,-3504.2137 1522.1582,-3542.2401 1558.7556,-3507.8468 1674.5929,-3490.2137"/>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M1855.1041,-3376.2137C1937.8776,-3345.9622 1975.2116,-3352.0575 2030.231,-3283.2137 2069.5728,-3233.9865 2105.4537,-3039.5326 2116.5673,-2974.5151"/>
<polygon fill="#00ffa3" stroke="#00ffa3" points="2120.0845,-2974.7061 2118.2967,-2964.2632 2113.182,-2973.5417 2120.0845,-2974.7061"/>
</g>
<!-- sourcefile~databranchairloopplant.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge200" class="edge">
<title>sourcefile~databranchairloopplant.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1674.5929,-3262.2137C1735.5803,-3234.0093 1800.006,-3187.6573 1832.9118,-3162.5984"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1835.1568,-3165.2873 1840.9534,-3156.4187 1830.8915,-3159.7368 1835.1568,-3165.2873"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1351.06,-3440.107C1359.7461,-3436.6306 1368.2698,-3432.1008 1375.3286,-3426.2137 1400.3916,-3405.3107 1386.5941,-3383.5042 1411.3286,-3362.2137 1506.1896,-3280.5608 1560.9899,-3314.7508 1674.5929,-3262.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge268" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M399.0839,-748.2137C423.798,-711.3986 448.9061,-721.846 480.9653,-691.2137 499.9896,-673.0361 496.6911,-660.9856 516.9653,-644.2137 654.3958,-530.5237 704.3,-513.7463 875.6448,-464.2137 1295.8407,-342.7427 1417.7029,-368.2137 1855.1041,-368.2137 1855.1041,-368.2137 1855.1041,-368.2137 1992.4182,-368.2137 2109.8005,-368.2137 2171.0972,-287.7145 2256.5284,-368.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~datahvacglobals.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge1" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~datahvacglobals.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M399.0839,-2880.2137C429.2076,-2914.5098 445.5193,-2913.4518 480.9653,-2942.2137 511.1868,-2966.7362 544.9829,-2996.5487 565.8062,-3015.2083"/>
<polygon fill="#ff0000" stroke="#ff0000" points="563.5973,-3017.929 573.3741,-3022.0111 568.2769,-3012.723 563.5973,-3017.929"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~plantutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge9" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~plantutilities.f90</title>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M223.9472,-1351.5399C225.3711,-1496.3017 241.7929,-2982.9891 317.2024,-3160.2137 442.8815,-3455.5799 578.9419,-3495.7234 875.6448,-3618.2137 1008.6788,-3673.1352 1390.0782,-3775.2458 1674.5929,-3756.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataipshortcuts.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge12" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataipshortcuts.f90</title>
<path fill="none" stroke="#ff7a00" stroke-dasharray="5,2" d="M224.4572,-1351.5175C229.9191,-1450.3557 270.9112,-2165.9558 317.2024,-2248.2137 328.3726,-2268.0627 348.7813,-2283.5396 366.4281,-2294.0658"/>
<polygon fill="#ff7a00" stroke="#ff7a00" points="364.9151,-2297.2313 375.341,-2299.1159 368.366,-2291.141 364.9151,-2297.2313"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~datasizing.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge14" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~datasizing.f90</title>
<path fill="none" stroke="#ffb700" stroke-dasharray="5,2" d="M224.2273,-1351.2202C230.0352,-1516.226 299.5597,-3481.4245 317.2024,-3504.2137 325.0281,-3514.3221 336.8377,-3520.4602 349.071,-3524.1547"/>
<polygon fill="#ffb700" stroke="#ffb700" points="348.3535,-3527.5831 358.9047,-3526.623 350.0577,-3520.7937 348.3535,-3527.5831"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge107" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M2120.0962,-596.2137C2198.0383,-687.8249 2244.0785,-1081.2176 2254.3349,-1177.7584"/>
<polygon fill="#fff400" stroke="#fff400" points="2250.8631,-1178.2109 2255.3847,-1187.7925 2257.8251,-1177.4825 2250.8631,-1178.2109"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M399.0839,-748.2137C463.1708,-653.9251 560.7583,-789.1367 654.4731,-724.2137 684.5377,-703.3858 661.757,-672.8646 690.4731,-650.2137 743.7856,-608.1615 778.4418,-646.621 839.6448,-617.2137 858.1636,-608.3156 857.2922,-597.4498 875.6448,-588.2137 982.92,-534.226 1017.0665,-520.2137 1137.1608,-520.2137 1137.1608,-520.2137 1137.1608,-520.2137 1855.1041,-520.2137 1977.6264,-520.2137 2040.7019,-502.8956 2120.0962,-596.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~reportsizingmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge117" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~reportsizingmanager.f90</title>
<path fill="none" stroke="#8eff00" stroke-dasharray="5,2" d="M228.236,-1328.8663C239.3082,-1299.7274 268.375,-1219.6752 281.2024,-1150.2137 301.3919,-1040.8851 261.212,-747.2627 317.2024,-651.2137 361.2343,-575.6789 432.6216,-615.0641 480.9653,-542.2137 528.2466,-470.9642 460.2194,-417.1816 516.9653,-353.2137 572.4672,-290.648 792.9973,-252.0318 875.6448,-239.2137 949.6197,-227.7406 969.4274,-233.6311 1044.0784,-239.2137 1085.7971,-242.3334 1096.0691,-245.3609 1137.1608,-253.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~globalnames.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge121" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~globalnames.f90</title>
<path fill="none" stroke="#51ff00" stroke-dasharray="5,2" d="M399.0839,-748.2137C432.8698,-697.4863 600.4307,-676.3945 654.4731,-648.2137 671.9733,-639.0881 672.9166,-631.2303 690.4731,-622.2137 698.2406,-618.2245 706.7806,-614.6685 715.2228,-611.5781"/>
<polygon fill="#51ff00" stroke="#51ff00" points="716.3742,-614.8834 724.6663,-608.2886 714.0715,-608.273 716.3742,-614.8834"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataloopnode.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge125" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataloopnode.f90</title>
<path fill="none" stroke="#14ff00" stroke-dasharray="5,2" d="M223.9471,-1351.5172C225.2738,-1484.5534 239.8913,-2749.7428 317.2024,-2894.2137 360.2772,-2974.7074 427.5452,-2944.1801 480.9653,-3018.2137 510.0784,-3058.5607 481.4398,-3089.3799 516.9653,-3124.2137 524.4301,-3131.533 865.5698,-3235.4225 875.6448,-3238.2137 990.76,-3270.1048 1025.7126,-3343.2006 1137.1608,-3300.2137"/>
<path fill="none" stroke="#14ff00" stroke-dasharray="5,2" d="M1137.1608,-3300.2137C1162.6976,-3289.9529 1169.0985,-3287.4012 1194.2432,-3276.2137 1220.259,-3264.6385 1249.456,-3250.8756 1271.0103,-3240.5659"/>
<polygon fill="#14ff00" stroke="#14ff00" points="1272.5391,-3243.7145 1280.0421,-3236.2342 1269.5119,-3237.4029 1272.5391,-3243.7145"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~outairnodemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge134" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~outairnodemanager.f90</title>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M226.29,-1351.3401C234.6314,-1387.6511 264.3855,-1505.1287 317.2024,-1588.2137 385.4503,-1695.5728 403.4647,-1735.7563 516.9653,-1793.2137 905.6868,-1989.9957 1093.946,-1758.005 1484.4558,-1951.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~curvemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge143" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~curvemanager.f90</title>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M1302.7859,-3110.2137C1305.1226,-3109.0386 1416.7496,-3013.3264 1463.8434,-2972.9098"/>
<polygon fill="#00ff66" stroke="#00ff66" points="1466.282,-2975.4292 1471.5906,-2966.2603 1461.7228,-2970.1175 1466.282,-2975.4292"/>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M399.0839,-2880.2137C423.5603,-2907.8539 454.1724,-2868.8125 480.9653,-2894.2137 533.5465,-2944.0634 464.8502,-3002.8769 516.9653,-3053.2137 552.022,-3087.0741 1215.3958,-3154.1592 1302.7859,-3110.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~standardratings.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge155" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~standardratings.f90</title>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M399.0839,-2880.2137C401.8035,-2883.2723 686.3917,-2923.9072 690.4731,-2924.2137 756.5856,-2929.177 773.7779,-2931.767 839.6448,-2924.2137 868.4152,-2920.9144 1829.2753,-2675.1181 1855.1041,-2688.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataenvironment.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge159" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataenvironment.f90</title>
<path fill="none" stroke="#00ffe0" stroke-dasharray="5,2" d="M399.0839,-1359.2137C434.7209,-1370.424 451.6267,-1355.0854 480.9653,-1378.2137 509.0619,-1400.3627 490.5867,-1426.0441 516.9653,-1450.2137 626.5078,-1550.5825 800.4982,-1596.2724 894.4795,-1614.5917"/>
<polygon fill="#00ffe0" stroke="#00ffe0" points="893.9488,-1618.0535 904.4271,-1616.4865 895.2587,-1611.1771 893.9488,-1618.0535"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~outputreportpredefined.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge162" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~outputreportpredefined.f90</title>
<path fill="none" stroke="#00e0ff" stroke-dasharray="5,2" d="M228.1125,-1328.8426C238.895,-1299.6479 267.3381,-1219.4757 281.2024,-1150.2137 296.6358,-1073.1129 275.285,-864.7392 317.2024,-798.2137 339.9337,-762.1377 375.4898,-783.7313 399.0839,-748.2137"/>
<path fill="none" stroke="#00e0ff" stroke-dasharray="5,2" d="M399.0839,-748.2137C423.6191,-711.2791 457.7937,-729.0186 480.9653,-691.2137 542.1581,-591.3766 437.6226,-516.3341 516.9653,-430.2137 612.6333,-326.3735 996.755,-277.3362 1137.1608,-292.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~psychroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge166" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~psychroutines.f90</title>
<path fill="none" stroke="#00a3ff" stroke-dasharray="5,2" d="M399.0839,-2349.2137C505.9278,-2448.7775 977.315,-2235.3564 1105.1084,-2174.6928"/>
<polygon fill="#00a3ff" stroke="#00a3ff" points="1106.8635,-2177.7335 1114.3841,-2170.2708 1103.8512,-2171.4148 1106.8635,-2177.7335"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~branchnodeconnections.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge173" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~branchnodeconnections.f90</title>
<path fill="none" stroke="#0066ff" stroke-dasharray="5,2" d="M765.059,-2804.2137C918.6816,-2725.296 965.0007,-2678.4732 1137.1608,-2692.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~schedulemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge179" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~schedulemanager.f90</title>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M585.7192,-1436.2137C668.0323,-1447.9388 881.7977,-1462.8307 959.8616,-1434.2137"/>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M959.8616,-1434.2137C995.2567,-1421.9097 1036.1194,-1413.043 1069.6889,-1407.0797"/>
<polygon fill="#0028ff" stroke="#0028ff" points="1070.6011,-1410.474 1079.8588,-1405.3217 1069.4087,-1403.5763 1070.6011,-1410.474"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~general.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge188" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~general.f90</title>
<path fill="none" stroke="#1400ff" stroke-dasharray="5,2" d="M224.1145,-1351.3753C226.7645,-1455.3533 249.2388,-2252.4747 317.2024,-2330.2137 341.7914,-2358.3393 371.7526,-2323.7446 399.0839,-2349.2137"/>
<path fill="none" stroke="#1400ff" stroke-dasharray="5,2" d="M399.0839,-2349.2137C429.5831,-2377.6348 548.8689,-2349.7077 585.7192,-2330.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge212" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataplant.f90</title>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M399.0839,-3032.2137C414.544,-3065.7407 454.2232,-3020.7591 480.9653,-3046.2137 534.3893,-3097.0652 468.5808,-3152.5455 516.9653,-3208.2137 570.9861,-3270.3665 611.8264,-3248.8022 690.4731,-3273.2137 1001.6943,-3369.8147 1086.9202,-3376.3992 1411.3286,-3407.2137 1527.8518,-3418.2818 1564.7811,-3454.7295 1674.5929,-3414.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~databranchairloopplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge216" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~databranchairloopplant.f90</title>
<path fill="none" stroke="#cc00ff" stroke-dasharray="5,2" d="M224.1376,-1351.4754C227.9704,-1495.3294 268.4095,-2970.2491 317.2024,-3046.2137 361.631,-3115.3835 431.7874,-3066.3356 480.9653,-3132.2137 530.2908,-3198.2894 465.3348,-3249.9229 516.9653,-3314.2137 621.7034,-3444.6344 711.4823,-3396.115 875.6448,-3428.2137 1015.5975,-3455.5785 1051.9763,-3475.9974 1194.2432,-3466.2137 1203.6805,-3465.5646 1213.547,-3464.6018 1223.3198,-3463.4715"/>
<polygon fill="#cc00ff" stroke="#cc00ff" points="1223.9442,-3466.9215 1233.4482,-3462.2392 1223.0986,-3459.9727 1223.9442,-3466.9215"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge228" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M224.3468,-1351.5927C230.4032,-1485.4951 290.6849,-2758.3026 399.0839,-2880.2137"/>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M585.7192,-2690.2137C618.8928,-2665.8708 625.0225,-2656.9489 654.4731,-2628.2137 671.1246,-2611.9667 671.838,-2604.1408 690.4731,-2590.2137 750.0743,-2545.67 787.0819,-2566.8784 839.6448,-2514.2137 864.6381,-2489.1719 850.9948,-2468.5934 875.6448,-2443.2137 938.151,-2378.8567 1145.8004,-2280.5165 1230.2432,-2250.2137 1261.1495,-2239.1227 1270.0005,-2238.039 1302.7859,-2236.2137"/>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M399.0839,-2880.2137C430.3631,-2915.3919 477.87,-2730.4331 516.9653,-2704.2137 542.8645,-2686.8442 561.0624,-2709.3056 585.7192,-2690.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~fluidproperties.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge235" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~fluidproperties.f90</title>
<path fill="none" stroke="#ff007a" stroke-dasharray="5,2" d="M585.7192,-2690.2137C694.9393,-2637.4623 739.1289,-2658.0981 839.6448,-2590.2137 884.6277,-2559.834 925.4153,-2509.9434 945.9269,-2482.6124"/>
<polygon fill="#ff007a" stroke="#ff007a" points="948.9619,-2484.3941 952.0825,-2474.2692 943.3291,-2480.2382 948.9619,-2484.3941"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~inputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge241" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~inputprocessor.f90</title>
<path fill="none" stroke="#ff003d" stroke-dasharray="5,2" d="M229.2032,-1351.3618C242.1738,-1377.7313 277.144,-1445.3867 317.2024,-1494.2137 396.6443,-1591.0449 513.9335,-1685.3259 562.9205,-1723.017"/>
<polygon fill="#ff003d" stroke="#ff003d" points="560.913,-1725.8879 570.9826,-1729.1823 565.1653,-1720.3274 560.913,-1725.8879"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge24" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M585.7192,-978.2137C759.3872,-950.6046 1232.3827,-823.7964 1375.3286,-926.2137 1415.7731,-955.1912 1375.9669,-997.2136 1411.3286,-1032.2137 1435.6403,-1056.2767 1463.5679,-1029.1252 1484.4558,-1056.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M399.0839,-978.2137C464.6578,-927.4139 502.8797,-982.475 585.7192,-978.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge55" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M399.0839,-1359.2137C409.3095,-1361.9774 575.4178,-1400.6802 585.7192,-1398.2137"/>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M585.7192,-1398.2137C637.6843,-1385.7711 642.1182,-1361.951 690.4731,-1339.2137 770.2359,-1301.7077 788.9769,-1284.2596 875.6448,-1268.2137 949.2532,-1254.5856 971.6346,-1249.3504 1044.0784,-1268.2137 1089.937,-1280.1545 1089.9304,-1324.0717 1137.1608,-1320.2137"/>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M267.7478,-1341.1955C303.6214,-1342.8925 355.361,-1347.3963 399.0839,-1359.2137"/>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M1137.1608,-1320.2137C1235.5843,-1306.9365 1350.2772,-1295.9085 1420.1007,-1289.6891"/>
<polygon fill="#ffbf00" stroke="#ffbf00" points="1420.8383,-1293.1376 1430.4908,-1288.7697 1420.2212,-1286.1649 1420.8383,-1293.1376"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataairsystems.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge65" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataairsystems.f90</title>
<path fill="none" stroke="#7fff00" stroke-dasharray="5,2" d="M227.6022,-1329.1871C237.4096,-1300.1604 264.1789,-1219.1226 281.2024,-1150.2137 301.3965,-1068.4703 264.4065,-1029.8061 317.2024,-964.2137 377.8114,-888.9143 425.7753,-910.2734 516.9653,-878.2137 576.7816,-857.184 608.2355,-883.5992 654.4731,-840.2137 690.1426,-806.7445 651.9284,-766.3268 690.4731,-736.2137 785.1955,-662.2117 839.6592,-712.2137 959.8616,-712.2137 959.8616,-712.2137 959.8616,-712.2137 1855.1041,-712.2137 1963.7896,-712.2137 2065.6027,-812.6416 2103.9884,-855.3529"/>
<polygon fill="#7fff00" stroke="#7fff00" points="2101.5633,-857.8945 2110.8031,-863.0787 2106.8129,-853.264 2101.5633,-857.8945"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~datasurfaces.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge72" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~datasurfaces.f90</title>
<path fill="none" stroke="#00ff3f" stroke-dasharray="5,2" d="M227.97,-1328.8128C238.418,-1299.5481 266.1409,-1219.2253 281.2024,-1150.2137 293.7336,-1092.7959 280.6199,-934.2088 317.2024,-888.2137 368.7437,-823.4108 466.5809,-800.1802 528.8497,-791.8564"/>
<polygon fill="#00ff3f" stroke="#00ff3f" points="529.4155,-795.313 538.9044,-790.6002 528.5477,-788.367 529.4155,-795.313"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataruntimelanguage.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge76" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataruntimelanguage.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M246.3733,-1329.0971C279.068,-1313.8553 342.0022,-1287.825 399.0839,-1283.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~datazonecontrols.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge79" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~datazonecontrols.f90</title>
<path fill="none" stroke="#003fff" stroke-dasharray="5,2" d="M228.378,-1328.8913C239.7836,-1299.8109 269.5682,-1219.885 281.2024,-1150.2137 289.9381,-1097.9003 283.9051,-237.4967 317.2024,-196.2137 321.3139,-191.1161 326.48,-187.1576 332.2082,-184.096"/>
<polygon fill="#003fff" stroke="#003fff" points="333.8416,-187.2018 341.6015,-179.9882 331.0369,-180.7882 333.8416,-187.2018"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataairloop.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge81" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataairloop.f90</title>
<path fill="none" stroke="#7f00ff" stroke-dasharray="5,2" d="M228.3641,-1328.889C239.737,-1299.8031 269.4513,-1219.8654 281.2024,-1150.2137 297.4085,-1054.1556 270.6885,-359.8071 317.2024,-274.2137 327.2385,-255.7455 346.0032,-241.802 363.0392,-232.2206"/>
<polygon fill="#7f00ff" stroke="#7f00ff" points="365.0552,-235.1138 372.2594,-227.3453 361.7831,-228.9256 365.0552,-235.1138"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge91" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataheatbalance.f90</title>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M399.0839,-978.2137C495.3516,-903.4372 554.9621,-948.6164 654.4731,-878.2137 715.8461,-834.793 692.0786,-768.2652 765.059,-750.2137"/>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M227.0662,-1329.1955C240.1508,-1284.8171 289.8716,-1119.3001 317.2024,-1072.2137 345.0159,-1024.2955 355.2842,-1012.145 399.0839,-978.2137"/>
</g>
<!-- sourcefile~sortandstringutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node37" class="node">
<title>sourcefile~sortandstringutilities.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node37"><a xlink:href="../sourcefile/sortandstringutilities.f90.html" xlink:title="SortAndStringUtilities.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="463.3044,-1409.2191 334.8633,-1409.2191 334.8633,-1387.2082 463.3044,-1387.2082 463.3044,-1409.2191"/>
<text text-anchor="middle" x="399.0839" y="-1395.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SortAndStringUtilities.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~sortandstringutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge31" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~sortandstringutilities.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M254.0001,-1351.248C272.2306,-1357.8244 295.9744,-1366.225 317.2024,-1373.2137 328.3401,-1376.8804 340.3893,-1380.6614 351.7305,-1384.138"/>
<polygon fill="#ff0000" stroke="#ff0000" points="350.8881,-1387.5401 361.474,-1387.1043 352.9269,-1380.8435 350.8881,-1387.5401"/>
</g>
<!-- sourcefile~dataoutputs.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node38" class="node">
<title>sourcefile~dataoutputs.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node38"><a xlink:href="../sourcefile/dataoutputs.f90.html" xlink:title="DataOutputs.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="443.5485,-1485.2191 354.6193,-1485.2191 354.6193,-1463.2082 443.5485,-1463.2082 443.5485,-1485.2191"/>
<text text-anchor="middle" x="399.0839" y="-1471.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataOutputs.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataoutputs.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge32" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataoutputs.f90</title>
<path fill="none" stroke="#7fff00" stroke-dasharray="5,2" d="M236.51,-1351.4672C254.1744,-1367.0011 287.3945,-1395.6512 317.2024,-1418.2137 335.5088,-1432.0703 356.9538,-1446.6814 373.3042,-1457.5035"/>
<polygon fill="#7fff00" stroke="#7fff00" points="371.5328,-1460.5276 381.8114,-1463.0972 375.3787,-1454.6786 371.5328,-1460.5276"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge42" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M585.7192,-978.2137C826.4682,-929.3069 892.9763,-1043.1565 1137.1608,-1016.2137"/>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M1137.1608,-1016.2137C1175.7024,-1010.3613 1218.6472,-1000.6747 1251.1481,-992.6806"/>
<polygon fill="#00ffff" stroke="#00ffff" points="1252.0229,-996.0697 1260.8828,-990.2601 1250.3338,-989.2766 1252.0229,-996.0697"/>
</g>
<!-- sourcefile~dataglobalconstants.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node40" class="node">
<title>sourcefile~dataglobalconstants.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node40"><a xlink:href="../sourcefile/dataglobalconstants.f90.html" xlink:title="DataGlobalConstants.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="829.8794,-1370.2191 700.2385,-1370.2191 700.2385,-1348.2082 829.8794,-1348.2082 829.8794,-1370.2191"/>
<text text-anchor="middle" x="765.059" y="-1356.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataGlobalConstants.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataglobalconstants.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge47" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataglobalconstants.f90</title>
<path fill="none" stroke="#7f00ff" stroke-dasharray="5,2" d="M399.0839,-1359.2137C434.7209,-1370.424 448.0452,-1360.5519 480.9653,-1378.2137 500.3585,-1388.6181 498.1611,-1400.7792 516.9653,-1412.2137 544.6194,-1429.0296 553.6772,-1431.6494 585.7192,-1436.2137"/>
<path fill="none" stroke="#7f00ff" stroke-dasharray="5,2" d="M585.7192,-1436.2137C617.7613,-1440.7779 626.0456,-1427.6863 654.4731,-1412.2137 672.2766,-1402.5235 672.6098,-1393.793 690.4731,-1384.2137 697.9127,-1380.2242 706.108,-1376.7037 714.2603,-1373.6584"/>
<polygon fill="#7f00ff" stroke="#7f00ff" points="715.4994,-1376.9327 723.7629,-1370.3021 713.1681,-1370.3323 715.4994,-1376.9327"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataroomair.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge33" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataroomair.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M228.329,-1328.883C239.6195,-1299.783 269.1563,-1219.815 281.2024,-1150.2137 308.7495,-991.0483 268.5699,-578.2504 317.2024,-424.2137 330.9346,-380.7187 362.8555,-337.3266 382.5391,-313.3066"/>
<polygon fill="#ff0000" stroke="#ff0000" points="385.4476,-315.2846 389.1809,-305.3693 380.0792,-310.7924 385.4476,-315.2846"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~databsdfwindow.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge69" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~databsdfwindow.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M228.1769,-1328.8552C239.1104,-1299.6901 267.8786,-1219.5817 281.2024,-1150.2137 298.705,-1059.0894 272.663,-815.6152 317.2024,-734.2137 328.2729,-713.9808 348.8805,-698.1789 366.6513,-687.4613"/>
<polygon fill="#00ffff" stroke="#00ffff" points="368.6827,-690.3313 375.6202,-682.3236 365.2033,-684.2572 368.6827,-690.3313"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~datacomplexfenestration.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge83" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~datacomplexfenestration.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M228.2872,-1328.8756C239.4797,-1299.7585 268.8055,-1219.7534 281.2024,-1150.2137 292.982,-1084.1361 275.6777,-599.946 317.2024,-547.2137 319.7168,-544.0206 322.6282,-541.2245 325.8232,-538.7768"/>
<polygon fill="#ff0000" stroke="#ff0000" points="327.7333,-541.7099 334.2843,-533.3831 323.9705,-535.8072 327.7333,-541.7099"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataequivalentlayerwindow.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge85" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~dataequivalentlayerwindow.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M228.3043,-1328.8787C239.537,-1299.7686 268.9492,-1219.7788 281.2024,-1150.2137 306.2204,-1008.1781 247.4271,-628.4334 317.2024,-502.2137 327.3715,-483.8184 346.1437,-469.879 363.1507,-460.2817"/>
<polygon fill="#00ffff" stroke="#00ffff" points="365.1611,-463.177 372.3515,-455.3958 361.878,-456.9946 365.1611,-463.177"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~datacontaminantbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge127" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~datacontaminantbalance.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M224.3229,-1351.5417C227.4855,-1420.7368 247.351,-1786.1718 317.2024,-1868.2137 408.6322,-1975.5997 578.2239,-2009.122 680.4418,-2019.5489"/>
<polygon fill="#ff0000" stroke="#ff0000" points="680.133,-2023.0353 690.4238,-2020.5156 680.8078,-2016.0679 680.133,-2023.0353"/>
</g>
<!-- sourcefile~databranchnodeconnections.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node47" class="node">
<title>sourcefile~databranchnodeconnections.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node47"><a xlink:href="../sourcefile/databranchnodeconnections.f90.html" xlink:title="DataBranchNodeConnections.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1044.2957,-2666.2191 875.4274,-2666.2191 875.4274,-2644.2082 1044.2957,-2644.2082 1044.2957,-2666.2191"/>
<text text-anchor="middle" x="959.8616" y="-2652.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataBranchNodeConnections.f90</text>
</a>
</g>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~databranchnodeconnections.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge169" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~databranchnodeconnections.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M765.059,-2804.2137C830.0824,-2769.216 813.2987,-2719.7845 875.6448,-2680.2137 882.1637,-2676.0761 889.3978,-2672.5973 896.8092,-2669.6786"/>
<polygon fill="#ff0000" stroke="#ff0000" points="898.0317,-2672.9584 906.2514,-2666.2736 895.657,-2666.3735 898.0317,-2672.9584"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M399.0839,-2880.2137C436.7018,-2923.0419 599.484,-2871.2325 654.4731,-2856.2137 706.8659,-2841.9039 717.2344,-2829.9543 765.059,-2804.2137"/>
</g>
<!-- sourcefile~dataglobals.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge202" class="edge">
<title>sourcefile~dataglobals.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M399.0839,-3032.2137C414.7165,-3065.6606 453.139,-3021.949 480.9653,-3046.2137 521.0114,-3081.1339 480.0468,-3122.0019 516.9653,-3160.2137 575.7172,-3221.0236 793.4293,-3267.4591 875.6448,-3287.2137 1013.819,-3320.4138 1054.4841,-3339.9382 1194.2432,-3314.2137 1278.9473,-3298.6227 1312.6636,-3304.298 1375.3286,-3245.2137 1403.6971,-3218.4661 1381.0255,-3189.7477 1411.3286,-3165.2137 1434.5899,-3146.3807 1644.9604,-3104.0084 1674.5929,-3108.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M223.9115,-1351.2213C224.8519,-1486.1261 236.1684,-2818.2765 317.2024,-2970.2137 338.6836,-3010.4905 379.9692,-2990.7613 399.0839,-3032.2137"/>
</g>
<!-- sourcefile~nodeinputmanager.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge269" class="edge">
<title>sourcefile~nodeinputmanager.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1709.759,-2284.3058C1745.8113,-2294.8454 1803.7175,-2309.4814 1855.1041,-2312.2137"/>
</g>
<!-- sourcefile~nodeinputmanager.f90&#45;&gt;sourcefile~outairnodemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge135" class="edge">
<title>sourcefile~nodeinputmanager.f90&#45;&gt;sourcefile~outairnodemanager.f90</title>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M1692.2297,-2262.0753C1724.125,-2241.9322 1791.539,-2199.3575 1828.8611,-2175.7872"/>
<polygon fill="#00ff28" stroke="#00ff28" points="1831.0753,-2178.5284 1837.6615,-2170.2294 1827.3375,-2172.6099 1831.0753,-2178.5284"/>
</g>
<!-- sourcefile~nodeinputmanager.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge203" class="edge">
<title>sourcefile~nodeinputmanager.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1676.8752,-2284.239C1695.6939,-2375.1468 1825.1731,-3000.6252 1850.7287,-3124.0774"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1847.3573,-3125.0572 1852.8118,-3134.14 1854.212,-3123.6381 1847.3573,-3125.0572"/>
</g>
<!-- sourcefile~fluidproperties.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge270" class="edge">
<title>sourcefile~fluidproperties.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M975.1286,-2452.1482C992.282,-2439.5523 1020.7743,-2418.1361 1044.0784,-2398.2137 1130.6251,-2324.2253 1125.6212,-2267.1454 1230.2432,-2222.2137 1411.9695,-2144.168 1494.5966,-2116.2568 1674.5929,-2198.2137"/>
</g>
<!-- sourcefile~fluidproperties.f90&#45;&gt;sourcefile~plantutilities.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge4" class="edge">
<title>sourcefile~fluidproperties.f90&#45;&gt;sourcefile~plantutilities.f90</title>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M1484.4558,-3680.2137C1515.5336,-3694.5057 1525.6624,-3691.9188 1557.583,-3704.2137 1610.6885,-3724.6682 1617.9722,-3761.9302 1674.5929,-3756.2137"/>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M967.0835,-2474.3173C983.9354,-2500.8578 1025.8076,-2570.5848 1044.0784,-2635.2137 1089.6269,-2796.332 1046.0491,-2846.2753 1080.0784,-3010.2137 1113.5048,-3171.248 1148.6403,-3204.1954 1194.2432,-3362.2137 1212.296,-3424.7685 1193.1181,-3450.7278 1230.2432,-3504.2137 1269.422,-3560.6584 1422.031,-3651.5058 1484.4558,-3680.2137"/>
<path fill="none" stroke="#ff3d00" stroke-dasharray="5,2" d="M1674.5929,-3756.2137C1791.2038,-3744.4403 1824.3466,-3725.8699 1918.6055,-3656.2137 1960.21,-3625.4684 1946.5712,-3590.1775 1992.4182,-3566.2137"/>
</g>
<!-- sourcefile~fluidproperties.f90&#45;&gt;sourcefile~standardratings.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge148" class="edge">
<title>sourcefile~fluidproperties.f90&#45;&gt;sourcefile~standardratings.f90</title>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M1010.3546,-2471.9796C1021.505,-2474.1452 1033.2267,-2476.6005 1044.0784,-2479.2137 1275.9731,-2535.0553 1335.1314,-2549.1396 1557.583,-2635.2137 1610.8267,-2655.8154 1618.8915,-2675.6965 1674.5929,-2688.2137"/>
<path fill="none" stroke="#00ffa3" stroke-dasharray="5,2" d="M1674.5929,-2688.2137C1754.4597,-2695.8102 1791.1275,-2639.8049 1855.1041,-2688.2137"/>
</g>
<!-- sourcefile~fluidproperties.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge222" class="edge">
<title>sourcefile~fluidproperties.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M1001.3779,-2452.1772C1124.617,-2419.416 1488.1414,-2322.7788 1623.2548,-2286.8611"/>
<polygon fill="#ff00b7" stroke="#ff00b7" points="1624.1968,-2290.2323 1632.962,-2284.2806 1622.3984,-2283.4672 1624.1968,-2290.2323"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge271" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~planteirchillers.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M765.059,-1740.2137C851.3908,-1746.7497 873.7166,-1748.871 959.8616,-1740.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M959.8616,-1740.2137C1457.8596,-1690.1659 1684.5259,-1728.2816 2030.231,-2090.2137 2107.845,-2171.4708 2134.032,-2193.1789 2173.9614,-2298.2137 2227.5819,-2439.2629 2116.2501,-3027.8197 2256.5284,-2972.2137"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge113" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M635.6406,-1738.4427C671.6533,-1737.5968 721.41,-1737.3136 765.059,-1740.2137"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M765.059,-1740.2137C778.7181,-1741.1212 859.7081,-1711.3891 1044.0784,-1645.2137 1088.9941,-1629.0922 1807.8348,-1355.6615 1855.1041,-1362.2137"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~globalnames.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge122" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~globalnames.f90</title>
<path fill="none" stroke="#51ff00" stroke-dasharray="5,2" d="M589.1557,-1729.0242C600.7741,-1690.6421 638.7387,-1560.6038 654.4731,-1450.2137 676.8908,-1292.935 647.8786,-889.2653 690.4731,-736.2137 703.2253,-690.3922 733.0021,-642.7693 750.8354,-616.8777"/>
<polygon fill="#51ff00" stroke="#51ff00" points="753.93,-618.561 756.8115,-608.3655 748.201,-614.5388 753.93,-618.561"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~outairnodemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge137" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~outairnodemanager.f90</title>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M959.8616,-1740.2137C1148.9385,-1720.179 1209.6477,-1748.9329 1375.3286,-1842.2137 1435.0627,-1875.8448 1422.5645,-1921.7403 1484.4558,-1951.2137"/>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M1674.5929,-2046.2137C1737.3964,-2069.1522 1801.5471,-2116.0709 1833.8022,-2141.6438"/>
<polygon fill="#00ff28" stroke="#00ff28" points="1831.673,-2144.4228 1841.6615,-2147.9558 1836.0563,-2138.9651 1831.673,-2144.4228"/>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M1484.4558,-1951.2137C1570.5456,-1990.1036 1585.86,-2013.8046 1674.5929,-2046.2137"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~curvemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge147" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~curvemanager.f90</title>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M765.059,-2500.2137C816.7451,-2576.3292 806.423,-2614.6052 875.6448,-2675.2137 887.6277,-2685.7055 1324.8256,-2883.2357 1450.8049,-2940.0486"/>
<polygon fill="#00ff66" stroke="#00ff66" points="1449.4495,-2943.2767 1460.0043,-2944.1966 1452.3268,-2936.8954 1449.4495,-2943.2767"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~branchnodeconnections.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge175" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~branchnodeconnections.f90</title>
<path fill="none" stroke="#0066ff" stroke-dasharray="5,2" d="M635.4088,-1750.4027C642.7791,-1753.9581 649.5419,-1758.7516 654.4731,-1765.2137 713.9883,-1843.2037 658.2548,-2112.5504 690.4731,-2205.2137 739.2272,-2345.4351 754.5254,-2397.3701 875.6448,-2483.2137 938.6787,-2527.889 969.5649,-2505.7953 1044.0784,-2526.2137 1188.6817,-2565.8381 1358.678,-2616.9212 1438.5794,-2641.1997"/>
<polygon fill="#0066ff" stroke="#0066ff" points="1437.7423,-2644.6033 1448.328,-2644.1648 1439.7792,-2637.9062 1437.7423,-2644.6033"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~schedulemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge183" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~schedulemanager.f90</title>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M605.7787,-1729.1305C626.5645,-1717.9159 660.1896,-1700.5219 690.4731,-1688.2137 722.7336,-1675.102 734.5562,-1681.0134 765.059,-1664.2137"/>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M959.8616,-1472.2137C993.2283,-1452.1782 1009.0594,-1465.1968 1044.0784,-1448.2137 1061.8367,-1439.6014 1062.9422,-1432.0056 1080.0784,-1422.2137 1086.1372,-1418.7515 1092.7665,-1415.447 1099.2943,-1412.4404"/>
<polygon fill="#0028ff" stroke="#0028ff" points="1100.9854,-1415.5191 1108.7072,-1408.2649 1098.147,-1409.1204 1100.9854,-1415.5191"/>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M765.059,-1664.2137C795.5618,-1647.4139 815.8512,-1665.6403 839.6448,-1640.2137 884.7198,-1592.0448 829.7646,-1543.6163 875.6448,-1496.2137 902.7125,-1468.2477 926.4949,-1492.2491 959.8616,-1472.2137"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~general.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge192" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~general.f90</title>
<path fill="none" stroke="#1400ff" stroke-dasharray="5,2" d="M635.503,-1750.7664C642.7681,-1754.2817 649.4718,-1758.9676 654.4731,-1765.2137 732.6207,-1862.8095 608.7545,-1949.5877 690.4731,-2044.2137 698.4414,-2053.4404 710.115,-2058.7663 721.8721,-2061.7968"/>
<polygon fill="#1400ff" stroke="#1400ff" points="721.185,-2065.2287 731.6881,-2063.8378 722.61,-2058.3753 721.185,-2065.2287"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~dataplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge215" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~dataplant.f90</title>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M765.059,-2500.2137C841.6782,-2609.4904 924.1949,-2552.5632 1044.0784,-2611.2137 1449.0529,-2809.339 1606.2848,-2800.0771 1918.6055,-3125.2137 1952.1324,-3160.1164 1974.7388,-3213.2596 1985.39,-3242.362"/>
<polygon fill="#5100ff" stroke="#5100ff" points="1982.136,-3243.6582 1988.7713,-3251.9179 1988.735,-3241.3231 1982.136,-3243.6582"/>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M635.5164,-1750.3215C642.8747,-1753.8859 649.6056,-1758.7035 654.4731,-1765.2137 693.1375,-1816.9259 674.1709,-2282.7371 690.4731,-2345.2137 709.7751,-2419.1865 723.96,-2435.751 765.059,-2500.2137"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge231" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M1137.1608,-2082.2137C1295.7517,-2140.1664 1338.0638,-2152.077 1484.4558,-2236.2137"/>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M765.059,-1740.2137C989.5604,-1747.5048 931.958,-1990.8577 1137.1608,-2082.2137"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~fluidproperties.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge237" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~fluidproperties.f90</title>
<path fill="none" stroke="#ff007a" stroke-dasharray="5,2" d="M635.59,-1750.6973C642.8451,-1754.2206 649.5228,-1758.9271 654.4731,-1765.2137 698.7443,-1821.4351 665.0162,-2018.3351 690.4731,-2085.2137 731.3292,-2192.5475 787.1906,-2194.0455 839.6448,-2296.2137 861.985,-2339.727 846.7928,-2360.7161 875.6448,-2400.2137 889.8609,-2419.6752 911.8056,-2435.816 929.7299,-2446.8867"/>
<polygon fill="#ff007a" stroke="#ff007a" points="928.2903,-2450.1026 938.6745,-2452.2046 931.8676,-2444.0857 928.2903,-2450.1026"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge29" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M765.059,-1664.2137C813.8545,-1637.339 823.7083,-1625.3596 875.6448,-1605.2137 947.6759,-1577.273 974.1021,-1594.9624 1044.0784,-1562.2137 1061.9542,-1553.8478 1063.7574,-1547.3113 1080.0784,-1536.2137 1145.5827,-1491.6733 1157.4758,-1471.5117 1230.2432,-1440.2137 1306.4255,-1407.4468 1329.8003,-1410.3977 1411.3286,-1395.2137 1468.2174,-1384.6185 1532.6693,-1376.4752 1583.5622,-1370.9289"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1583.9854,-1374.4036 1593.5537,-1369.8542 1583.2368,-1367.4438 1583.9854,-1374.4036"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge63" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M1137.1608,-1436.2137C1162.1806,-1426.7821 1170.9876,-1430.4092 1194.2432,-1417.2137 1212.6075,-1406.7935 1211.8694,-1396.6171 1230.2432,-1386.2137 1259.7947,-1369.4811 1273.6124,-1379.597 1302.7859,-1362.2137"/>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M959.8616,-1472.2137C1028.7964,-1430.8208 1061.9214,-1464.5761 1137.1608,-1436.2137"/>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M1302.7859,-1362.2137C1331.9594,-1344.8303 1343.9124,-1351.1093 1375.3286,-1338.2137 1403.0945,-1326.8164 1433.6306,-1311.45 1455.3225,-1300.0236"/>
<polygon fill="#ffbf00" stroke="#ffbf00" points="1457.1454,-1303.0184 1464.3339,-1295.2353 1453.8608,-1296.8369 1457.1454,-1303.0184"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge96" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~dataheatbalance.f90</title>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M588.126,-1729.2074C600.5643,-1672.6481 658.223,-1414.4401 690.4731,-1339.2137 752.0628,-1195.5501 777.5753,-1161.93 875.6448,-1040.2137 954.5363,-942.2995 1068.8482,-843.695 1115.8046,-804.6686"/>
<polygon fill="#ff00bf" stroke="#ff00bf" points="1118.0351,-807.3658 1123.5119,-798.2964 1113.5747,-801.9709 1118.0351,-807.3658"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge41" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M593.1394,-1729.1507C624.1808,-1683.3194 747.9533,-1505.0045 875.6448,-1382.2137 1003.0442,-1259.7037 1073.0522,-1272.8684 1194.2432,-1144.2137 1237.7086,-1098.0713 1275.0033,-1032.5221 1292.3714,-999.6606"/>
<polygon fill="#00ffff" stroke="#00ffff" points="1295.5913,-1001.0552 1297.1066,-990.5692 1289.3829,-997.8215 1295.5913,-1001.0552"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~dataglobalconstants.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge48" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~dataglobalconstants.f90</title>
<path fill="none" stroke="#7f00ff" stroke-dasharray="5,2" d="M587.1468,-1729.1126C593.104,-1686.1527 619.0843,-1527.9602 690.4731,-1422.2137 703.0365,-1403.6039 722.569,-1387.3847 738.4943,-1376.065"/>
<polygon fill="#7f00ff" stroke="#7f00ff" points="740.6371,-1378.8394 746.9034,-1370.2962 736.6773,-1373.0671 740.6371,-1378.8394"/>
</g>
<!-- sourcefile~inputprocessor.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge207" class="edge">
<title>sourcefile~inputprocessor.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M635.3253,-1750.0416C642.8018,-1753.6341 649.622,-1758.5336 654.4731,-1765.2137 723.2644,-1859.9383 619.735,-2724.9339 690.4731,-2818.2137 802.3278,-2965.7122 1299.4011,-3074.9092 1484.4558,-3070.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1484.4558,-3070.2137C1570.6323,-3070.2839 1589.2713,-3096.1053 1674.5929,-3108.2137"/>
</g>
<!-- sourcefile~runtimelanguageprocessor.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge98" class="edge">
<title>sourcefile~runtimelanguageprocessor.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M1756.0081,-1356.1204C1787.2188,-1355.3721 1823.0251,-1356.4523 1855.1041,-1362.2137"/>
</g>
<!-- sourcefile~outputprocessor.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge100" class="edge">
<title>sourcefile~outputprocessor.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M1532.2969,-1295.2658C1570.6166,-1303.818 1625.8375,-1315.471 1674.5929,-1323.2137"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M1674.5929,-1323.2137C1755.6554,-1336.0869 1774.3184,-1347.7047 1855.1041,-1362.2137"/>
</g>
<!-- sourcefile~outputprocessor.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge221" class="edge">
<title>sourcefile~outputprocessor.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M1484.5803,-1295.4349C1485.7945,-1389.3472 1497.6614,-2045.1557 1593.583,-2212.2137 1604.7062,-2231.5858 1624.7037,-2246.7399 1642.0463,-2257.0982"/>
<polygon fill="#ff00b7" stroke="#ff00b7" points="1640.388,-2260.1814 1650.8123,-2262.0748 1643.8439,-2254.094 1640.388,-2260.1814"/>
</g>
<!-- sourcefile~outputprocessor.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge18" class="edge">
<title>sourcefile~outputprocessor.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1504.9523,-1295.3391C1526.5737,-1306.7951 1561.8429,-1324.6933 1593.583,-1337.2137 1603.5439,-1341.1429 1614.3856,-1344.8578 1624.8031,-1348.163"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1624.0307,-1351.5877 1634.6185,-1351.1999 1626.0999,-1344.9004 1624.0307,-1351.5877"/>
</g>
<!-- sourcefile~dataairsystems.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge102" class="edge">
<title>sourcefile~dataairsystems.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M2124.7925,-885.4009C2144.636,-932.6708 2221.7828,-1116.4449 2247.8599,-1178.5639"/>
<polygon fill="#fff400" stroke="#fff400" points="2244.754,-1180.2077 2251.8519,-1188.0735 2251.2083,-1177.4982 2244.754,-1180.2077"/>
</g>
<!-- sourcefile~datasurfaces.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge105" class="edge">
<title>sourcefile~datasurfaces.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M630.4097,-776.2029C639.0107,-772.6957 647.5,-768.1299 654.4731,-762.2137 679.3589,-741.1 665.1966,-718.8578 690.4731,-698.2137 744.4147,-654.1579 778.6257,-683.7887 839.6448,-650.2137 857.8922,-640.1732 856.4062,-628.1922 875.6448,-620.2137 983.4588,-575.5015 1020.443,-596.2137 1137.1608,-596.2137 1137.1608,-596.2137 1137.1608,-596.2137 1855.1041,-596.2137 1972.8784,-596.2137 2039.6432,-510.2015 2120.0962,-596.2137"/>
</g>
<!-- sourcefile~datasurfaces.f90&#45;&gt;sourcefile~general.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge186" class="edge">
<title>sourcefile~datasurfaces.f90&#45;&gt;sourcefile~general.f90</title>
<path fill="none" stroke="#1400ff" stroke-dasharray="5,2" d="M632.566,-795.7529C641.1198,-799.4358 649.0435,-804.698 654.4731,-812.2137 734.6704,-923.2225 606.2081,-1936.2601 690.4731,-2044.2137 698.0392,-2053.9067 709.7111,-2059.355 721.5922,-2062.3542"/>
<polygon fill="#1400ff" stroke="#1400ff" points="721.0447,-2065.8138 731.5361,-2064.3368 722.4135,-2058.949 721.0447,-2065.8138"/>
</g>
<!-- sourcefile~datasurfaces.f90&#45;&gt;sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge89" class="edge">
<title>sourcefile~datasurfaces.f90&#45;&gt;sourcefile~dataheatbalance.f90</title>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M765.059,-750.2137C849.1051,-729.4251 874.4144,-764.167 959.8616,-750.2137"/>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M632.3916,-778.6202C668.7185,-771.6823 720.3104,-761.2821 765.059,-750.2137"/>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M959.8616,-750.2137C1009.928,-742.0379 1067.3059,-758.8617 1102.8956,-772.4225"/>
<polygon fill="#ff00bf" stroke="#ff00bf" points="1101.7447,-775.7308 1112.3317,-776.1373 1104.3089,-769.2174 1101.7447,-775.7308"/>
</g>
<!-- sourcefile~datasurfaces.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge38" class="edge">
<title>sourcefile~datasurfaces.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M626.8473,-798.226C750.0912,-831.2255 1116.1967,-929.253 1251.649,-965.5214"/>
<polygon fill="#00ffff" stroke="#00ffff" points="1250.8123,-968.9206 1261.3773,-968.1262 1252.6229,-962.1587 1250.8123,-968.9206"/>
</g>
<!-- sourcefile~datasurfaces.f90&#45;&gt;sourcefile~datacontaminantbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge128" class="edge">
<title>sourcefile~datasurfaces.f90&#45;&gt;sourcefile~datacontaminantbalance.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M632.5143,-795.7904C641.0716,-799.4707 649.0098,-804.7225 654.4731,-812.2137 716.1922,-896.8415 674.4209,-1650.7079 690.4731,-1754.2137 705.2385,-1849.4212 741.8206,-1958.9741 757.6086,-2003.6477"/>
<polygon fill="#ff0000" stroke="#ff0000" points="754.3246,-2004.8589 760.9828,-2013.1002 760.9172,-2002.5056 754.3246,-2004.8589"/>
</g>
<!-- sourcefile~dataruntimelanguage.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge108" class="edge">
<title>sourcefile~dataruntimelanguage.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M595.0041,-1271.9046C611.7621,-1252.3973 649.1807,-1212.825 690.4731,-1195.2137 766.6142,-1162.7392 793.3003,-1183.6664 875.6448,-1175.2137 1017.1691,-1160.6859 1052.691,-1158.4672 1194.2432,-1144.2137 1407.8054,-1122.709 1495.9579,-975.2145 1674.5929,-1094.2137"/>
</g>
<!-- sourcefile~dataruntimelanguage.f90&#45;&gt;sourcefile~general.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge190" class="edge">
<title>sourcefile~dataruntimelanguage.f90&#45;&gt;sourcefile~general.f90</title>
<path fill="none" stroke="#1400ff" stroke-dasharray="5,2" d="M593.2834,-1294.4839C608.1835,-1317.3763 641.0487,-1371.4598 654.4731,-1422.2137 672.1749,-1489.1389 647.1012,-1990.2579 690.4731,-2044.2137 698.1112,-2053.7156 709.6884,-2059.1217 721.4587,-2062.1412"/>
<polygon fill="#1400ff" stroke="#1400ff" points="720.8107,-2065.5811 731.3089,-2064.1538 722.212,-2058.7227 720.8107,-2065.5811"/>
</g>
<!-- sourcefile~dataruntimelanguage.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge26" class="edge">
<title>sourcefile~dataruntimelanguage.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M611.4672,-1272.195C661.3232,-1251.5271 775.0017,-1207.6373 875.6448,-1192.2137 949.6403,-1180.8738 973.2709,-1167.9191 1044.0784,-1192.2137 1063.251,-1198.7919 1061.1091,-1213.0701 1080.0784,-1220.2137 1248.5665,-1283.6643 1331.5292,-1149.1995 1484.4558,-1244.2137"/>
</g>
<!-- sourcefile~datazonecontrols.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge109" class="edge">
<title>sourcefile~datazonecontrols.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M441.6211,-186.2287C492.2068,-199.0649 571.6053,-218.285 585.7192,-216.2137"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M585.7192,-216.2137C719.2109,-196.6229 742.2483,-146.4423 875.6448,-126.2137 1077.7951,-95.559 1542.4801,-180.8085 1557.583,-186.2137 1864.1516,-295.9318 1999.2438,-307.448 2173.9614,-582.2137 2238.947,-684.4117 2253.4304,-1080.5847 2256.0295,-1177.6537"/>
<polygon fill="#fff400" stroke="#fff400" points="2252.5328,-1177.832 2256.2848,-1187.7403 2259.5306,-1177.6549 2252.5328,-1177.832"/>
</g>
<!-- sourcefile~dataairloop.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge110" class="edge">
<title>sourcefile~dataairloop.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M443.0892,-219.7991C481.0758,-222.0414 537.3108,-223.3179 585.7192,-216.2137"/>
</g>
<!-- sourcefile~dataheatbalance.f90&#45;&gt;sourcefile~emsmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge112" class="edge">
<title>sourcefile~dataheatbalance.f90&#45;&gt;sourcefile~emsmanager.f90</title>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M1855.1041,-1362.2137C2009.3208,-1389.9106 2178.3506,-1264.6107 2235.9793,-1216.9621"/>
<polygon fill="#fff400" stroke="#fff400" points="2238.5453,-1219.3779 2243.9565,-1210.2691 2234.0461,-1214.0153 2238.5453,-1219.3779"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M1484.4558,-1018.2137C1506.5489,-1044.3285 1525.6624,-1029.9188 1557.583,-1042.2137 1610.6885,-1062.6682 1627.231,-1062.6632 1674.5929,-1094.2137"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M1193.1913,-779.058C1244.9,-774.5663 1321.5841,-775.9078 1375.3286,-812.2137 1461.1836,-870.211 1417.5378,-939.1141 1484.4558,-1018.2137"/>
<path fill="none" stroke="#fff400" stroke-dasharray="5,2" d="M1674.5929,-1094.2137C1705.0016,-1114.4706 1727.2904,-1085.1173 1755.6028,-1108.2137 1849.5499,-1184.8525 1735.0106,-1345.5672 1855.1041,-1362.2137"/>
</g>
<!-- sourcefile~dataheatbalance.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge28" class="edge">
<title>sourcefile~dataheatbalance.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1484.4558,-1018.2137C1506.5489,-1044.3285 1535.8738,-1015.7788 1557.583,-1042.2137 1641.41,-1144.288 1508.8516,-1235.8889 1593.583,-1337.2137 1596.3448,-1340.5163 1599.533,-1343.3906 1603.0142,-1345.8913"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1601.2353,-1348.9057 1611.6059,-1351.0742 1604.8511,-1342.9119 1601.2353,-1348.9057"/>
</g>
<!-- sourcefile~dataheatbalance.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge62" class="edge">
<title>sourcefile~dataheatbalance.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M1177.5686,-798.2948C1232.4763,-815.6618 1329.0957,-854.912 1375.3286,-926.2137 1456.0771,-1050.7461 1319.3244,-1141.7496 1411.3286,-1258.2137 1414.3538,-1262.0431 1417.9867,-1265.3094 1421.9949,-1268.0952"/>
<polygon fill="#ffbf00" stroke="#ffbf00" points="1420.2745,-1271.1436 1430.6746,-1273.1653 1423.8052,-1265.0993 1420.2745,-1271.1436"/>
</g>
<!-- sourcefile~dataheatbalance.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge44" class="edge">
<title>sourcefile~dataheatbalance.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M1146.7814,-798.3663C1174.1104,-830.0473 1252.4307,-920.8396 1286.5607,-960.4047"/>
<polygon fill="#00ffff" stroke="#00ffff" points="1283.9567,-962.7444 1293.1387,-968.0302 1289.2571,-958.1721 1283.9567,-962.7444"/>
</g>
<!-- sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~curvemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge145" class="edge">
<title>sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~curvemanager.f90</title>
<path fill="none" stroke="#00ff66" stroke-dasharray="5,2" d="M403.9467,-1103.5342C418.7519,-1138.6148 463.3366,-1248.9409 480.9653,-1345.2137 539.5543,-1665.1763 448.1426,-1758.2951 516.9653,-2076.2137 561.2665,-2280.8577 582.0886,-2335.0641 690.4731,-2514.2137 755.7524,-2622.1142 774.1612,-2654.3472 875.6448,-2729.2137 999.9649,-2820.9271 1055.0338,-2801.2241 1194.2432,-2868.2137 1210.5455,-2876.0586 1213.3988,-2880.6125 1230.2432,-2887.2137 1295.1792,-2912.6616 1373.0695,-2931.9403 1425.3719,-2943.358"/>
<polygon fill="#00ff66" stroke="#00ff66" points="1424.6422,-2946.7811 1435.1552,-2945.4672 1426.1175,-2939.9383 1424.6422,-2946.7811"/>
</g>
<!-- sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~schedulemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge181" class="edge">
<title>sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~schedulemanager.f90</title>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M444.0159,-1081.1715C483.6052,-1073.9172 541.6659,-1069.4763 585.7192,-1092.2137"/>
</g>
<!-- sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~inputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge245" class="edge">
<title>sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~inputprocessor.f90</title>
<path fill="none" stroke="#ff003d" stroke-dasharray="5,2" d="M403.8507,-1103.2307C417.3131,-1134.6346 456.246,-1227.4793 480.9653,-1307.2137 487.287,-1327.6047 560.6445,-1634.99 580.6866,-1719.0859"/>
<polygon fill="#ff003d" stroke="#ff003d" points="577.282,-1719.898 583.0046,-1728.8144 584.0914,-1718.2754 577.282,-1719.898"/>
</g>
<!-- sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge25" class="edge">
<title>sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~runtimelanguageprocessor.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1484.4558,-1244.2137C1512.6748,-1262.6259 1531.592,-1242.7708 1557.583,-1264.2137 1585.4874,-1287.2351 1566.0548,-1313.7437 1593.583,-1337.2137 1598.0317,-1341.0065 1603.05,-1344.2242 1608.3541,-1346.954"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1606.9475,-1350.1591 1617.5002,-1351.1027 1609.8392,-1343.7843 1606.9475,-1350.1591"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1137.1608,-1130.2137C1242.3592,-1144.1819 1277.5405,-1105.9911 1375.3286,-1147.2137 1435.1243,-1172.4205 1430.1095,-1208.7539 1484.4558,-1244.2137"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M959.8616,-1054.2137C1045.4958,-1058.3483 1055.5379,-1103.9834 1137.1608,-1130.2137"/>
</g>
<!-- sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge56" class="edge">
<title>sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M1137.1608,-1130.2137C1271.5193,-1135.8832 1286.9077,-1207.1863 1411.3286,-1258.2137 1420.959,-1262.1633 1431.4362,-1266.0967 1441.372,-1269.6641"/>
<polygon fill="#ffbf00" stroke="#ffbf00" points="1440.4813,-1273.0615 1451.0761,-1273.0966 1442.8156,-1266.4622 1440.4813,-1273.0615"/>
</g>
<!-- sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge45" class="edge">
<title>sourcefile~datasystemvariables.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M959.8616,-1054.2137C1040.336,-1058.5133 1057.0577,-1025.0521 1137.1608,-1016.2137"/>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M463.8098,-1082.7288C568.1626,-1068.5858 780.082,-1044.6082 959.8616,-1054.2137"/>
</g>
<!-- sourcefile~datastringglobals.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_node36" class="node">
<title>sourcefile~datastringglobals.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~EfferentGraph_node36"><a xlink:href="../sourcefile/datastringglobals.f90.html" xlink:title="DataStringGlobals.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="281.0645,-1141.2191 166.6166,-1141.2191 166.6166,-1119.2082 281.0645,-1119.2082 281.0645,-1141.2191"/>
<text text-anchor="middle" x="223.8406" y="-1127.0637" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">DataStringGlobals.f90</text>
</a>
</g>
</g>
<!-- sourcefile~datastringglobals.f90&#45;&gt;sourcefile~schedulemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge176" class="edge">
<title>sourcefile~datastringglobals.f90&#45;&gt;sourcefile~schedulemanager.f90</title>
<path fill="none" stroke="#0028ff" stroke-dasharray="5,2" d="M281.1952,-1141.1491C442.9651,-1172.1202 895.3138,-1259.6479 959.8616,-1282.2137"/>
</g>
<!-- sourcefile~datastringglobals.f90&#45;&gt;sourcefile~general.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge191" class="edge">
<title>sourcefile~datastringglobals.f90&#45;&gt;sourcefile~general.f90</title>
<path fill="none" stroke="#1400ff" stroke-dasharray="5,2" d="M228.3389,-1141.5426C239.6528,-1170.6385 269.2398,-1250.5979 281.2024,-1320.2137 295.5759,-1403.8598 255.7908,-2024.6313 317.2024,-2083.2137 432.4487,-2193.1506 649.7008,-2115.7853 732.1743,-2080.3483"/>
<polygon fill="#1400ff" stroke="#1400ff" points="733.7875,-2083.4629 741.548,-2076.2499 730.9833,-2077.0491 733.7875,-2083.4629"/>
</g>
<!-- sourcefile~datastringglobals.f90&#45;&gt;sourcefile~inputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge244" class="edge">
<title>sourcefile~datastringglobals.f90&#45;&gt;sourcefile~inputprocessor.f90</title>
<path fill="none" stroke="#ff003d" stroke-dasharray="5,2" d="M226.8836,-1141.5153C235.5794,-1171.6166 263.4403,-1254.3506 317.2024,-1297.2137 376.5067,-1344.4953 428.0331,-1290.893 480.9653,-1345.2137 494.5314,-1359.1356 561.6617,-1638.7918 580.6862,-1718.926"/>
<polygon fill="#ff003d" stroke="#ff003d" points="577.3289,-1719.9374 583.0408,-1728.8607 584.1402,-1718.323 577.3289,-1719.9374"/>
</g>
<!-- sourcefile~datastringglobals.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge50" class="edge">
<title>sourcefile~datastringglobals.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M226.0939,-1119.0103C233.0717,-1087.6668 257.551,-999.103 317.2024,-964.2137 446.5936,-888.5343 505.2699,-949.797 654.4731,-964.2137 830.0769,-981.1812 873.2529,-996.1315 1044.0784,-1040.2137 1193.8833,-1078.8714 1265.8658,-1037.8801 1375.3286,-1147.2137 1412.023,-1183.8647 1375.1726,-1221.0314 1411.3286,-1258.2137 1415.2621,-1262.2588 1419.8655,-1265.6763 1424.8142,-1268.5632"/>
<polygon fill="#ffbf00" stroke="#ffbf00" points="1423.5199,-1271.8303 1434.0249,-1273.2075 1426.6716,-1265.5799 1423.5199,-1271.8303"/>
</g>
<!-- sourcefile~datastringglobals.f90&#45;&gt;sourcefile~datasystemvariables.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge16" class="edge">
<title>sourcefile~datastringglobals.f90&#45;&gt;sourcefile~datasystemvariables.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M274.9993,-1119.1203C294.7941,-1114.828 317.6108,-1109.8804 338.2375,-1105.4077"/>
<polygon fill="#ff0000" stroke="#ff0000" points="339.1334,-1108.7948 348.1645,-1103.2551 337.6499,-1101.9538 339.1334,-1108.7948"/>
</g>
<!-- sourcefile~datastringglobals.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge36" class="edge">
<title>sourcefile~datastringglobals.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M226.1438,-1118.9336C234.606,-1077.1432 264.3605,-927.1061 281.2024,-802.2137 286.8407,-760.4021 285.9873,-452.5971 317.2024,-424.2137 349.5886,-394.7653 634.0447,-374.9231 839.6448,-430.2137 940.1069,-457.2302 960.5499,-482.2013 1044.0784,-544.2137 1067.1804,-561.3649 1121.6407,-609.9857 1137.1608,-634.2137"/>
</g>
<!-- sourcefile~sortandstringutilities.f90&#45;&gt;sourcefile~inputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge238" class="edge">
<title>sourcefile~sortandstringutilities.f90&#45;&gt;sourcefile~inputprocessor.f90</title>
<path fill="none" stroke="#ff003d" stroke-dasharray="5,2" d="M423.4644,-1409.4017C441.7011,-1418.925 465.9797,-1434.2377 480.9653,-1454.2137 511.8344,-1495.3625 499.5997,-1515.793 516.9653,-1564.2137 537.3507,-1621.0542 563.9682,-1687.1509 577.3153,-1719.8035"/>
<polygon fill="#ff003d" stroke="#ff003d" points="574.1259,-1721.2508 581.1577,-1729.1757 580.6027,-1718.5954 574.1259,-1721.2508"/>
</g>
<!-- sourcefile~sortandstringutilities.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge51" class="edge">
<title>sourcefile~sortandstringutilities.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M463.4407,-1405.5408C499.8187,-1407.87 545.8575,-1407.7581 585.7192,-1398.2137"/>
</g>
<!-- sourcefile~dataoutputs.f90&#45;&gt;sourcefile~inputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge239" class="edge">
<title>sourcefile~dataoutputs.f90&#45;&gt;sourcefile~inputprocessor.f90</title>
<path fill="none" stroke="#ff003d" stroke-dasharray="5,2" d="M406.8657,-1485.3047C435.5014,-1526.1173 535.2558,-1668.2911 571.9967,-1720.6558"/>
<polygon fill="#ff003d" stroke="#ff003d" points="569.2954,-1722.8995 577.9041,-1729.0753 575.0256,-1718.879 569.2954,-1722.8995"/>
</g>
<!-- sourcefile~dataoutputs.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge53" class="edge">
<title>sourcefile~dataoutputs.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M443.5004,-1471.1406C494.5463,-1467.3538 580.772,-1460.1759 654.4731,-1450.2137 722.7689,-1440.982 895.1117,-1419.8143 959.8616,-1396.2137"/>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M959.8616,-1396.2137C1039.0989,-1363.4758 1051.7114,-1327.1936 1137.1608,-1320.2137"/>
</g>
<!-- sourcefile~sqlitefortranroutines.f90&#45;&gt;sourcefile~reportsizingmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge118" class="edge">
<title>sourcefile~sqlitefortranroutines.f90&#45;&gt;sourcefile~reportsizingmanager.f90</title>
<path fill="none" stroke="#8eff00" stroke-dasharray="5,2" d="M1305.5668,-968.1004C1325.9163,-886.7786 1451.831,-383.5907 1479.2065,-274.1913"/>
<polygon fill="#8eff00" stroke="#8eff00" points="1482.6378,-274.8969 1481.67,-264.3463 1475.8472,-273.1976 1482.6378,-274.8969"/>
</g>
<!-- sourcefile~sqlitefortranroutines.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge58" class="edge">
<title>sourcefile~sqlitefortranroutines.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M1321.8526,-990.3602C1338.7682,-1001.3175 1362.6974,-1019.6541 1375.3286,-1042.2137 1422.8755,-1127.133 1348.8416,-1183.5988 1411.3286,-1258.2137 1414.5133,-1262.0165 1418.2942,-1265.2632 1422.4341,-1268.0352"/>
<polygon fill="#ffbf00" stroke="#ffbf00" points="1420.9324,-1271.2069 1431.3596,-1273.0844 1424.3791,-1265.1142 1420.9324,-1271.2069"/>
</g>
<!-- sourcefile~dataglobalconstants.f90&#45;&gt;sourcefile~outputprocessor.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge59" class="edge">
<title>sourcefile~dataglobalconstants.f90&#45;&gt;sourcefile~outputprocessor.f90</title>
<path fill="none" stroke="#ffbf00" stroke-dasharray="5,2" d="M829.7954,-1350.8861C903.9256,-1341.7093 1029.0813,-1327.3111 1137.1608,-1320.2137"/>
</g>
<!-- sourcefile~dataroomair.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge39" class="edge">
<title>sourcefile~dataroomair.f90&#45;&gt;sourcefile~sqlitefortranroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M445.2059,-297.7077C578.0048,-308.6956 957.3053,-346.8839 1044.0784,-430.2137 1091.0388,-475.3106 1049.081,-514.9583 1080.0784,-572.2137 1097.9109,-605.1521 1117.4471,-602.3654 1137.1608,-634.2137"/>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M1137.1608,-634.2137C1211.2311,-749.8425 1273.6559,-903.6389 1294.9599,-958.6071"/>
<polygon fill="#00ffff" stroke="#00ffff" points="1291.703,-959.8891 1298.5587,-967.9669 1298.2367,-957.3769 1291.703,-959.8891"/>
</g>
<!-- sourcefile~datavectortypes.f90&#45;&gt;sourcefile~datasurfaces.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge73" class="edge">
<title>sourcefile~datavectortypes.f90&#45;&gt;sourcefile~datasurfaces.f90</title>
<path fill="none" stroke="#00ff3f" stroke-dasharray="5,2" d="M259.013,-641.1385C311.6733,-626.8142 412.1614,-608.4288 480.9653,-651.2137 511.6854,-670.3165 495.2574,-695.2756 516.9653,-724.2137 529.9593,-741.5354 548.143,-757.9541 562.5467,-769.6851"/>
<polygon fill="#00ff3f" stroke="#00ff3f" points="560.5158,-772.5418 570.5228,-776.0219 564.8702,-767.0609 560.5158,-772.5418"/>
</g>
<!-- sourcefile~datavectortypes.f90&#45;&gt;sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge92" class="edge">
<title>sourcefile~datavectortypes.f90&#45;&gt;sourcefile~dataheatbalance.f90</title>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M959.8616,-634.2137C1021.8223,-677.1639 1087.0443,-738.1665 1118.2948,-768.5353"/>
<polygon fill="#ff00bf" stroke="#ff00bf" points="1116.236,-771.4175 1125.8321,-775.9081 1121.1309,-766.4134 1116.236,-771.4175"/>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M765.059,-482.2137C825.5853,-500.981 825.5397,-533.4177 875.6448,-572.2137 912.395,-600.6691 921.6627,-607.7347 959.8616,-634.2137"/>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M226.8922,-640.9343C235.4438,-611.806 262.6622,-534.1216 317.2024,-502.2137 403.1907,-451.9074 669.9053,-452.7094 765.059,-482.2137"/>
</g>
<!-- sourcefile~datavectortypes.f90&#45;&gt;sourcefile~databsdfwindow.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge70" class="edge">
<title>sourcefile~datavectortypes.f90&#45;&gt;sourcefile~databsdfwindow.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M278.8078,-658.1732C295.254,-659.9563 313.4912,-661.9336 330.689,-663.7982"/>
<polygon fill="#00ffff" stroke="#00ffff" points="330.3543,-667.2824 340.6733,-664.8807 331.1089,-660.3231 330.3543,-667.2824"/>
</g>
<!-- sourcefile~databsdfwindow.f90&#45;&gt;sourcefile~datasurfaces.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge74" class="edge">
<title>sourcefile~databsdfwindow.f90&#45;&gt;sourcefile~datasurfaces.f90</title>
<path fill="none" stroke="#00ff3f" stroke-dasharray="5,2" d="M447.2247,-682.2463C458.6665,-685.8508 470.5635,-690.4526 480.9653,-696.2137 490.4597,-701.4721 538.4972,-744.4217 566.1081,-769.3914"/>
<polygon fill="#00ff3f" stroke="#00ff3f" points="563.87,-772.0865 573.6309,-776.2067 568.5698,-766.8988 563.87,-772.0865"/>
</g>
<!-- sourcefile~databsdfwindow.f90&#45;&gt;sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge87" class="edge">
<title>sourcefile~databsdfwindow.f90&#45;&gt;sourcefile~dataheatbalance.f90</title>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M424.154,-660.1634C473.7913,-638.9578 588.604,-593.2382 690.4731,-577.2137 811.3655,-558.1967 860.311,-563.0357 959.8616,-634.2137"/>
</g>
<!-- sourcefile~datacomplexfenestration.f90&#45;&gt;sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge93" class="edge">
<title>sourcefile~datacomplexfenestration.f90&#45;&gt;sourcefile~dataheatbalance.f90</title>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M474.8465,-514.9909C525.6875,-510.0234 594.1418,-503.1026 654.4731,-496.2137 703.6949,-490.5933 716.7872,-471.0689 765.059,-482.2137"/>
</g>
<!-- sourcefile~dataequivalentlayerwindow.f90&#45;&gt;sourcefile~dataheatbalance.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge97" class="edge">
<title>sourcefile~dataequivalentlayerwindow.f90&#45;&gt;sourcefile~dataheatbalance.f90</title>
<path fill="none" stroke="#ff00bf" stroke-dasharray="5,2" d="M481.2165,-439.1189C513.8913,-438.417 551.7312,-439.2672 585.7192,-444.2137"/>
</g>
<!-- sourcefile~datacontaminantbalance.f90&#45;&gt;sourcefile~outairnodemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge131" class="edge">
<title>sourcefile~datacontaminantbalance.f90&#45;&gt;sourcefile~outairnodemanager.f90</title>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M959.8616,-2044.2137C1013.582,-2046.9641 1026.3779,-2033.33 1080.0784,-2030.2137 1130.7331,-2027.2741 1143.639,-2026.504 1194.2432,-2030.2137 1242.8752,-2033.7787 1254.0871,-2048.7064 1302.7859,-2046.2137"/>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M839.9269,-2032.5639C876.1267,-2036.4317 920.223,-2040.8945 959.8616,-2044.2137"/>
<path fill="none" stroke="#00ff28" stroke-dasharray="5,2" d="M1302.7859,-2046.2137C1467.434,-2032.151 1518.4191,-1992.209 1674.5929,-2046.2137"/>
</g>
<!-- sourcefile~datacontaminantbalance.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge224" class="edge">
<title>sourcefile~datacontaminantbalance.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M959.8616,-2044.2137C1040.3453,-2048.3344 1061.4671,-2054.5534 1137.1608,-2082.2137"/>
</g>
<!-- sourcefile~databranchnodeconnections.f90&#45;&gt;sourcefile~branchnodeconnections.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge172" class="edge">
<title>sourcefile~databranchnodeconnections.f90&#45;&gt;sourcefile~branchnodeconnections.f90</title>
<path fill="none" stroke="#0066ff" stroke-dasharray="5,2" d="M1000.6843,-2666.2308C1036.38,-2675.2617 1089.7746,-2687.3219 1137.1608,-2692.2137"/>
</g>
<!-- sourcefile~branchinputmanager.f90&#45;&gt;sourcefile~dataplant.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge209" class="edge">
<title>sourcefile~branchinputmanager.f90&#45;&gt;sourcefile~dataplant.f90</title>
<path fill="none" stroke="#5100ff" stroke-dasharray="5,2" d="M1868.0223,-3156.3148C1891.8419,-3176.7841 1942.8693,-3220.6341 1971.6192,-3245.3402"/>
<polygon fill="#5100ff" stroke="#5100ff" points="1969.5688,-3248.193 1979.4343,-3252.056 1974.1311,-3242.884 1969.5688,-3248.193"/>
</g>
<!-- sourcefile~dataerrortracking.f90&#45;&gt;sourcefile~nodeinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge225" class="edge">
<title>sourcefile~dataerrortracking.f90&#45;&gt;sourcefile~nodeinputmanager.f90</title>
<path fill="none" stroke="#ff00b7" stroke-dasharray="5,2" d="M1504.4668,-3174.1375C1521.808,-3163.3473 1545.8975,-3145.2227 1557.583,-3122.2137 1602.8086,-3033.1634 1579.6696,-2773.1163 1593.583,-2674.2137 1614.2181,-2527.5303 1654.9979,-2353.7011 1669.4037,-2294.3113"/>
<polygon fill="#ff00b7" stroke="#ff00b7" points="1672.8781,-2294.837 1671.848,-2284.2923 1666.0775,-2293.1779 1672.8781,-2294.837"/>
</g>
<!-- sourcefile~dataerrortracking.f90&#45;&gt;sourcefile~branchinputmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~EfferentGraph_edge199" class="edge">
<title>sourcefile~dataerrortracking.f90&#45;&gt;sourcefile~branchinputmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1518.9108,-3174.1355C1531.2018,-3169.9995 1545.0924,-3165.113 1557.583,-3160.2137 1610.5617,-3139.433 1618.2489,-3100.2176 1674.5929,-3108.2137"/>
</g>
</g>
</svg>
</div>
                <script>var pansourcefileplanteirchillersf90EfferentGraph = svgPanZoom('#sourcefileplanteirchillersf90EfferentGraph', {
                    zoomEnabled: true,
                    controlIconsEnabled: true,
                    fit: true,
                    center: true,});
                    </script>
                <div><a type="button" class="graph-help" data-toggle="modal" href="#graph-help-text">Help</a></div>
                <div class="modal fade" id="graph-help-text" tabindex="-1" role="dialog">
                  <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="-graph-help-label">Graph Key</h4>
                      </div>
                      <div class="modal-body">

    <p>Nodes of different colours represent the following: </p>
    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Graph Key Pages: 1 -->
<svg width="186pt" height="31pt"
 viewBox="0.00 0.00 186.41 30.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 26.5)">
<title>Graph Key</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-26.5 182.4064,-26.5 182.4064,4 -4,4"/>
<!-- Source File -->
<g id="node1" class="node">
<title>Source File</title>
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="65.1576,-22.2554 -.0526,-22.2554 -.0526,-.2446 65.1576,-.2446 65.1576,-22.2554"/>
<text text-anchor="middle" x="32.5525" y="-8.1" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Source File</text>
</g>
<!-- This Page&#39;s Entity -->
<g id="node2" class="node">
<title>This Page&#39;s Entity</title>
<polygon fill="none" stroke="#000000" points="178.2607,-22.2554 82.8443,-22.2554 82.8443,-.2446 178.2607,-.2446 178.2607,-22.2554"/>
<text text-anchor="middle" x="130.5525" y="-8.1" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#000000">This Page&#39;s Entity</text>
</g>
</g>
</svg>


    <p>Solid arrows point from a file to a file which depends upon it. A file
    is dependent upon another if the latter must be compiled before the former
    can be. Where possible, edges connecting nodes are given different colours to make them easier to distinguish in large graphs.
    </p>

                      </div>
                    </div>
                  </div>
                </div>


      <h3>Files Dependent On This One</h3>

                <div class="depgraph"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: sourcefile~~planteirchillers.f90~~AfferentGraph Pages: 1 -->
<svg id="sourcefileplanteirchillersf90AfferentGraph" width="641pt" height="48pt"
 viewBox="0.00 0.00 641.00 47.90" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph" class="graph" transform="scale(.3872 .3872) rotate(0) translate(4 119.7261)">
<title>sourcefile~~planteirchillers.f90~~AfferentGraph</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-119.7261 1651.5793,-119.7261 1651.5793,4 -4,4"/>
<!-- sourcefile~planteirchillers.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node1" class="node">
<title>sourcefile~planteirchillers.f90</title>
<polygon fill="none" stroke="#000000" points="105.9348,-95.4815 .0217,-95.4815 .0217,-73.4707 105.9348,-73.4707 105.9348,-95.4815"/>
<text text-anchor="middle" x="52.9783" y="-81.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#000000">PlantEIRChillers.f90</text>
</g>
<!-- sourcefile~plantloopequipment.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node2" class="node">
<title>sourcefile~plantloopequipment.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~AfferentGraph_node2"><a xlink:href="../sourcefile/plantloopequipment.f90.html" xlink:title="PlantLoopEquipment.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="268.9606,-95.4815 141.9552,-95.4815 141.9552,-73.4707 268.9606,-73.4707 268.9606,-95.4815"/>
<text text-anchor="middle" x="205.4579" y="-81.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">PlantLoopEquipment.f90</text>
</a>
</g>
</g>
<!-- sourcefile~planteirchillers.f90&#45;&gt;sourcefile~plantloopequipment.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge18" class="edge">
<title>sourcefile~planteirchillers.f90&#45;&gt;sourcefile~plantloopequipment.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M106.3082,-84.4761C114.5796,-84.4761 123.2475,-84.4761 131.8702,-84.4761"/>
<polygon fill="#ff0000" stroke="#ff0000" points="131.9452,-87.9762 141.9452,-84.4761 131.9452,-80.9762 131.9452,-87.9762"/>
</g>
<!-- sourcefile~plantmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node3" class="node">
<title>sourcefile~plantmanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~AfferentGraph_node3"><a xlink:href="../sourcefile/plantmanager.f90.html" xlink:title="PlantManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="541.422,-95.4815 446.7945,-95.4815 446.7945,-73.4707 541.422,-73.4707 541.422,-95.4815"/>
<text text-anchor="middle" x="494.1083" y="-81.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">PlantManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~plantloopequipment.f90&#45;&gt;sourcefile~plantmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge16" class="edge">
<title>sourcefile~plantloopequipment.f90&#45;&gt;sourcefile~plantmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M269.154,-85.2114C281.0534,-85.3217 293.3848,-85.4179 304.9592,-85.4761 352.0664,-85.7128 363.8448,-85.7593 410.9517,-85.4761 419.1631,-85.4267 427.8304,-85.3499 436.3457,-85.2603"/>
<polygon fill="#ff0000" stroke="#ff0000" points="436.656,-88.7572 446.6162,-85.1457 436.5778,-81.7576 436.656,-88.7572"/>
</g>
<!-- sourcefile~plantloopsolver.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node4" class="node">
<title>sourcefile~plantloopsolver.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~AfferentGraph_node4"><a xlink:href="../sourcefile/plantloopsolver.f90.html" xlink:title="PlantLoopSolver.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="410.9479,-76.4815 304.963,-76.4815 304.963,-54.4707 410.9479,-54.4707 410.9479,-76.4815"/>
<text text-anchor="middle" x="357.9554" y="-62.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">PlantLoopSolver.f90</text>
</a>
</g>
</g>
<!-- sourcefile~plantloopequipment.f90&#45;&gt;sourcefile~plantloopsolver.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge17" class="edge">
<title>sourcefile~plantloopequipment.f90&#45;&gt;sourcefile~plantloopsolver.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M269.247,-76.5285C277.6026,-75.4874 286.1634,-74.4208 294.5132,-73.3805"/>
<polygon fill="#ff0000" stroke="#ff0000" points="295.0751,-76.8376 304.5657,-72.1281 294.2096,-69.8914 295.0751,-76.8376"/>
</g>
<!-- sourcefile~simulationmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node5" class="node">
<title>sourcefile~simulationmanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~AfferentGraph_node5"><a xlink:href="../sourcefile/simulationmanager.f90.html" xlink:title="SimulationManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1515.1619,-75.4815 1395.3515,-75.4815 1395.3515,-53.4707 1515.1619,-53.4707 1515.1619,-75.4815"/>
<text text-anchor="middle" x="1455.2567" y="-61.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SimulationManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~plantmanager.f90&#45;&gt;sourcefile~simulationmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge12" class="edge">
<title>sourcefile~plantmanager.f90&#45;&gt;sourcefile~simulationmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1310.0651,-104.4761C1347.8656,-101.8848 1389.3952,-89.4098 1418.3194,-79.0712"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1419.8135,-82.2513 1427.9977,-75.5231 1417.4041,-75.679 1419.8135,-82.2513"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M541.4442,-89.757C598.7317,-95.6824 698.1613,-104.4761 783.7123,-104.4761 783.7123,-104.4761 783.7123,-104.4761 974.7261,-104.4761 1123.7656,-104.4761 1161.3745,-114.669 1310.0651,-104.4761"/>
</g>
<!-- sourcefile~utilityroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node6" class="node">
<title>sourcefile~utilityroutines.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~AfferentGraph_node6"><a xlink:href="../sourcefile/utilityroutines.f90.html" xlink:title="UtilityRoutines.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1647.3903,-115.4815 1551.1481,-115.4815 1551.1481,-93.4707 1647.3903,-93.4707 1647.3903,-115.4815"/>
<text text-anchor="middle" x="1599.2692" y="-101.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">UtilityRoutines.f90</text>
</a>
</g>
</g>
<!-- sourcefile~plantmanager.f90&#45;&gt;sourcefile~utilityroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge13" class="edge">
<title>sourcefile~plantmanager.f90&#45;&gt;sourcefile~utilityroutines.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1310.0651,-104.4761C1389.8664,-98.2074 1482.4365,-99.7465 1540.9217,-101.7999"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1540.9555,-105.3034 1551.0776,-102.1737 1541.2131,-98.3081 1540.9555,-105.3034"/>
</g>
<!-- sourcefile~hvacmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node7" class="node">
<title>sourcefile~hvacmanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~AfferentGraph_node7"><a xlink:href="../sourcefile/hvacmanager.f90.html" xlink:title="HVACManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="675.9334,-76.4815 577.3752,-76.4815 577.3752,-54.4707 675.9334,-54.4707 675.9334,-76.4815"/>
<text text-anchor="middle" x="626.6543" y="-62.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">HVACManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~plantmanager.f90&#45;&gt;sourcefile~hvacmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge14" class="edge">
<title>sourcefile~plantmanager.f90&#45;&gt;sourcefile~hvacmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M541.5861,-77.6703C549.915,-76.4764 558.6757,-75.2206 567.2796,-73.9873"/>
<polygon fill="#ff0000" stroke="#ff0000" points="567.8704,-77.4384 577.2726,-72.5548 566.8771,-70.5093 567.8704,-77.4384"/>
</g>
<!-- sourcefile~plantloopsolver.f90&#45;&gt;sourcefile~plantmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge15" class="edge">
<title>sourcefile~plantloopsolver.f90&#45;&gt;sourcefile~plantmanager.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M410.9855,-72.8764C419.4649,-74.0597 428.2721,-75.2887 436.8445,-76.485"/>
<polygon fill="#00ffff" stroke="#00ffff" points="436.3785,-79.9538 446.7663,-77.8696 437.346,-73.021 436.3785,-79.9538"/>
</g>
<!-- sourcefile~simulationmanager.f90&#45;&gt;sourcefile~utilityroutines.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge2" class="edge">
<title>sourcefile~simulationmanager.f90&#45;&gt;sourcefile~utilityroutines.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1494.99,-75.5122C1511.8492,-80.1949 1531.6846,-85.7042 1549.5046,-90.6538"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1548.5937,-94.0332 1559.1656,-93.3372 1550.4671,-87.2886 1548.5937,-94.0332"/>
</g>
<!-- sourcefile~energyplus.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node8" class="node">
<title>sourcefile~energyplus.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~AfferentGraph_node8"><a xlink:href="../sourcefile/energyplus.f90.html" xlink:title="EnergyPlus.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1640.9777,-74.4815 1557.5607,-74.4815 1557.5607,-52.4707 1640.9777,-52.4707 1640.9777,-74.4815"/>
<text text-anchor="middle" x="1599.2692" y="-60.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">EnergyPlus.f90</text>
</a>
</g>
</g>
<!-- sourcefile~simulationmanager.f90&#45;&gt;sourcefile~energyplus.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge1" class="edge">
<title>sourcefile~simulationmanager.f90&#45;&gt;sourcefile~energyplus.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1515.0798,-64.0607C1525.7445,-63.9866 1536.7763,-63.91 1547.2026,-63.8376"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1547.4157,-67.3363 1557.3911,-63.7669 1547.367,-60.3365 1547.4157,-67.3363"/>
</g>
<!-- sourcefile~hvacmanager.f90&#45;&gt;sourcefile~simulationmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge11" class="edge">
<title>sourcefile~hvacmanager.f90&#45;&gt;sourcefile~simulationmanager.f90</title>
<path fill="none" stroke="#0000ff" stroke-dasharray="5,2" d="M675.9777,-64.1301C743.4672,-62.6281 868.3571,-61.0607 974.7261,-66.4761"/>
</g>
<!-- sourcefile~heatbalanceairmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node9" class="node">
<title>sourcefile~heatbalanceairmanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~AfferentGraph_node9"><a xlink:href="../sourcefile/heatbalanceairmanager.f90.html" xlink:title="HeatBalanceAirManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="855.5498,-38.4815 711.8747,-38.4815 711.8747,-16.4707 855.5498,-16.4707 855.5498,-38.4815"/>
<text text-anchor="middle" x="783.7123" y="-24.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">HeatBalanceAirManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~hvacmanager.f90&#45;&gt;sourcefile~heatbalanceairmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge10" class="edge">
<title>sourcefile~hvacmanager.f90&#45;&gt;sourcefile~heatbalanceairmanager.f90</title>
<path fill="none" stroke="#0000ff" stroke-dasharray="5,2" d="M672.5042,-54.3828C689.9223,-50.1685 709.9511,-45.3225 728.1698,-40.9146"/>
<polygon fill="#0000ff" stroke="#0000ff" points="729.1805,-44.2711 738.0769,-38.5175 727.5343,-37.4674 729.1805,-44.2711"/>
</g>
<!-- sourcefile~heatbalanceairmanager.f90&#45;&gt;sourcefile~simulationmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge9" class="edge">
<title>sourcefile~heatbalanceairmanager.f90&#45;&gt;sourcefile~simulationmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M820.976,-38.5558C859.1664,-49.0856 920.4731,-63.714 974.7261,-66.4761"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M974.7261,-66.4761C1056.6632,-70.6476 1077.4407,-61.3458 1159.3235,-66.4761"/>
</g>
<!-- sourcefile~heatbalancesurfacemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node10" class="node">
<title>sourcefile~heatbalancesurfacemanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~AfferentGraph_node10"><a xlink:href="../sourcefile/heatbalancesurfacemanager.f90.html" xlink:title="HeatBalanceSurfaceManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1057.9168,-38.4815 891.5354,-38.4815 891.5354,-16.4707 1057.9168,-16.4707 1057.9168,-38.4815"/>
<text text-anchor="middle" x="974.7261" y="-24.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">HeatBalanceSurfaceManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~heatbalanceairmanager.f90&#45;&gt;sourcefile~heatbalancesurfacemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge8" class="edge">
<title>sourcefile~heatbalanceairmanager.f90&#45;&gt;sourcefile~heatbalancesurfacemanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M855.3822,-27.4761C863.828,-27.4761 872.5394,-27.4761 881.2286,-27.4761"/>
<polygon fill="#ff0000" stroke="#ff0000" points="881.4016,-30.9762 891.4016,-27.4761 881.4015,-23.9762 881.4016,-30.9762"/>
</g>
<!-- sourcefile~heatbalancesurfacemanager.f90&#45;&gt;sourcefile~simulationmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge7" class="edge">
<title>sourcefile~heatbalancesurfacemanager.f90&#45;&gt;sourcefile~simulationmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1010.7091,-38.5545C1047.5939,-49.0832 1106.8235,-63.7109 1159.3235,-66.4761"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1159.3235,-66.4761C1236.5621,-70.5443 1325.2951,-69.1363 1385.2945,-67.2859"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1385.5287,-70.7802 1395.4113,-66.9612 1385.3042,-63.7838 1385.5287,-70.7802"/>
</g>
<!-- sourcefile~heatbalancemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node11" class="node">
<title>sourcefile~heatbalancemanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~AfferentGraph_node11"><a xlink:href="../sourcefile/heatbalancemanager.f90.html" xlink:title="HeatBalanceManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1224.3288,-38.4815 1094.3182,-38.4815 1094.3182,-16.4707 1224.3288,-16.4707 1224.3288,-38.4815"/>
<text text-anchor="middle" x="1159.3235" y="-24.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">HeatBalanceManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~heatbalancesurfacemanager.f90&#45;&gt;sourcefile~heatbalancemanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge6" class="edge">
<title>sourcefile~heatbalancesurfacemanager.f90&#45;&gt;sourcefile~heatbalancemanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1058.1137,-27.4761C1066.8353,-27.4761 1075.664,-27.4761 1084.2845,-27.4761"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1084.2896,-30.9762 1094.2895,-27.4761 1084.2895,-23.9762 1084.2896,-30.9762"/>
</g>
<!-- sourcefile~heatbalancemanager.f90&#45;&gt;sourcefile~simulationmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge5" class="edge">
<title>sourcefile~heatbalancemanager.f90&#45;&gt;sourcefile~simulationmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1194.3396,-16.3906C1234.8265,-5.3016 1303.1358,8.0525 1359.5544,-7.4761 1387.5618,-15.1848 1415.6511,-33.4716 1434.0836,-47.2689"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1432.0181,-50.0958 1442.0758,-53.4265 1436.2903,-44.5507 1432.0181,-50.0958"/>
</g>
<!-- sourcefile~sizingmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_node12" class="node">
<title>sourcefile~sizingmanager.f90</title>
<g id="a_sourcefile~~planteirchillers.f90~~AfferentGraph_node12"><a xlink:href="../sourcefile/sizingmanager.f90.html" xlink:title="SizingManager.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1359.5438,-38.4815 1260.5863,-38.4815 1260.5863,-16.4707 1359.5438,-16.4707 1359.5438,-38.4815"/>
<text text-anchor="middle" x="1310.0651" y="-24.3261" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SizingManager.f90</text>
</a>
</g>
</g>
<!-- sourcefile~heatbalancemanager.f90&#45;&gt;sourcefile~sizingmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge4" class="edge">
<title>sourcefile~heatbalancemanager.f90&#45;&gt;sourcefile~sizingmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1224.5642,-27.4761C1233.0496,-27.4761 1241.7094,-27.4761 1250.1029,-27.4761"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1250.1794,-30.9762 1260.1794,-27.4761 1250.1794,-23.9762 1250.1794,-30.9762"/>
</g>
<!-- sourcefile~sizingmanager.f90&#45;&gt;sourcefile~simulationmanager.f90 -->
<g id="sourcefile~~planteirchillers.f90~~AfferentGraph_edge3" class="edge">
<title>sourcefile~sizingmanager.f90&#45;&gt;sourcefile~simulationmanager.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1353.6273,-38.5773C1368.9146,-42.473 1386.2583,-46.8928 1402.235,-50.9643"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1401.4209,-54.3686 1411.9755,-53.4465 1403.1496,-47.5854 1401.4209,-54.3686"/>
</g>
</g>
</svg>
</div>
                <script>var pansourcefileplanteirchillersf90AfferentGraph = svgPanZoom('#sourcefileplanteirchillersf90AfferentGraph', {
                    zoomEnabled: true,
                    controlIconsEnabled: true,
                    fit: true,
                    center: true,});
                    </script>
                <div><a type="button" class="graph-help" data-toggle="modal" href="#graph-help-text">Help</a></div>
                <div class="modal fade" id="graph-help-text" tabindex="-1" role="dialog">
                  <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="-graph-help-label">Graph Key</h4>
                      </div>
                      <div class="modal-body">

    <p>Nodes of different colours represent the following: </p>
    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Graph Key Pages: 1 -->
<svg width="186pt" height="31pt"
 viewBox="0.00 0.00 186.41 30.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 26.5)">
<title>Graph Key</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-26.5 182.4064,-26.5 182.4064,4 -4,4"/>
<!-- Source File -->
<g id="node1" class="node">
<title>Source File</title>
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="65.1576,-22.2554 -.0526,-22.2554 -.0526,-.2446 65.1576,-.2446 65.1576,-22.2554"/>
<text text-anchor="middle" x="32.5525" y="-8.1" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Source File</text>
</g>
<!-- This Page&#39;s Entity -->
<g id="node2" class="node">
<title>This Page&#39;s Entity</title>
<polygon fill="none" stroke="#000000" points="178.2607,-22.2554 82.8443,-22.2554 82.8443,-.2446 178.2607,-.2446 178.2607,-22.2554"/>
<text text-anchor="middle" x="130.5525" y="-8.1" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#000000">This Page&#39;s Entity</text>
</g>
</g>
</svg>


    <p>Solid arrows point from a file to a file which depends upon it. A file
    is dependent upon another if the latter must be compiled before the former
    can be. Where possible, edges connecting nodes are given different colours to make them easier to distinguish in large graphs.
    </p>

                      </div>
                    </div>
                  </div>
                </div>


      <br>

    <section class="visible-xs visible-sm hidden-md">


<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#mods-1">Modules</a></h3></div>
  <div id="mods-1" class="panel-collapse collapse">
    <div class="list-group">

      <a class="list-group-item" href="../module/chillerelectriceir.html">ChillerElectricEIR</a>

      <a class="list-group-item" href="../module/chillerreformulatedeir.html">ChillerReformulatedEIR</a>

    </div>
  </div>
</div>


<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title">Source Code</h3></div>
  <div class="list-group">
    <a class="list-group-item" href="../sourcefile/planteirchillers.f90.html#src">PlantEIRChillers.f90</a>
  </div>
</div>


    </section>
    <br class="visible-xs visible-sm hidden-md">

    <section>
      <h2><span class="anchor" id="src"></span>Source Code</h2>
    <div class="hl"><pre><span></span><a name="ln-1"></a><span class="c">!Note: Multiple Chiller Modules included in this file.</span>
<a name="ln-2"></a><span class="c">!      Find the chiller you are looking for by searching for &quot;ChillerModule&quot;</span>
<a name="ln-3"></a>
<a name="ln-4"></a><span class="c">!      The Electric EIR and Reformulated EIR chiller models are similar.</span>
<a name="ln-5"></a><span class="c">!      They only differ in the independent variable used to evaluate the performance curves.</span>
<a name="ln-6"></a><span class="c">!      Since the Reformulated EIR chiller uses outlet condenser water temperature as an</span>
<a name="ln-7"></a><span class="c">!      independent variable, iteration is required to converge on a solution.</span>
<a name="ln-8"></a><span class="c">!</span>
<a name="ln-9"></a><span class="c">! Contents:</span>
<a name="ln-10"></a><span class="c">! ChillerElectricEIR</span>
<a name="ln-11"></a><span class="c">! ChillerReformulatedEIR</span>
<a name="ln-12"></a><span class="c">!</span>
<a name="ln-13"></a><span class="k">MODULE </span><span class="n">ChillerElectricEIR</span>  <span class="c">! DOE-2 Electric ChillerModule</span>
<a name="ln-14"></a>
<a name="ln-15"></a>          <span class="c">! MODULE INFORMATION:</span>
<a name="ln-16"></a>          <span class="c">!       AUTHOR         Richard Raustad</span>
<a name="ln-17"></a>          <span class="c">!       DATE WRITTEN   June 2004</span>
<a name="ln-18"></a>          <span class="c">!       MODIFIED       Chandan Sharma, FSEC, February 2010, Added basin heater</span>
<a name="ln-19"></a>          <span class="c">!                      Brent Griffith, NREL, Sept 2010, revised for plant changes</span>
<a name="ln-20"></a>          <span class="c">!                      generalized fluid properties</span>
<a name="ln-21"></a>          <span class="c">!       RE-ENGINEERED  na</span>
<a name="ln-22"></a>
<a name="ln-23"></a>          <span class="c">! PURPOSE OF THIS MODULE:</span>
<a name="ln-24"></a>          <span class="c">!  This module simulates the performance of the electric vapor</span>
<a name="ln-25"></a>          <span class="c">!  compression chiller used in DOE-2.</span>
<a name="ln-26"></a>
<a name="ln-27"></a>          <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-28"></a>          <span class="c">!  Once the PlantLoopManager determines that the Electric EIR chiller</span>
<a name="ln-29"></a>          <span class="c">!  is available to meet a loop cooling demand, it calls SimElectricEIRChiller</span>
<a name="ln-30"></a>          <span class="c">!  which in turn calls the electric EIR model. The EIR chiller model is based on</span>
<a name="ln-31"></a>          <span class="c">!  polynomial fits of chiller performance data.</span>
<a name="ln-32"></a>
<a name="ln-33"></a>          <span class="c">! REFERENCES:</span>
<a name="ln-34"></a>          <span class="c">! 1. DOE-2 Engineers Manual, Version 2.1A, November 1982, LBL-11353</span>
<a name="ln-35"></a>
<a name="ln-36"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-37"></a><span class="k">USE </span><span class="n">DataPrecisionGlobals</span>
<a name="ln-38"></a><span class="k">USE </span><span class="n">DataLoopNode</span>
<a name="ln-39"></a><span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>     <span class="n">ONLY</span><span class="p">:</span> <span class="n">MaxNameLength</span><span class="p">,</span> <span class="n">InitConvTemp</span>
<a name="ln-40"></a><span class="k">USE </span><span class="n">DataInterfaces</span>
<a name="ln-41"></a><span class="k">USE </span><span class="n">DataHVACGlobals</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">SmallWaterVolFlow</span>
<a name="ln-42"></a><span class="k">USE </span><span class="n">Psychrometrics</span><span class="p">,</span>  <span class="n">ONLY</span><span class="p">:</span> <span class="n">PsyCpAirFnWTdb</span><span class="p">,</span> <span class="n">PsyRhoAirFnPbTdbW</span>
<a name="ln-43"></a><span class="k">USE </span><span class="n">General</span><span class="p">,</span>         <span class="n">ONLY</span><span class="p">:</span> <span class="n">TrimSigDigits</span>
<a name="ln-44"></a><span class="k">USE </span><span class="n">FluidProperties</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetDensityGlycol</span><span class="p">,</span> <span class="n">GetSpecificHeatGlycol</span>
<a name="ln-45"></a><span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>       <span class="n">ONLY</span><span class="p">:</span> <span class="n">PlantLoop</span>
<a name="ln-46"></a>
<a name="ln-47"></a><span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-48"></a>
<a name="ln-49"></a>          <span class="c">! MODULE PARAMETER DEFINITIONS:</span>
<a name="ln-50"></a><span class="c">! Chiller type parameters</span>
<a name="ln-51"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">AirCooled</span>         <span class="o">=</span> <span class="mi">1</span>
<a name="ln-52"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">WaterCooled</span>       <span class="o">=</span> <span class="mi">2</span>
<a name="ln-53"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">EvapCooled</span>        <span class="o">=</span> <span class="mi">3</span>
<a name="ln-54"></a>
<a name="ln-55"></a><span class="c">!chiller flow modes</span>
<a name="ln-56"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">FlowModeNotSet</span>           <span class="o">=</span> <span class="mi">200</span>
<a name="ln-57"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">ConstantFlow</span>             <span class="o">=</span> <span class="mi">201</span>
<a name="ln-58"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">NotModulated</span>             <span class="o">=</span> <span class="mi">202</span>
<a name="ln-59"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">LeavingSetpointModulated</span> <span class="o">=</span> <span class="mi">203</span>
<a name="ln-60"></a>
<a name="ln-61"></a>          <span class="c">! MODULE VARIABLE DECLARATIONS:</span>
<a name="ln-62"></a><span class="k">PRIVATE</span>
<a name="ln-63"></a><span class="kt">INTEGER</span>        <span class="kd">::</span> <span class="n">NumElectricEIRChillers</span>         <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Number of electric EIR chillers specified in input</span>
<a name="ln-64"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">CondMassFlowRate</span>               <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Condenser mass flow rate [kg/s]</span>
<a name="ln-65"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">EvapMassFlowRate</span>               <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Evaporator mass flow rate [kg/s]</span>
<a name="ln-66"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">CondOutletTemp</span>                 <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Condenser outlet temperature [C]</span>
<a name="ln-67"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">CondOutletHumRat</span>               <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Condenser outlet humidity ratio [kg/kg]</span>
<a name="ln-68"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">EvapOutletTemp</span>                 <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Evaporator outlet temperature [C]</span>
<a name="ln-69"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">Power</span>                          <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Rate of chiller electric energy use [W]</span>
<a name="ln-70"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">QEvaporator</span>                    <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Rate of heat transfer to the evaporator coil [W]</span>
<a name="ln-71"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">QCondenser</span>                     <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Rate of heat transfer to the condenser coil [W]</span>
<a name="ln-72"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">QHeatRecovered</span>                 <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Rate of heat transfer to the heat recovery coil [W]</span>
<a name="ln-73"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">HeatRecOutletTemp</span>              <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Heat recovery outlet temperature [C]</span>
<a name="ln-74"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">CondenserFanPower</span>              <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Condenser Fan Power (fan cycles with compressor) [W]</span>
<a name="ln-75"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerCapFT</span>                   <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Chiller capacity fraction (evaluated as a function of temperature)</span>
<a name="ln-76"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerEIRFT</span>                   <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Chiller electric input ratio (EIR = 1 / COP) as a function of temperature</span>
<a name="ln-77"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerEIRFPLR</span>                 <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Chiller EIR as a function of part-load ratio (PLR)</span>
<a name="ln-78"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerPartLoadRatio</span>           <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Chiller part-load ratio (PLR)</span>
<a name="ln-79"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerCyclingRatio</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Chiller cycling ratio</span>
<a name="ln-80"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">BasinHeaterPower</span>               <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Basin heater power (W)</span>
<a name="ln-81"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerFalseLoadRate</span>           <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Chiller false load over and above the water-side load [W]</span>
<a name="ln-82"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">AvgCondSinkTemp</span>                <span class="o">=</span> <span class="mf">0.d0</span><span class="c">!  condenser temperature value for use in curves [C]</span>
<a name="ln-83"></a>
<a name="ln-84"></a><span class="k">TYPE </span><span class="n">ElectricEIRChillerSpecs</span>
<a name="ln-85"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="n">MaxNameLength</span><span class="p">)</span> <span class="kd">::</span> <span class="n">Name</span>           <span class="o">=</span><span class="s1">&#39; &#39;</span>  <span class="c">! User identifier</span>
<a name="ln-86"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">TypeNum</span> <span class="o">=</span> <span class="mi">0</span>                     <span class="c">! plant loop type identifier</span>
<a name="ln-87"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="n">MaxNameLength</span><span class="p">)</span> <span class="kd">::</span> <span class="n">EIRFPLRName</span>    <span class="o">=</span><span class="s1">&#39; &#39;</span>  <span class="c">! EIRPLR curve name</span>
<a name="ln-88"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CondenserType</span>             <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Type of Condenser - Air Cooled, Water Cooled or Evap Cooled</span>
<a name="ln-89"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">RefCap</span>                    <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference capacity of chiller [W]</span>
<a name="ln-90"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">RefCOP</span>                    <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference coefficient of performance [W/W]</span>
<a name="ln-91"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">FlowMode</span>          <span class="o">=</span> <span class="n">FlowModeNotSet</span> <span class="c">! one of 3 modes for componet flow during operation</span>
<a name="ln-92"></a>  <span class="kt">LOGICAL</span>           <span class="kd">::</span> <span class="n">ModulatedFlowSetToLoop</span>  <span class="o">=</span><span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! True if the setpoint is missing at the outlet node</span>
<a name="ln-93"></a>  <span class="kt">LOGICAL</span>           <span class="kd">::</span> <span class="n">ModulatedFlowErrDone</span>    <span class="o">=</span><span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! true if setpoint warning issued</span>
<a name="ln-94"></a>  <span class="kt">LOGICAL</span>           <span class="kd">::</span> <span class="n">HRSPErrDone</span>            <span class="o">=</span><span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! TRUE if set point warning issued for heat recovery loop</span>
<a name="ln-95"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">EvapVolFlowRate</span>           <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference water volumetric flow rate through the evaporator [m3/s]</span>
<a name="ln-96"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">EvapMassFlowRateMax</span>       <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference water mass flow rate through evaporator [kg/s]</span>
<a name="ln-97"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">CondVolFlowRate</span>           <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference water volumetric flow rate through the condenser [m3/s]</span>
<a name="ln-98"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">CondMassFlowRateMax</span>       <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference water mass flow rate through condenser [kg/s]</span>
<a name="ln-99"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">CondenserFanPowerRatio</span>    <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference power of condenser fan to capacity ratio, W/W</span>
<a name="ln-100"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">CompPowerToCondenserFrac</span>  <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Fraction of compressor electric power rejected by condenser [0 to 1]</span>
<a name="ln-101"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EvapInletNodeNum</span>          <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number on the inlet side of the plant (evaporator side)</span>
<a name="ln-102"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EvapOutletNodeNum</span>         <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number on the outlet side of the plant (evaporator side)</span>
<a name="ln-103"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CondInletNodeNum</span>          <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number on the inlet side of the condenser</span>
<a name="ln-104"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CondOutletNodeNum</span>         <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number on the outlet side of the condenser</span>
<a name="ln-105"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">MinPartLoadRat</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Minimum allowed operating fraction of full load</span>
<a name="ln-106"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">MaxPartLoadRat</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Maximum allowed operating fraction of full load</span>
<a name="ln-107"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">OptPartLoadRat</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Optimal operating fraction of full load</span>
<a name="ln-108"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">MinUnLoadRat</span>              <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Minimum unloading ratio</span>
<a name="ln-109"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">TempRefCondIn</span>             <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! The reference secondary loop fluid temperature</span>
<a name="ln-110"></a>                                                       <span class="c">! at the chiller condenser side inlet [C]</span>
<a name="ln-111"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">TempRefEvapOut</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! The reference primary loop fluid temperature</span>
<a name="ln-112"></a>                                                       <span class="c">! at the chiller evaporator side outlet [C]</span>
<a name="ln-113"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">TempLowLimitEvapOut</span>       <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Low temperature shut off [C]</span>
<a name="ln-114"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">DesignHeatRecVolFlowRate</span>  <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Design water volumetric flow rate through heat recovery loop [m3/s]</span>
<a name="ln-115"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">DesignHeatRecMassFlowRate</span> <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Design water mass flow rate through heat recovery loop [kg/s]</span>
<a name="ln-116"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">SizFac</span>                    <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! sizing factor</span>
<a name="ln-117"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">BasinHeaterPowerFTempDiff</span> <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Basin heater capacity per degree C below setpoint (W/C)</span>
<a name="ln-118"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">BasinHeaterSetPointTemp</span>   <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! setpoint temperature for basin heater operation (C)</span>
<a name="ln-119"></a>  <span class="kt">LOGICAL</span>           <span class="kd">::</span> <span class="n">HeatRecActive</span>         <span class="o">=</span> <span class="p">.</span><span class="n">False</span><span class="p">.</span> <span class="c">! True when entered Heat Rec Vol Flow Rate &gt; 0</span>
<a name="ln-120"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HeatRecInletNodeNum</span>       <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number for the heat recovery inlet side of the condenser</span>
<a name="ln-121"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HeatRecOutletNodeNum</span>      <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number for the heat recovery outlet side of the condenser</span>
<a name="ln-122"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">HeatRecCapacityFraction</span>   <span class="o">=</span> <span class="mf">0.d0</span> <span class="c">! user input for heat recovery capacity fraction []</span>
<a name="ln-123"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">HeatRecMaxCapacityLimit</span>   <span class="o">=</span> <span class="mf">0.d0</span> <span class="c">! Capacity limit for Heat recovery, one time calc [W]</span>
<a name="ln-124"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HeatRecSetpointNodeNum</span>    <span class="o">=</span> <span class="mi">0</span>    <span class="c">! index for system node with the heat recover leaving setpoint</span>
<a name="ln-125"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HeatRecInletLimitSchedNum</span> <span class="o">=</span> <span class="mi">0</span>    <span class="c">! index for schedule for the inlet high limit for heat recovery operation</span>
<a name="ln-126"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerCapFT</span>              <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for the total cooling capacity modifier curve</span>
<a name="ln-127"></a>                                                       <span class="c">! (function of leaving chilled water temperature and</span>
<a name="ln-128"></a>                                                       <span class="c">!  entering condenser fluid temperature)</span>
<a name="ln-129"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFT</span>              <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for the energy input ratio modifier curve</span>
<a name="ln-130"></a>                                                       <span class="c">! (function of leaving chilled water temperature and</span>
<a name="ln-131"></a>                                                       <span class="c">!  entering condenser fluid temperature)</span>
<a name="ln-132"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFPLR</span>            <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for the EIR vs part-load ratio curve</span>
<a name="ln-133"></a><span class="c">!  INTEGER           :: CondFanPowerFCap          = 0   ! Condenser fan capacity as a function of chiller capacity</span>
<a name="ln-134"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerCapFTError</span>         <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative capacity as a function of temp warnings</span>
<a name="ln-135"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerCapFTErrorIndex</span>    <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative capacity as a function of temp warnings</span>
<a name="ln-136"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFTError</span>         <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative EIR as a function of temp warnings</span>
<a name="ln-137"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFTErrorIndex</span>    <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative EIR as a function of temp warnings</span>
<a name="ln-138"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFPLRError</span>       <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative EIR as a function of PLR warnings</span>
<a name="ln-139"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFPLRErrorIndex</span>  <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative EIR as a function of PLR warnings</span>
<a name="ln-140"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerEIRFPLRMin</span>         <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Minimum value of PLR from EIRFPLR curve</span>
<a name="ln-141"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerEIRFPLRMax</span>         <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Maximum value of PLR from EIRFPLR curve</span>
<a name="ln-142"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">DeltaTErrCount</span>            <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Evaporator delta T equals 0 for variable flow chiller warning messages</span>
<a name="ln-143"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">DeltaTErrCountIndex</span>       <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index to evaporator delta T = 0 for variable flow chiller warning messages</span>
<a name="ln-144"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CWLoopNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! chilled water plant loop index number</span>
<a name="ln-145"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CWLoopSideNum</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c">! chilled water plant loop side index</span>
<a name="ln-146"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CWBranchNum</span>   <span class="o">=</span> <span class="mi">0</span>  <span class="c">! chilled water plant loop branch index</span>
<a name="ln-147"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CWCompNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! chilled water plant loop component index</span>
<a name="ln-148"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CDLoopNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! condenser water plant loop index number</span>
<a name="ln-149"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CDLoopSideNum</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c">! condenser water plant loop side index</span>
<a name="ln-150"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CDBranchNum</span>   <span class="o">=</span> <span class="mi">0</span>  <span class="c">! condenser water plant loop branch index</span>
<a name="ln-151"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CDCompNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! condenser water plant loop component index</span>
<a name="ln-152"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HRLoopNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! heat recovery water plant loop index</span>
<a name="ln-153"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HRLoopSideNum</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c">! heat recovery water plant loop side index</span>
<a name="ln-154"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HRBranchNum</span>   <span class="o">=</span> <span class="mi">0</span>  <span class="c">! heat recovery water plant loop branch index</span>
<a name="ln-155"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HRCompNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! heat recovery water plant loop component index</span>
<a name="ln-156"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">BasinHeaterSchedulePtr</span>  <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Pointer to basin heater schedule</span>
<a name="ln-157"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CondMassFlowIndex</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-158"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">220</span><span class="p">)</span><span class="kd">::</span> <span class="n">MsgBuffer1</span>    <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="c">!- buffer to print warning messages on following time step</span>
<a name="ln-159"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span><span class="kd">::</span> <span class="n">MsgBuffer2</span>    <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="c">!- buffer to print warning messages on following time step</span>
<a name="ln-160"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">MsgDataLast</span>   <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! value of data when warning occurred (passed to Recurring Warn)</span>
<a name="ln-161"></a>  <span class="kt">LOGICAL</span>           <span class="kd">::</span> <span class="n">PrintMessage</span>  <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! logical to determine if message is valid</span>
<a name="ln-162"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">MsgErrorCount</span> <span class="o">=</span> <span class="mi">0</span>   <span class="c">! number of occurrences of warning</span>
<a name="ln-163"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ErrCount1</span>     <span class="o">=</span> <span class="mi">0</span>   <span class="c">! for recurring error messages</span>
<a name="ln-164"></a>  <span class="kt">LOGICAL</span>           <span class="kd">::</span> <span class="n">PossibleSubCooling</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! flag to indicate chiller is doing less cooling that requested</span>
<a name="ln-165"></a><span class="k">END TYPE </span><span class="n">ElectricEIRChillerSpecs</span>
<a name="ln-166"></a>
<a name="ln-167"></a><span class="k">TYPE </span><span class="n">ReportEIRVars</span>
<a name="ln-168"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerPartLoadRatio</span>  <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller PLR (Load/Capacity)</span>
<a name="ln-169"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerCyclingRatio</span>   <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller cycling ratio (time on/time step)</span>
<a name="ln-170"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerFalseLoadRate</span>  <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller false load over and above water side load [J]</span>
<a name="ln-171"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerFalseLoad</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller false load over and above water side load [W]</span>
<a name="ln-172"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">Power</span>                 <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller power, W</span>
<a name="ln-173"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">QEvap</span>                 <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Evaporator heat transfer rate [W]</span>
<a name="ln-174"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">QCond</span>                 <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Condenser heat transfer rate [W]</span>
<a name="ln-175"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">Energy</span>                <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller electric consumption [J]</span>
<a name="ln-176"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">EvapEnergy</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Evaporator heat transfer energy [J]</span>
<a name="ln-177"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CondEnergy</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Condenser heat transfer energy [J]</span>
<a name="ln-178"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CondInletTemp</span>         <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Condenser inlet temperature [C]</span>
<a name="ln-179"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">EvapInletTemp</span>         <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Evaporator inlet temperature [C]</span>
<a name="ln-180"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CondOutletTemp</span>        <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Condenser outlet temperature [C]</span>
<a name="ln-181"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">EvapOutletTemp</span>        <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Evaporator outlet temperature [C]</span>
<a name="ln-182"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">Evapmdot</span>              <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Evaporator mass flow rate [kg/s]</span>
<a name="ln-183"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">Condmdot</span>              <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Condenser mass flow rate [kg/s]</span>
<a name="ln-184"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ActualCOP</span>             <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Coefficient of performance</span>
<a name="ln-185"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">QHeatRecovery</span>         <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Heat recovered from water-cooled condenser [W]</span>
<a name="ln-186"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">EnergyHeatRecovery</span>    <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Energy recovered from water-cooled condenser [J]</span>
<a name="ln-187"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecInletTemp</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Heat reclaim inlet temperature [C]</span>
<a name="ln-188"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecOutletTemp</span>     <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Heat reclaim outlet temperature [C]</span>
<a name="ln-189"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecMassFlow</span>       <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Heat reclaim mass flow rate [kg/s]</span>
<a name="ln-190"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerCondAvgTemp</span>    <span class="o">=</span> <span class="mf">0.d0</span>  <span class="c">! reporting: average condenser temp for curves with Heat recovery [C]</span>
<a name="ln-191"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerCapFT</span>          <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller capacity curve output value</span>
<a name="ln-192"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerEIRFT</span>          <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller EIRFT curve output value</span>
<a name="ln-193"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerEIRFPLR</span>        <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller EIRFPLR curve output value</span>
<a name="ln-194"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CondenserFanPowerUse</span>  <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Air-cooled condenser fan power [W]</span>
<a name="ln-195"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CondenserFanEnergyConsumption</span> <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Air-cooled condenser fan energy [J]</span>
<a name="ln-196"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">BasinHeaterPower</span>       <span class="o">=</span> <span class="mf">0.0d0</span>  <span class="c">! Basin heater power (W)</span>
<a name="ln-197"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">BasinHeaterConsumption</span> <span class="o">=</span> <span class="mf">0.0d0</span>  <span class="c">! Basin heater energy consumption (J)</span>
<a name="ln-198"></a><span class="k">END TYPE </span><span class="n">ReportEIRVars</span>
<a name="ln-199"></a>
<a name="ln-200"></a><span class="k">TYPE</span> <span class="p">(</span><span class="n">ElectricEIRChillerSpecs</span><span class="p">),</span> <span class="k">ALLOCATABLE</span><span class="p">,</span> <span class="k">DIMENSION</span><span class="p">(:)</span>  <span class="kd">::</span> <span class="n">ElectricEIRChiller</span>  <span class="c">! Dimension to number of machines</span>
<a name="ln-201"></a>
<a name="ln-202"></a><span class="k">TYPE</span><span class="p">(</span><span class="n">ReportEIRVars</span><span class="p">),</span> <span class="k">ALLOCATABLE</span><span class="p">,</span> <span class="k">DIMENSION</span><span class="p">(:)</span> <span class="kd">::</span><span class="n">ElectricEIRChillerReport</span>
<a name="ln-203"></a><span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">ALLOCATABLE</span><span class="p">,</span> <span class="k">DIMENSION</span><span class="p">(:)</span> <span class="kd">::</span> <span class="n">CheckEquipName</span>
<a name="ln-204"></a>
<a name="ln-205"></a><span class="kt">LOGICAL</span>     <span class="kd">::</span> <span class="n">GetInputEIR</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span> <span class="c">! When TRUE, calls subroutine to read input file.</span>
<a name="ln-206"></a>
<a name="ln-207"></a>          <span class="c">! SUBROUTINE SPECIFICATIONS FOR MODULE ChillerElectricEIR</span>
<a name="ln-208"></a><span class="k">PRIVATE    </span><span class="n">CalcElectricEIRChillerModel</span>
<a name="ln-209"></a><span class="k">PRIVATE    </span><span class="n">GetElectricEIRChillerInput</span>
<a name="ln-210"></a><span class="k">PRIVATE    </span><span class="n">InitElectricEIRChiller</span>
<a name="ln-211"></a><span class="k">PRIVATE    </span><span class="n">SizeElectricEIRChiller</span>
<a name="ln-212"></a><span class="k">PRIVATE    </span><span class="n">UpdateElectricEIRChillerRecords</span>
<a name="ln-213"></a><span class="k">PRIVATE    </span><span class="n">EIRChillerHeatRecovery</span>
<a name="ln-214"></a><span class="k">PUBLIC     </span><span class="n">SimElectricEIRChiller</span>
<a name="ln-215"></a><span class="c">!PUBLIC     SimEIRChillerHeatRecovery</span>
<a name="ln-216"></a>
<a name="ln-217"></a><span class="k">CONTAINS</span>
<a name="ln-218"></a>          <span class="c">! MODULE SUBROUTINES:</span>
<a name="ln-219"></a>
<a name="ln-220"></a><span class="c">! Beginning of Electric EIR Chiller Module Driver Subroutine</span>
<a name="ln-221"></a><span class="c">!*************************************************************************</span>
<a name="ln-222"></a>
<a name="ln-223"></a><span class="k">SUBROUTINE </span><span class="n">SimElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerType</span><span class="p">,</span><span class="n">EIRChillerName</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">,</span> <span class="n">CompIndex</span><span class="p">,</span><span class="n">LoopNum</span><span class="p">,</span> <span class="n">RunFlag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-224"></a>                                 <span class="n">InitLoopEquip</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">MaxCap</span><span class="p">,</span><span class="n">MinCap</span><span class="p">,</span><span class="n">OptCap</span><span class="p">,</span><span class="n">GetSizingFactor</span><span class="p">,</span><span class="n">SizingFactor</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-225"></a>                                 <span class="n">TempCondInDesign</span><span class="p">,</span><span class="n">TempEvapOutDesign</span><span class="p">)</span>
<a name="ln-226"></a>          <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-227"></a>          <span class="c">!       AUTHOR         Richard Raustad</span>
<a name="ln-228"></a>          <span class="c">!       DATE WRITTEN   June 2004</span>
<a name="ln-229"></a>          <span class="c">!       MODIFIED       na</span>
<a name="ln-230"></a>          <span class="c">!       RE-ENGINEERED  na</span>
<a name="ln-231"></a>
<a name="ln-232"></a>          <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-233"></a>          <span class="c">!  This is the electric EIR chiller model driver. It gets the input for the</span>
<a name="ln-234"></a>          <span class="c">!  model, initializes simulation variables, calls the appropriate model and sets</span>
<a name="ln-235"></a>          <span class="c">!  up reporting variables.</span>
<a name="ln-236"></a>
<a name="ln-237"></a>          <span class="c">! METHODOLOGY EMPLOYED: na</span>
<a name="ln-238"></a>
<a name="ln-239"></a>          <span class="c">! REFERENCES: na</span>
<a name="ln-240"></a>
<a name="ln-241"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-242"></a>  <span class="k">USE </span><span class="n">InputProcessor</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">FindItemInList</span>
<a name="ln-243"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">UpdateChillerComponentCondenserSide</span><span class="p">,</span> <span class="n">UpdateComponentHeatRecoverySide</span>
<a name="ln-244"></a>  <span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>      <span class="n">ONLY</span> <span class="p">:</span> <span class="n">TypeOf_Chiller_ElectricEIR</span>
<a name="ln-245"></a>  <span class="k">USE </span><span class="n">DataSizing</span><span class="p">,</span>     <span class="n">ONLY</span> <span class="p">:</span> <span class="n">CurLoopNum</span>
<a name="ln-246"></a>
<a name="ln-247"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-248"></a>
<a name="ln-249"></a>
<a name="ln-250"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-251"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span> <span class="kd">::</span> <span class="n">EIRChillerType</span>   <span class="c">! Type of chiller</span>
<a name="ln-252"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span> <span class="kd">::</span> <span class="n">EIRChillerName</span>   <span class="c">! User specified name of chiller</span>
<a name="ln-253"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">EquipFlowCtrl</span>    <span class="c">! Flow control mode for the equipment</span>
<a name="ln-254"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">RunFlag</span>          <span class="c">! Simulate chiller when TRUE</span>
<a name="ln-255"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">FirstIteration</span>   <span class="c">! Initialize variables when TRUE</span>
<a name="ln-256"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>       <span class="kd">::</span> <span class="n">InitLoopEquip</span>    <span class="c">! If not zero, calculate the max load for operating conditions</span>
<a name="ln-257"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">MyLoad</span>           <span class="c">! Loop demand component will meet</span>
<a name="ln-258"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">MinCap</span>           <span class="c">! Minimum operating capacity of chiller [W]</span>
<a name="ln-259"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">MaxCap</span>           <span class="c">! Maximum operating capacity of chiller [W]</span>
<a name="ln-260"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">OptCap</span>           <span class="c">! Optimal operating capacity of chiller [W]</span>
<a name="ln-261"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>       <span class="kd">::</span> <span class="n">CompIndex</span>        <span class="c">! Chiller number pointer</span>
<a name="ln-262"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">LoopNum</span>          <span class="c">! plant loop index pointer</span>
<a name="ln-263"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">GetSizingFactor</span>  <span class="c">! TRUE when just the sizing factor is requested</span>
<a name="ln-264"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">SizingFactor</span>     <span class="c">! sizing factor</span>
<a name="ln-265"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">TempCondInDesign</span>
<a name="ln-266"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">TempEvapOutDesign</span>
<a name="ln-267"></a>
<a name="ln-268"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-269"></a>          <span class="c">! na</span>
<a name="ln-270"></a>
<a name="ln-271"></a>          <span class="c">! INTERFACE BLOCK SPECIFICATIONS</span>
<a name="ln-272"></a>          <span class="c">! na</span>
<a name="ln-273"></a>
<a name="ln-274"></a>          <span class="c">! DERIVED TYPE DEFINITIONS</span>
<a name="ln-275"></a>          <span class="c">! na</span>
<a name="ln-276"></a>
<a name="ln-277"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-278"></a>  <span class="kt">INTEGER</span>   <span class="kd">::</span> <span class="n">EIRChillNum</span>      <span class="c">! Chiller number pointer</span>
<a name="ln-279"></a>  <span class="kt">INTEGER</span>   <span class="kd">::</span> <span class="n">LoopSide</span>
<a name="ln-280"></a>
<a name="ln-281"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">GetInputEIR</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-282"></a><span class="k">    CALL </span><span class="n">GetElectricEIRChillerInput</span>
<a name="ln-283"></a>    <span class="n">GetInputEIR</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-284"></a>  <span class="k">END IF</span>
<a name="ln-285"></a>
<a name="ln-286"></a>    <span class="c">! Find the correct Chiller</span>
<a name="ln-287"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">CompIndex</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-288"></a><span class="k">    </span><span class="n">EIRChillNum</span> <span class="o">=</span> <span class="n">FindItemInList</span><span class="p">(</span><span class="n">EIRChillerName</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">%</span><span class="n">Name</span><span class="p">,</span><span class="n">NumElectricEIRChillers</span><span class="p">)</span>
<a name="ln-289"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">EIRChillNum</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-290"></a><span class="k">      CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;SimElectricEIRChiller: Specified Chiller not one of Valid EIR Electric Chillers=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">EIRChillerName</span><span class="p">))</span>
<a name="ln-291"></a>    <span class="n">ENDIF</span>
<a name="ln-292"></a>    <span class="n">CompIndex</span><span class="o">=</span><span class="n">EIRChillNum</span>
<a name="ln-293"></a>  <span class="k">ELSE</span>
<a name="ln-294"></a><span class="k">    </span><span class="n">EIRChillNum</span><span class="o">=</span><span class="n">CompIndex</span>
<a name="ln-295"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">EIRChillNum</span> <span class="o">&gt;</span> <span class="n">NumElectricEIRChillers</span> <span class="p">.</span><span class="nb">or</span><span class="p">.</span> <span class="n">EIRChillNum</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-296"></a><span class="k">      CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;SimElectricEIRChiller:  Invalid CompIndex passed=&#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-297"></a>                          <span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">))</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-298"></a>                          <span class="s1">&#39;, Number of Units=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">NumElectricEIRChillers</span><span class="p">))</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-299"></a>                          <span class="s1">&#39;, Entered Unit name=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">EIRChillerName</span><span class="p">))</span>
<a name="ln-300"></a>    <span class="n">ENDIF</span>
<a name="ln-301"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">CheckEquipName</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-302"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">EIRChillerName</span> <span class="o">/=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-303"></a><span class="k">        CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;SimElectricEIRChiller: Invalid CompIndex passed=&#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-304"></a>                            <span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">))</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-305"></a>                            <span class="s1">&#39;, Unit name=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">EIRChillerName</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;, stored Unit Name for that index=&#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-306"></a>                            <span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">))</span>
<a name="ln-307"></a>      <span class="n">ENDIF</span>
<a name="ln-308"></a>      <span class="n">CheckEquipName</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.</span>
<a name="ln-309"></a>    <span class="n">ENDIF</span>
<a name="ln-310"></a>  <span class="n">ENDIF</span>
<a name="ln-311"></a>
<a name="ln-312"></a>
<a name="ln-313"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">InitLoopEquip</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-314"></a><span class="k">    </span><span class="n">TempEvapOutDesign</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefEvapOut</span>
<a name="ln-315"></a>    <span class="n">TempCondInDesign</span>   <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span>
<a name="ln-316"></a>    <span class="k">CALL </span><span class="n">InitElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">RunFlag</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-317"></a>    <span class="k">CALL </span><span class="n">SizeElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span>
<a name="ln-318"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">LoopNum</span> <span class="o">==</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-319"></a><span class="k">      </span><span class="n">MinCap</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="o">*</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span>
<a name="ln-320"></a>      <span class="n">MaxCap</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="o">*</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span>
<a name="ln-321"></a>      <span class="n">OptCap</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="o">*</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">OptPartLoadRat</span>
<a name="ln-322"></a>    <span class="k">ELSE</span>
<a name="ln-323"></a><span class="k">      </span><span class="n">MinCap</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-324"></a>      <span class="n">MaxCap</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-325"></a>      <span class="n">OptCap</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-326"></a>    <span class="n">ENDIF</span>
<a name="ln-327"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">GetSizingFactor</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-328"></a><span class="k">      </span><span class="n">SizingFactor</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">SizFac</span>
<a name="ln-329"></a>    <span class="k">END IF</span>
<a name="ln-330"></a><span class="k">    RETURN</span>
<a name="ln-331"></a><span class="k">  END IF</span>
<a name="ln-332"></a>
<a name="ln-333"></a><span class="k">  IF</span> <span class="p">(</span><span class="n">LoopNum</span> <span class="o">==</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-334"></a><span class="k">    CALL </span><span class="n">InitElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">RunFlag</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-335"></a>    <span class="k">CALL </span><span class="n">CalcElectricEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">)</span>
<a name="ln-336"></a>    <span class="k">CALL </span><span class="n">UpdateElectricEIRChillerRecords</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">RunFlag</span><span class="p">,</span><span class="n">EIRChillNum</span><span class="p">)</span>
<a name="ln-337"></a>
<a name="ln-338"></a>  <span class="n">ELSEIF</span> <span class="p">(</span><span class="n">LoopNum</span> <span class="o">==</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-339"></a><span class="k">    </span><span class="n">LoopSide</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span>
<a name="ln-340"></a>    <span class="k">CALL </span><span class="n">UpdateChillerComponentCondenserSide</span><span class="p">(</span><span class="n">LoopNum</span><span class="p">,</span> <span class="n">LoopSide</span><span class="p">,</span> <span class="n">TypeOf_Chiller_ElectricEIR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-341"></a>                                     <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-342"></a>                                     <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span><span class="p">,</span>    <span class="p">&amp;</span>
<a name="ln-343"></a>                                     <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QCond</span><span class="p">,</span>          <span class="p">&amp;</span>
<a name="ln-344"></a>                                     <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletTemp</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-345"></a>                                     <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondOutletTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-346"></a>                                     <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Condmdot</span><span class="p">,</span> <span class="n">FirstIteration</span><span class="p">)</span>
<a name="ln-347"></a>
<a name="ln-348"></a>  <span class="n">ELSEIF</span> <span class="p">(</span><span class="n">LoopNum</span> <span class="o">==</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-349"></a><span class="k">    CALL </span><span class="n">UpdateComponentHeatRecoverySide</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">,</span>               <span class="p">&amp;</span>
<a name="ln-350"></a>                                    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span><span class="p">,</span>           <span class="p">&amp;</span>
<a name="ln-351"></a>                                    <span class="n">TypeOf_Chiller_ElectricEIR</span><span class="p">,</span>                           <span class="p">&amp;</span>
<a name="ln-352"></a>                                    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-353"></a>                                    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span><span class="p">,</span>    <span class="p">&amp;</span>
<a name="ln-354"></a>                                    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QHeatRecovery</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-355"></a>                                    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletTemp</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-356"></a>                                    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecOutletTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-357"></a>                                    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecMassFlow</span> <span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-358"></a>                                    <span class="n">FirstIteration</span><span class="p">)</span>
<a name="ln-359"></a>  <span class="n">ENDIF</span>
<a name="ln-360"></a>
<a name="ln-361"></a>  <span class="k">RETURN</span>
<a name="ln-362"></a>
<a name="ln-363"></a><span class="k">END SUBROUTINE </span><span class="n">SimElectricEIRChiller</span>
<a name="ln-364"></a>
<a name="ln-365"></a><span class="c">! End Electric EIR Chiller Module Driver Subroutine</span>
<a name="ln-366"></a><span class="c">!******************************************************************************</span>
<a name="ln-367"></a>
<a name="ln-368"></a><span class="k">SUBROUTINE </span><span class="n">GetElectricEIRChillerInput</span>
<a name="ln-369"></a>            <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-370"></a>            <span class="c">!       AUTHOR:          Richard Raustad, FSEC</span>
<a name="ln-371"></a>            <span class="c">!       DATE WRITTEN:    June 2004</span>
<a name="ln-372"></a>
<a name="ln-373"></a>            <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-374"></a>            <span class="c">!  This routine will get the input required by the Electric EIR Chiller model.</span>
<a name="ln-375"></a>
<a name="ln-376"></a>            <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-377"></a>            <span class="c">!</span>
<a name="ln-378"></a>
<a name="ln-379"></a>            <span class="c">! REFERENCES: na</span>
<a name="ln-380"></a>
<a name="ln-381"></a>            <span class="c">! USE STATEMENTS:</span>
<a name="ln-382"></a>  <span class="k">USE </span><span class="n">InputProcessor</span><span class="p">,</span>        <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetNumObjectsFound</span><span class="p">,</span> <span class="n">GetObjectItem</span><span class="p">,</span> <span class="n">VerifyName</span><span class="p">,</span> <span class="n">SameString</span>
<a name="ln-383"></a>  <span class="k">USE </span><span class="n">DataIPShortCuts</span>  <span class="c">! Data for field names, blank numerics</span>
<a name="ln-384"></a>  <span class="k">USE </span><span class="n">BranchNodeConnections</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">TestCompSet</span>
<a name="ln-385"></a>  <span class="k">USE </span><span class="n">NodeInputManager</span><span class="p">,</span>      <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetOnlySingleNode</span>
<a name="ln-386"></a>  <span class="k">USE </span><span class="n">CurveManager</span><span class="p">,</span>          <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetCurveIndex</span>
<a name="ln-387"></a>  <span class="k">USE </span><span class="n">FluidProperties</span><span class="p">,</span>       <span class="n">ONLY</span><span class="p">:</span> <span class="n">FindGlycol</span>
<a name="ln-388"></a>  <span class="k">USE </span><span class="n">CurveManager</span><span class="p">,</span>          <span class="n">ONLY</span><span class="p">:</span> <span class="n">CurveValue</span>
<a name="ln-389"></a>  <span class="k">USE </span><span class="n">General</span><span class="p">,</span>               <span class="n">ONLY</span><span class="p">:</span> <span class="n">TrimSigDigits</span><span class="p">,</span> <span class="n">RoundSigDigits</span>
<a name="ln-390"></a>  <span class="k">USE </span><span class="n">GlobalNames</span><span class="p">,</span>           <span class="n">ONLY</span><span class="p">:</span> <span class="n">VerifyUniqueChillerName</span>
<a name="ln-391"></a>  <span class="k">USE </span><span class="n">OutAirNodeManager</span><span class="p">,</span>     <span class="n">ONLY</span><span class="p">:</span> <span class="n">CheckAndAddAirNodeNumber</span>
<a name="ln-392"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span>        <span class="n">ONLY</span><span class="p">:</span> <span class="n">RegisterPlantCompDesignFlow</span>
<a name="ln-393"></a>  <span class="k">USE </span><span class="n">ScheduleManager</span><span class="p">,</span>       <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetScheduleIndex</span>
<a name="ln-394"></a>  <span class="k">USE </span><span class="n">DataSizing</span><span class="p">,</span>            <span class="n">ONLY</span><span class="p">:</span> <span class="n">Autosize</span>
<a name="ln-395"></a>  <span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>           <span class="n">ONLY</span><span class="p">:</span> <span class="n">AnyEnergyManagementSystemInModel</span>
<a name="ln-396"></a>
<a name="ln-397"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-398"></a>
<a name="ln-399"></a>            <span class="c">! PARAMETERS</span>
<a name="ln-400"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">RoutineName</span><span class="o">=</span><span class="s1">&#39;GetElectricEIRChillerInput: &#39;</span> <span class="c">! include trailing blank space</span>
<a name="ln-401"></a>
<a name="ln-402"></a>            <span class="c">! LOCAL VARIABLES</span>
<a name="ln-403"></a>  <span class="kt">INTEGER</span>             <span class="kd">::</span> <span class="n">EIRChillerNum</span>           <span class="c">! Chiller counter</span>
<a name="ln-404"></a>  <span class="kt">INTEGER</span>             <span class="kd">::</span> <span class="n">NumAlphas</span>               <span class="c">! Number of elements in the alpha array</span>
<a name="ln-405"></a>  <span class="kt">INTEGER</span>             <span class="kd">::</span> <span class="n">NumNums</span>                 <span class="c">! Number of elements in the numeric array</span>
<a name="ln-406"></a>  <span class="kt">INTEGER</span>             <span class="kd">::</span> <span class="n">IOStat</span>                  <span class="c">! IO Status when calling get input subroutine</span>
<a name="ln-407"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">SAVE</span>       <span class="kd">::</span> <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.</span>     <span class="c">! True when input errors are found</span>
<a name="ln-408"></a>  <span class="kt">LOGICAL</span>             <span class="kd">::</span> <span class="n">IsNotOK</span>                 <span class="c">! Flag to verify name</span>
<a name="ln-409"></a>  <span class="kt">LOGICAL</span>             <span class="kd">::</span> <span class="n">IsBlank</span>                 <span class="c">! Flag for blank name</span>
<a name="ln-410"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">CurveVal</span>                <span class="c">! Used to verify EIR-FT and CAP-FT curves equal 1 at reference conditions</span>
<a name="ln-411"></a>  <span class="kt">LOGICAL</span>             <span class="kd">::</span> <span class="n">FoundNegValue</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! Used to evaluate PLFFPLR curve objects</span>
<a name="ln-412"></a>  <span class="kt">INTEGER</span>             <span class="kd">::</span> <span class="n">CurveCheck</span> <span class="o">=</span> <span class="mi">0</span>          <span class="c">! Used to evaluate PLFFPLR curve objects</span>
<a name="ln-413"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">DIMENSION</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="kd">::</span> <span class="n">CurveValArray</span>           <span class="c">! Used to evaluate PLFFPLR curve objects</span>
<a name="ln-414"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">CurveValTmp</span>             <span class="c">! Used to evaluate PLFFPLR curve objects</span>
<a name="ln-415"></a>  <span class="kt">LOGICAL</span>             <span class="kd">::</span> <span class="n">errflag</span>                 <span class="c">! Used to tell if a unique chiller name has been specified</span>
<a name="ln-416"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">132</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">StringVar</span>               <span class="c">! Used for EIRFPLR warning messages</span>
<a name="ln-417"></a>  <span class="kt">INTEGER</span>             <span class="kd">::</span> <span class="n">CurveValPtr</span>             <span class="c">! Index to EIRFPLR curve output</span>
<a name="ln-418"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">SAVE</span>       <span class="kd">::</span> <span class="n">AllocatedFlag</span> <span class="o">=</span><span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! True when arrays are allocated</span>
<a name="ln-419"></a>  <span class="kt">LOGICAL</span>             <span class="kd">::</span> <span class="n">Okay</span>
<a name="ln-420"></a>
<a name="ln-421"></a>
<a name="ln-422"></a>            <span class="c">! FLOW</span>
<a name="ln-423"></a>
<a name="ln-424"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">AllocatedFlag</span><span class="p">)</span> <span class="k">RETURN</span>
<a name="ln-425"></a><span class="k">  </span><span class="n">cCurrentModuleObject</span> <span class="o">=</span> <span class="s1">&#39;Chiller:Electric:EIR&#39;</span>
<a name="ln-426"></a>  <span class="n">NumElectricEIRChillers</span> <span class="o">=</span> <span class="n">GetNumObjectsFound</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span>
<a name="ln-427"></a>
<a name="ln-428"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">NumElectricEIRChillers</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-429"></a><span class="k">    CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;No &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; equipment specified in input file&#39;</span><span class="p">)</span>
<a name="ln-430"></a>    <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-431"></a>  <span class="k">END IF</span>
<a name="ln-432"></a>
<a name="ln-433"></a>
<a name="ln-434"></a>  <span class="c">! ALLOCATE ARRAYS</span>
<a name="ln-435"></a>  <span class="k">ALLOCATE</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">NumElectricEIRChillers</span><span class="p">))</span>
<a name="ln-436"></a>  <span class="k">ALLOCATE</span> <span class="p">(</span><span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">NumElectricEIRChillers</span><span class="p">))</span>
<a name="ln-437"></a>  <span class="k">ALLOCATE</span><span class="p">(</span><span class="n">CheckEquipName</span><span class="p">(</span><span class="n">NumElectricEIRChillers</span><span class="p">))</span>
<a name="ln-438"></a>  <span class="n">CheckEquipName</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-439"></a>  <span class="n">AllocatedFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-440"></a>
<a name="ln-441"></a>  <span class="c">! Load arrays with electric EIR chiller data</span>
<a name="ln-442"></a>  <span class="k">DO </span><span class="n">EIRChillerNum</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">,</span> <span class="n">NumElectricEIRChillers</span>
<a name="ln-443"></a>    <span class="k">CALL </span><span class="n">GetObjectItem</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">,</span><span class="n">EIRChillerNum</span><span class="p">,</span><span class="n">cAlphaArgs</span><span class="p">,</span><span class="n">NumAlphas</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-444"></a>                    <span class="n">rNumericArgs</span><span class="p">,</span><span class="n">NumNums</span><span class="p">,</span><span class="n">IOSTAT</span><span class="p">,</span><span class="n">AlphaBlank</span><span class="o">=</span><span class="n">lAlphaFieldBlanks</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-445"></a>                    <span class="n">AlphaFieldnames</span><span class="o">=</span><span class="n">cAlphaFieldNames</span><span class="p">,</span><span class="n">NumericFieldNames</span><span class="o">=</span><span class="n">cNumericFieldNames</span><span class="p">)</span>
<a name="ln-446"></a>
<a name="ln-447"></a>    <span class="n">IsNotOK</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.</span>
<a name="ln-448"></a>    <span class="n">IsBlank</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.</span>
<a name="ln-449"></a>    <span class="k">CALL </span><span class="n">VerifyName</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">ElectricEIRChiller</span><span class="p">%</span><span class="n">Name</span><span class="p">,</span><span class="n">EIRChillerNum</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">IsNotOK</span><span class="p">,</span><span class="n">IsBlank</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; Name&#39;</span><span class="p">)</span>
<a name="ln-450"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">IsNotOK</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-451"></a><span class="k">      </span><span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-452"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">IsBlank</span><span class="p">)</span> <span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="s1">&#39;xxxxx&#39;</span>
<a name="ln-453"></a>    <span class="k">END IF</span>
<a name="ln-454"></a><span class="k">    CALL </span><span class="n">VerifyUniqueChillerName</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">errflag</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; Name&#39;</span><span class="p">)</span>
<a name="ln-455"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">errflag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-456"></a><span class="k">      </span><span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-457"></a>    <span class="k">END IF</span>
<a name="ln-458"></a><span class="k">    </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span>                  <span class="o">=</span> <span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a name="ln-459"></a>
<a name="ln-460"></a><span class="c">!   Performance curves</span>
<a name="ln-461"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span>          <span class="o">=</span> <span class="n">GetCurveIndex</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<a name="ln-462"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-463"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-464"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<a name="ln-465"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-466"></a>    <span class="k">END IF</span>
<a name="ln-467"></a>
<a name="ln-468"></a><span class="k">    </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span>          <span class="o">=</span> <span class="n">GetCurveIndex</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<a name="ln-469"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-470"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-471"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<a name="ln-472"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-473"></a>    <span class="k">END IF</span>
<a name="ln-474"></a>
<a name="ln-475"></a><span class="k">    </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span>        <span class="o">=</span> <span class="n">GetCurveIndex</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<a name="ln-476"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-477"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-478"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span>
<a name="ln-479"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-480"></a>    <span class="k">END IF</span>
<a name="ln-481"></a>
<a name="ln-482"></a><span class="k">    </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span>    <span class="o">=</span> <span class="p">&amp;</span>
<a name="ln-483"></a>               <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">&amp;</span>
<a name="ln-484"></a>               <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Inlet</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-485"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span>   <span class="o">=</span> <span class="p">&amp;</span>
<a name="ln-486"></a>               <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">&amp;</span>
<a name="ln-487"></a>               <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Outlet</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-488"></a>    <span class="k">CALL </span><span class="n">TestCompSet</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="s1">&#39;Chilled Water Nodes&#39;</span><span class="p">)</span>
<a name="ln-489"></a>
<a name="ln-490"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">SameString</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span><span class="s1">&#39;WaterCooled&#39;</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-491"></a><span class="k">        </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">=</span> <span class="n">WaterCooled</span>
<a name="ln-492"></a>    <span class="n">ELSEIF</span><span class="p">(</span><span class="n">SameString</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span><span class="s1">&#39;AirCooled&#39;</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-493"></a><span class="k">            </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">=</span> <span class="n">AirCooled</span>
<a name="ln-494"></a>    <span class="n">ELSEIF</span><span class="p">(</span><span class="n">SameString</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span><span class="s1">&#39;EvaporativelyCooled&#39;</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-495"></a><span class="k">            </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">=</span> <span class="n">EvapCooled</span>
<a name="ln-496"></a>    <span class="k">ELSE</span>
<a name="ln-497"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;: &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
<a name="ln-498"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">9</span><span class="p">)))</span>
<a name="ln-499"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Valid entries are AirCooled, WaterCooled, or EvaporativelyCooled&#39;</span><span class="p">)</span>
<a name="ln-500"></a>      <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-501"></a>    <span class="k">END IF</span>
<a name="ln-502"></a>
<a name="ln-503"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">AirCooled</span> <span class="p">.</span><span class="nb">or</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-504"></a>        <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">EvapCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-505"></a>      <span class="c">! Connection not required for air or evap cooled condenser</span>
<a name="ln-506"></a>      <span class="c">! If the condenser inlet is blank for air cooled and evap cooled condensers then supply a generic name</span>
<a name="ln-507"></a>      <span class="c">! since it is not used elsewhere for connection</span>
<a name="ln-508"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span><span class="k">THEN</span>
<a name="ln-509"></a><span class="k">        IF</span> <span class="p">(</span><span class="nb">LEN_TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">MaxNameLength</span> <span class="o">-</span> <span class="mi">25</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span> <span class="c">! protect against long name leading to &gt; 100 chars</span>
<a name="ln-510"></a>          <span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">=</span> <span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; INLET NODE FOR CONDENSER&#39;</span>
<a name="ln-511"></a>        <span class="k">ELSE</span>
<a name="ln-512"></a><span class="k">          </span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">=</span> <span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">1</span><span class="p">:</span><span class="mi">75</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; INLET NODE FOR CONDENSER&#39;</span>
<a name="ln-513"></a>        <span class="n">ENDIF</span>
<a name="ln-514"></a>      <span class="k">END IF</span>
<a name="ln-515"></a><span class="k">      IF</span><span class="p">(</span><span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span><span class="k">THEN</span>
<a name="ln-516"></a><span class="k">        IF</span> <span class="p">(</span><span class="nb">LEN_TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">MaxNameLength</span> <span class="o">-</span> <span class="mi">26</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span> <span class="c">! protect against long name leading to &gt; 100 chars</span>
<a name="ln-517"></a>          <span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="o">=</span> <span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; OUTLET NODE FOR CONDENSER&#39;</span>
<a name="ln-518"></a>        <span class="k">ELSE</span>
<a name="ln-519"></a><span class="k">          </span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="o">=</span> <span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">1</span><span class="p">:</span><span class="mi">74</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; OUTLET NODE FOR CONDENSER&#39;</span>
<a name="ln-520"></a>        <span class="n">ENDIF</span>
<a name="ln-521"></a>      <span class="k">END IF</span>
<a name="ln-522"></a>
<a name="ln-523"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>    <span class="o">=</span> <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-524"></a>               <span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">NodeType_Air</span><span class="p">,</span><span class="n">NodeConnectionType_OutsideAirReference</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-525"></a>      <span class="k">CALL </span><span class="n">CheckAndAddAirNodeNumber</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span><span class="p">,</span><span class="n">Okay</span><span class="p">)</span>
<a name="ln-526"></a>      <span class="k">IF</span> <span class="p">(.</span><span class="nb">not</span><span class="p">.</span> <span class="n">Okay</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-527"></a><span class="k">        CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-528"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Adding OutdoorAir:Node=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">)))</span>
<a name="ln-529"></a>      <span class="n">ENDIF</span>
<a name="ln-530"></a>
<a name="ln-531"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>   <span class="o">=</span> <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-532"></a>               <span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">NodeType_Air</span><span class="p">,</span><span class="n">NodeConnectionType_Outlet</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-533"></a>
<a name="ln-534"></a>    <span class="n">ELSEIF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-535"></a>      <span class="c">! Condenser inlet node name is necessary for water-cooled condenser</span>
<a name="ln-536"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>  <span class="p">.</span><span class="nb">or</span><span class="p">.</span> <span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-537"></a><span class="k">        CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-538"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Condenser Inlet or Outlet Node Name is blank.&#39;</span><span class="p">)</span>
<a name="ln-539"></a>        <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-540"></a>      <span class="k">END IF</span>
<a name="ln-541"></a>
<a name="ln-542"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>    <span class="o">=</span> <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-543"></a>               <span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Inlet</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-544"></a>
<a name="ln-545"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>   <span class="o">=</span> <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-546"></a>               <span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Outlet</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-547"></a>
<a name="ln-548"></a>      <span class="k">CALL </span><span class="n">TestCompSet</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="s1">&#39;Condenser Water Nodes&#39;</span><span class="p">)</span>
<a name="ln-549"></a>
<a name="ln-550"></a>    <span class="k">ELSE</span>
<a name="ln-551"></a>      <span class="c">! Condenser inlet node name is necessary (never should reach this part of code)</span>
<a name="ln-552"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="p">.</span><span class="nb">or</span><span class="p">.</span> <span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-553"></a><span class="k">        CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-554"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Condenser Inlet or Outlet Node Name is blank.&#39;</span><span class="p">)</span>
<a name="ln-555"></a>        <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-556"></a>      <span class="k">END IF</span>
<a name="ln-557"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>    <span class="o">=</span> <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-558"></a>               <span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">NodeType_Unknown</span><span class="p">,</span><span class="n">NodeConnectionType_Inlet</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-559"></a>
<a name="ln-560"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>   <span class="o">=</span> <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-561"></a>               <span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">NodeType_Unknown</span><span class="p">,</span><span class="n">NodeConnectionType_Outlet</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-562"></a>
<a name="ln-563"></a>      <span class="k">CALL </span><span class="n">TestCompSet</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="s1">&#39;Condenser (unknown?) Nodes&#39;</span><span class="p">)</span>
<a name="ln-564"></a>
<a name="ln-565"></a>    <span class="k">END IF</span>
<a name="ln-566"></a>
<a name="ln-567"></a><span class="k">    SELECT CASE</span> <span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
<a name="ln-568"></a>    <span class="k">CASE</span> <span class="p">(</span> <span class="s1">&#39;CONSTANTFLOW&#39;</span> <span class="p">)</span>
<a name="ln-569"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">=</span> <span class="n">ConstantFlow</span>
<a name="ln-570"></a>    <span class="k">CASE</span> <span class="p">(</span> <span class="s1">&#39;VARIABLEFLOW&#39;</span> <span class="p">)</span>
<a name="ln-571"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">=</span> <span class="n">LeavingSetpointModulated</span>
<a name="ln-572"></a>      <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;,&#39;</span><span class="p">)</span>
<a name="ln-573"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
<a name="ln-574"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Key choice is now called &quot;LeavingSetpointModulated&quot; and the simulation continues&#39;</span><span class="p">)</span>
<a name="ln-575"></a>    <span class="k">CASE</span> <span class="p">(</span><span class="s1">&#39;LEAVINGSETPOINTMODULATED&#39;</span><span class="p">)</span>
<a name="ln-576"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">=</span> <span class="n">LeavingSetpointModulated</span>
<a name="ln-577"></a>    <span class="k">CASE</span> <span class="p">(</span><span class="s1">&#39;NOTMODULATED&#39;</span><span class="p">)</span>
<a name="ln-578"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">=</span> <span class="n">NotModulated</span>
<a name="ln-579"></a>    <span class="k">CASE </span><span class="n">DEFAULT</span>
<a name="ln-580"></a>      <span class="k">CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;,&#39;</span><span class="p">)</span>
<a name="ln-581"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
<a name="ln-582"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Available choices are ConstantFlow, NotModulated, or LeavingSetpointModulated&#39;</span><span class="p">)</span>
<a name="ln-583"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Flow mode NotModulated is assumed and the simulation continues.&#39;</span><span class="p">)</span>
<a name="ln-584"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">=</span> <span class="n">NotModulated</span>
<a name="ln-585"></a>    <span class="k">END SELECT</span>
<a name="ln-586"></a>
<a name="ln-587"></a><span class="c">!   Chiller rated performance data</span>
<a name="ln-588"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">RefCap</span>                 <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a name="ln-589"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-590"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-591"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="mi">2</span><span class="p">)))</span>
<a name="ln-592"></a>      <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-593"></a>    <span class="k">END IF</span>
<a name="ln-594"></a><span class="k">    </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">RefCOP</span>                 <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<a name="ln-595"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-596"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-597"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">)))</span>
<a name="ln-598"></a>      <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-599"></a>    <span class="k">END IF</span>
<a name="ln-600"></a><span class="k">    </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">TempRefEvapOut</span>         <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a name="ln-601"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span>          <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<a name="ln-602"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span>        <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<a name="ln-603"></a>
<a name="ln-604"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">AirCooled</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-605"></a>        <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">EvapCooled</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! Condenser flow rate not used for these cond types</span>
<a name="ln-606"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span>      <span class="o">=</span> <span class="mf">0.0011d0</span>
<a name="ln-607"></a>    <span class="k">ELSE</span>
<a name="ln-608"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span>      <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<a name="ln-609"></a>    <span class="k">END IF</span>
<a name="ln-610"></a>
<a name="ln-611"></a><span class="k">    </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span>         <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<a name="ln-612"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span>         <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<a name="ln-613"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">OptPartLoadRat</span>         <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<a name="ln-614"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinUnLoadRat</span>           <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<a name="ln-615"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">SizFac</span>                 <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<a name="ln-616"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">SizFac</span> <span class="o">&lt;=</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">SizFac</span> <span class="o">=</span> <span class="mf">1.0d0</span>
<a name="ln-617"></a>
<a name="ln-618"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-619"></a><span class="k">       CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-620"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; [&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;] &gt; &#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-621"></a>                              <span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; [&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;]&#39;</span><span class="p">)</span>
<a name="ln-622"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Minimum part load ratio must be less than or equal to the &#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-623"></a>                            <span class="s1">&#39;maximum part load ratio &#39;</span><span class="p">)</span>
<a name="ln-624"></a>       <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-625"></a>    <span class="k">END IF</span>
<a name="ln-626"></a>
<a name="ln-627"></a><span class="k">    IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinUnLoadRat</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-628"></a>       <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinUnLoadRat</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-629"></a><span class="k">       CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-630"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span> <span class="p">)</span>
<a name="ln-631"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be greater than or equal to the &#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-632"></a>                              <span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">7</span><span class="p">)))</span>
<a name="ln-633"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be less than or equal to the &#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-634"></a>                              <span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">8</span><span class="p">)))</span>
<a name="ln-635"></a>       <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-636"></a>    <span class="k">END IF</span>
<a name="ln-637"></a>
<a name="ln-638"></a><span class="k">    IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">OptPartLoadRat</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-639"></a>       <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">OptPartLoadRat</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-640"></a><span class="k">       CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-641"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span> <span class="p">)</span>
<a name="ln-642"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be greater than or equal to the &#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-643"></a>                              <span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">7</span><span class="p">)))</span>
<a name="ln-644"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be less than or equal to the &#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-645"></a>                              <span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">8</span><span class="p">)))</span>
<a name="ln-646"></a>       <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-647"></a>    <span class="k">END IF</span>
<a name="ln-648"></a>
<a name="ln-649"></a><span class="k">    </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserFanPowerRatio</span> <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<a name="ln-650"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span> <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<a name="ln-651"></a>
<a name="ln-652"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.0d0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-653"></a>       <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">1.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-654"></a><span class="k">       CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-655"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span> <span class="p">)</span>
<a name="ln-656"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be greater than or equal to zero&#39;</span> <span class="p">)</span>
<a name="ln-657"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be less than or equal to one&#39;</span> <span class="p">)</span>
<a name="ln-658"></a>       <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-659"></a>    <span class="k">END IF</span>
<a name="ln-660"></a>
<a name="ln-661"></a><span class="k">    </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">TempLowLimitEvapOut</span>    <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<a name="ln-662"></a>
<a name="ln-663"></a>   <span class="c">! These are the heat recovery inputs</span>
<a name="ln-664"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span> <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span>
<a name="ln-665"></a>    <span class="k">IF</span> <span class="p">((</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span> <span class="o">&gt;</span> <span class="mf">0.0d0</span><span class="p">)</span>  <span class="p">&amp;</span>
<a name="ln-666"></a>        <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span> <span class="o">==</span> <span class="n">Autosize</span><span class="p">)</span> <span class="p">)</span><span class="k">THEN</span>
<a name="ln-667"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-668"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span>   <span class="o">=</span> <span class="p">&amp;</span>
<a name="ln-669"></a>               <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">&amp;</span>
<a name="ln-670"></a>               <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Inlet</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-671"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-672"></a><span class="k">        CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-673"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">11</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">11</span><span class="p">)))</span>
<a name="ln-674"></a>        <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-675"></a>      <span class="k">END IF</span>
<a name="ln-676"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span>   <span class="o">=</span> <span class="p">&amp;</span>
<a name="ln-677"></a>               <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">&amp;</span>
<a name="ln-678"></a>               <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Outlet</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-679"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-680"></a><span class="k">        CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-681"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">12</span><span class="p">)))</span>
<a name="ln-682"></a>        <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-683"></a>      <span class="k">END IF</span>
<a name="ln-684"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-685"></a><span class="k">        CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-686"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Heat Recovery requires a Water Cooled Condenser.&#39;</span><span class="p">)</span>
<a name="ln-687"></a>        <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-688"></a>      <span class="k">END IF</span>
<a name="ln-689"></a>
<a name="ln-690"></a><span class="k">      CALL </span><span class="n">TestCompSet</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span><span class="s1">&#39;Heat Recovery Nodes&#39;</span><span class="p">)</span>
<a name="ln-691"></a>      <span class="c">!store heat recovery volume flow for plant sizing</span>
<a name="ln-692"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span> <span class="o">&gt;</span> <span class="mf">0.d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-693"></a><span class="k">        Call </span><span class="n">RegisterPlantCompDesignFlow</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span><span class="p">,</span> <span class="p">&amp;</span>  <span class="c">!CR 6953</span>
<a name="ln-694"></a>                               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span><span class="p">)</span>
<a name="ln-695"></a>      <span class="n">ENDIF</span>
<a name="ln-696"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">NumNums</span> <span class="o">&gt;</span> <span class="mi">17</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-697"></a><span class="k">        IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">lNumericFieldBlanks</span><span class="p">(</span><span class="mi">18</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-698"></a><span class="k">          </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecCapacityFraction</span> <span class="o">=</span>  <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
<a name="ln-699"></a>        <span class="k">ELSE</span>
<a name="ln-700"></a><span class="k">          </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecCapacityFraction</span> <span class="o">=</span> <span class="mf">1.d0</span>
<a name="ln-701"></a>        <span class="n">ENDIF</span>
<a name="ln-702"></a>      <span class="k">ELSE</span>
<a name="ln-703"></a><span class="k">        </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecCapacityFraction</span> <span class="o">=</span> <span class="mf">1.d0</span>
<a name="ln-704"></a>      <span class="n">ENDIF</span>
<a name="ln-705"></a>
<a name="ln-706"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">NumAlphas</span> <span class="o">&gt;</span> <span class="mi">13</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-707"></a><span class="k">        IF</span> <span class="p">(</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">14</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-708"></a><span class="k">          </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span> <span class="o">=</span> <span class="n">GetScheduleIndex</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">14</span><span class="p">))</span>
<a name="ln-709"></a>          <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-710"></a><span class="k">            CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-711"></a>            <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">14</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">14</span><span class="p">)))</span>
<a name="ln-712"></a>            <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-713"></a>          <span class="n">ENDIF</span>
<a name="ln-714"></a>        <span class="k">ELSE</span>
<a name="ln-715"></a><span class="k">          </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-716"></a>        <span class="n">ENDIF</span>
<a name="ln-717"></a>      <span class="k">ELSE</span>
<a name="ln-718"></a><span class="k">        </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-719"></a>      <span class="n">ENDIF</span>
<a name="ln-720"></a>
<a name="ln-721"></a>      <span class="k">If</span> <span class="p">(</span><span class="n">NumAlphas</span> <span class="o">&gt;</span> <span class="mi">14</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-722"></a><span class="k">        IF</span> <span class="p">(</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-723"></a><span class="k">          </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span> <span class="o">=</span> <span class="p">&amp;</span>
<a name="ln-724"></a>              <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span> <span class="n">ErrorsFound</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">&amp;</span>
<a name="ln-725"></a>                             <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Sensor</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-726"></a>        <span class="k">ELSE</span>
<a name="ln-727"></a><span class="k">          </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-728"></a>        <span class="n">ENDIF</span>
<a name="ln-729"></a>      <span class="k">ELSE</span>
<a name="ln-730"></a><span class="k">        </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-731"></a>      <span class="n">ENDIF</span>
<a name="ln-732"></a>
<a name="ln-733"></a>    <span class="k">ELSE</span>
<a name="ln-734"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="o">=</span><span class="p">.</span><span class="n">False</span><span class="p">.</span>
<a name="ln-735"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecMassFlowRate</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-736"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span>   <span class="o">=</span> <span class="mi">0</span>
<a name="ln-737"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span>   <span class="o">=</span> <span class="mi">0</span>
<a name="ln-738"></a>      <span class="k">IF</span> <span class="p">(.</span><span class="nb">not</span><span class="p">.</span> <span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="p">.</span><span class="nb">or</span><span class="p">.</span> <span class="p">.</span><span class="nb">not</span><span class="p">.</span> <span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-739"></a>    <span class="c">!  IF (cAlphaArgs(11) /= &#39; &#39; .or. cAlphaArgs(12) /= &#39; &#39;) THEN</span>
<a name="ln-740"></a>        <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-741"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Since Reference Heat Reclaim Volume Flow Rate = 0.0, heat recovery is inactive.&#39;</span><span class="p">)</span>
<a name="ln-742"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;However, node names were specified for heat recovery inlet or outlet nodes.&#39;</span><span class="p">)</span>
<a name="ln-743"></a>      <span class="k">END IF</span>
<a name="ln-744"></a><span class="k">    END IF</span>
<a name="ln-745"></a>
<a name="ln-746"></a>
<a name="ln-747"></a><span class="c">!   Check the CAP-FT, EIR-FT, and PLR curves and warn user if different from 1.0 by more than +-10%</span>
<a name="ln-748"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCAPFT</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-749"></a><span class="k">      </span><span class="n">CurveVal</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCAPFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-750"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">TempRefEvapOut</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span><span class="p">)</span>
<a name="ln-751"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">CurveVal</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">1.10d0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">CurveVal</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.90d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-752"></a><span class="k">        CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-753"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Capacity ratio as a function of temperature curve output is not equal to 1.0&#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-754"></a>                              <span class="s1">&#39; (+ or - 10%) at reference conditions.&#39;</span><span class="p">)</span>
<a name="ln-755"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Curve output at reference conditions = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CurveVal</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<a name="ln-756"></a>      <span class="k">END IF</span>
<a name="ln-757"></a><span class="k">    END IF</span>
<a name="ln-758"></a>
<a name="ln-759"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-760"></a><span class="k">      </span><span class="n">CurveVal</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-761"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">TempRefEvapOut</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span><span class="p">)</span>
<a name="ln-762"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">CurveVal</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">1.10d0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">CurveVal</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.90d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-763"></a><span class="k">        CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-764"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Energy input ratio as a function of temperature curve output is not equal to 1.0&#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-765"></a>                              <span class="s1">&#39; (+ or - 10%) at reference conditions.&#39;</span><span class="p">)</span>
<a name="ln-766"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Curve output at reference conditions = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CurveVal</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<a name="ln-767"></a>      <span class="k">END IF</span>
<a name="ln-768"></a><span class="k">    END IF</span>
<a name="ln-769"></a>
<a name="ln-770"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-771"></a><span class="k">      </span><span class="n">CurveVal</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span> <span class="mf">1.0d0</span><span class="p">)</span>
<a name="ln-772"></a>
<a name="ln-773"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">CurveVal</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">1.10d0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">CurveVal</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.90d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-774"></a><span class="k">        CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-775"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Energy input ratio as a function of part-load ratio curve output is not equal to 1.0&#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-776"></a>                              <span class="s1">&#39; (+ or - 10%) at reference conditions.&#39;</span><span class="p">)</span>
<a name="ln-777"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Curve output at reference conditions = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CurveVal</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<a name="ln-778"></a>      <span class="k">END IF</span>
<a name="ln-779"></a><span class="k">    END IF</span>
<a name="ln-780"></a>
<a name="ln-781"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-782"></a><span class="k">      </span><span class="n">FoundNegValue</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-783"></a>      <span class="k">DO </span><span class="n">CurveCheck</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span>
<a name="ln-784"></a>        <span class="n">CurveValTmp</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span> <span class="kt">REAL</span><span class="p">(</span><span class="n">CurveCheck</span><span class="o">/</span><span class="mi">1</span><span class="mf">0.0d0</span><span class="p">,</span><span class="n">r64</span><span class="p">))</span>
<a name="ln-785"></a>        <span class="k">IF</span><span class="p">(</span><span class="n">CurveValTmp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="n">FoundNegValue</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-786"></a>        <span class="n">CurveValArray</span><span class="p">(</span><span class="n">CurveCheck</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="nb">INT</span><span class="p">(</span><span class="n">CurveValTmp</span><span class="o">*</span><span class="mi">10</span><span class="mf">0.0d0</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="mf">0.0d0</span>
<a name="ln-787"></a>      <span class="k">END DO</span>
<a name="ln-788"></a><span class="k">      IF</span><span class="p">(</span><span class="n">FoundNegValue</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-789"></a><span class="k">        CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-790"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Energy input ratio as a function of part-load ratio curve shows negative values.&#39;</span><span class="p">)</span>
<a name="ln-791"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;EIR as a function of PLR curve output at various part-load ratios shown below:&#39;</span><span class="p">)</span>
<a name="ln-792"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;PLR          =    0.00   0.10   0.20   0.30   0.40   0.50   0.60   0.70   0.80   0.90   1.00&#39;</span><span class="p">)</span>
<a name="ln-793"></a>        <span class="k">WRITE</span><span class="p">(</span><span class="n">StringVar</span><span class="p">,</span><span class="mi">530</span><span class="p">)(</span><span class="n">CurveValArray</span><span class="p">(</span><span class="n">CurveValPtr</span><span class="p">),</span> <span class="n">CurveValPtr</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<a name="ln-794"></a><span class="mi">530</span>     <span class="k">FORMAT</span><span class="p">(</span><span class="s1">&#39;Curve Output = &#39;</span><span class="p">,</span><span class="mi">11</span><span class="p">(</span><span class="n">F7</span><span class="p">.</span><span class="mi">2</span><span class="p">))</span>
<a name="ln-795"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">StringVar</span><span class="p">))</span>
<a name="ln-796"></a>        <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-797"></a>      <span class="k">END IF</span>
<a name="ln-798"></a><span class="k">    END IF</span>
<a name="ln-799"></a>    <span class="c">!   Basin heater power as a function of temperature must be greater than or equal to 0</span>
<a name="ln-800"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">BasinHeaterPowerFTempDiff</span> <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<a name="ln-801"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-802"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-803"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be &gt;= 0&#39;</span><span class="p">)</span>
<a name="ln-804"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-805"></a>    <span class="k">END IF</span>
<a name="ln-806"></a>
<a name="ln-807"></a><span class="k">    </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">BasinHeaterSetPointTemp</span> <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<a name="ln-808"></a>
<a name="ln-809"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">BasinHeaterPowerFTempDiff</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-810"></a><span class="k">      IF</span><span class="p">(</span><span class="n">NumNums</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mi">17</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-811"></a><span class="k">        </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">BasinHeaterSetPointTemp</span> <span class="o">=</span> <span class="mf">2.0d0</span>
<a name="ln-812"></a>      <span class="n">ENDIF</span>
<a name="ln-813"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">BasinHeaterSetPointTemp</span> <span class="o">&lt;</span> <span class="mf">2.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-814"></a><span class="k">        CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-815"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">17</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; is less than 2 deg C. Freezing could occur.&#39;</span><span class="p">)</span>
<a name="ln-816"></a>      <span class="k">END IF</span>
<a name="ln-817"></a><span class="k">    END IF</span>
<a name="ln-818"></a>
<a name="ln-819"></a><span class="k">    IF</span><span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">13</span><span class="p">))</span><span class="k">THEN</span>
<a name="ln-820"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">BasinHeaterSchedulePtr</span>   <span class="o">=</span> <span class="n">GetScheduleIndex</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">13</span><span class="p">))</span>
<a name="ln-821"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">BasinHeaterSchedulePtr</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-822"></a><span class="k">        CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-823"></a>        <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">13</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">13</span><span class="p">))</span> <span class="p">&amp;</span>
<a name="ln-824"></a>                       <span class="o">//</span><span class="s1">&#39;&quot; was not found. Basin heater operation will not be modeled and the simulation continues&#39;</span><span class="p">)</span>
<a name="ln-825"></a>      <span class="k">END IF</span>
<a name="ln-826"></a><span class="k">    END IF</span>
<a name="ln-827"></a>
<a name="ln-828"></a><span class="k">  END DO</span>
<a name="ln-829"></a>
<a name="ln-830"></a><span class="k">  IF</span> <span class="p">(</span><span class="n">ErrorsFound</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-831"></a><span class="k">    CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;Errors found in processing input for &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">))</span>
<a name="ln-832"></a>  <span class="k">END IF</span>
<a name="ln-833"></a>
<a name="ln-834"></a><span class="k">  DO </span><span class="n">EIRChillerNum</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">NumElectricEIRChillers</span>
<a name="ln-835"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Part Load Ratio []&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-836"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerPartLoadRatio</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-837"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Cycling Ratio []&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-838"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCyclingRatio</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-839"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Electric Power [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-840"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Power</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-841"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Electric Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-842"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Energy</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-843"></a>                               <span class="n">ResourceTypeKey</span><span class="o">=</span><span class="s1">&#39;ELECTRICITY&#39;</span><span class="p">,</span><span class="n">EndUseKey</span><span class="o">=</span><span class="s1">&#39;Cooling&#39;</span><span class="p">,</span><span class="n">GroupKey</span><span class="o">=</span><span class="s1">&#39;Plant&#39;</span><span class="p">)</span>
<a name="ln-844"></a>
<a name="ln-845"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Evaporator Cooling Rate [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-846"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">QEvap</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-847"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Evaporator Cooling Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-848"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapEnergy</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-849"></a>                               <span class="n">ResourceTypeKey</span><span class="o">=</span><span class="s1">&#39;ENERGYTRANSFER&#39;</span><span class="p">,</span><span class="n">EndUseKey</span><span class="o">=</span><span class="s1">&#39;CHILLERS&#39;</span><span class="p">,</span><span class="n">GroupKey</span><span class="o">=</span><span class="s1">&#39;Plant&#39;</span><span class="p">)</span>
<a name="ln-850"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller False Load Heat Transfer Rate [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-851"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerFalseLoadRate</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-852"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller False Load Heat Transfer Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-853"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerFalseLoad</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-854"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Evaporator Inlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-855"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapInletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-856"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Evaporator Outlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-857"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapOutletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-858"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Evaporator Mass Flow Rate [kg/s]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-859"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Evapmdot</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-860"></a>
<a name="ln-861"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Heat Transfer Rate [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-862"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">QCond</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-863"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Heat Transfer Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-864"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondEnergy</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-865"></a>                               <span class="n">ResourceTypeKey</span><span class="o">=</span><span class="s1">&#39;ENERGYTRANSFER&#39;</span><span class="p">,</span><span class="n">EndUseKey</span><span class="o">=</span><span class="s1">&#39;HEATREJECTION&#39;</span><span class="p">,</span><span class="n">GroupKey</span><span class="o">=</span><span class="s1">&#39;Plant&#39;</span><span class="p">)</span>
<a name="ln-866"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller COP [W/W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-867"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ActualCOP</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-868"></a>
<a name="ln-869"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Capacity Temperature Modifier Multiplier []&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-870"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-871"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller EIR Temperature Modifier Multiplier []&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-872"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-873"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller EIR Part Load Modifier Multiplier []&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-874"></a>          <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-875"></a>
<a name="ln-876"></a>     <span class="c">! Condenser mass flow and outlet temp are valid for water cooled</span>
<a name="ln-877"></a>     <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-878"></a><span class="k">       CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Inlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-879"></a>            <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondInletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-880"></a>       <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Outlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-881"></a>            <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondOutletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-882"></a>       <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Mass Flow Rate [kg/s]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-883"></a>            <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Condmdot</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-884"></a>
<a name="ln-885"></a>       <span class="c">! If heat recovery is active then setup report variables</span>
<a name="ln-886"></a>       <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-887"></a><span class="k">          CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Total Recovered Heat Rate [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-888"></a>            <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">QHeatRecovery</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-889"></a>          <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Total Recovered Heat Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-890"></a>            <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EnergyHeatRecovery</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-891"></a>            <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-892"></a>            <span class="n">ResourceTypeKey</span><span class="o">=</span><span class="s1">&#39;ENERGYTRANSFER&#39;</span><span class="p">,</span><span class="n">EndUseKey</span><span class="o">=</span><span class="s1">&#39;HEATRECOVERY&#39;</span><span class="p">,</span><span class="n">GroupKey</span><span class="o">=</span><span class="s1">&#39;Plant&#39;</span><span class="p">)</span>
<a name="ln-893"></a>          <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Heat Recovery Inlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-894"></a>            <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-895"></a>            <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-896"></a>          <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Heat Recovery Outlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-897"></a>            <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecOutletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-898"></a>            <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-899"></a>          <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Heat Recovery Mass Flow Rate [kg/s]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-900"></a>            <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecMassFlow</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-901"></a>            <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-902"></a>          <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Effective Heat Rejection Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-903"></a>            <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCondAvgTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-904"></a>            <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-905"></a>       <span class="k">END IF</span>
<a name="ln-906"></a>
<a name="ln-907"></a><span class="k">     ELSE</span>
<a name="ln-908"></a><span class="k">       CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Inlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-909"></a>            <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondInletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-910"></a>       <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserFanPowerRatio</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-911"></a><span class="k">          CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Fan Electric Power [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-912"></a>               <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserFanPowerUse</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span> <span class="p">&amp;</span>
<a name="ln-913"></a>               <span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-914"></a>          <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Fan Electric Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-915"></a>               <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserFanEnergyConsumption</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-916"></a>               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-917"></a>               <span class="n">ResourceTypeKey</span><span class="o">=</span><span class="s1">&#39;ELECTRICITY&#39;</span><span class="p">,</span><span class="n">EndUseKey</span><span class="o">=</span><span class="s1">&#39;Cooling&#39;</span><span class="p">,</span><span class="n">GroupKey</span><span class="o">=</span><span class="s1">&#39;Plant&#39;</span><span class="p">)</span>
<a name="ln-918"></a>       <span class="k">END IF</span>
<a name="ln-919"></a><span class="k">       IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">EvapCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-920"></a><span class="k">         IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">BasinHeaterPowerFTempDiff</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-921"></a><span class="k">           CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Basin Heater Electric Power [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-922"></a>                <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">BasinHeaterPower</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-923"></a>           <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Basin Heater Electric Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-924"></a>                <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">BasinHeaterConsumption</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-925"></a>                <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-926"></a>                <span class="n">ResourceTypeKey</span><span class="o">=</span><span class="s1">&#39;Electric&#39;</span><span class="p">,</span><span class="n">EndUseKey</span><span class="o">=</span><span class="s1">&#39;CHILLERS&#39;</span><span class="p">,</span><span class="n">GroupKey</span><span class="o">=</span><span class="s1">&#39;Plant&#39;</span><span class="p">)</span>
<a name="ln-927"></a>         <span class="k">END IF</span>
<a name="ln-928"></a><span class="k">       </span><span class="n">ENDIF</span>
<a name="ln-929"></a>     <span class="k">END IF</span>
<a name="ln-930"></a><span class="k">     IF</span> <span class="p">(</span><span class="n">AnyEnergyManagementSystemInModel</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-931"></a><span class="k">       CALL </span><span class="n">SetupEMSInternalVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Nominal Capacity&#39;</span><span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="s1">&#39;[W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-932"></a>                                     <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">RefCap</span>  <span class="p">)</span>
<a name="ln-933"></a>     <span class="n">ENDIF</span>
<a name="ln-934"></a>
<a name="ln-935"></a>  <span class="k">END DO</span>
<a name="ln-936"></a>
<a name="ln-937"></a><span class="k">  RETURN</span>
<a name="ln-938"></a>
<a name="ln-939"></a><span class="k">END SUBROUTINE </span><span class="n">GetElectricEIRChillerInput</span>
<a name="ln-940"></a>
<a name="ln-941"></a><span class="k">SUBROUTINE </span><span class="n">InitElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">RunFlag</span><span class="p">,</span> <span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-942"></a>
<a name="ln-943"></a>
<a name="ln-944"></a>          <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-945"></a>          <span class="c">!       AUTHOR         Richard Raustad, FSEC</span>
<a name="ln-946"></a>          <span class="c">!       DATE WRITTEN   June 2004</span>
<a name="ln-947"></a>          <span class="c">!       MODIFIED       na</span>
<a name="ln-948"></a>          <span class="c">!       RE-ENGINEERED  na</span>
<a name="ln-949"></a>
<a name="ln-950"></a>          <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-951"></a>          <span class="c">!  This subroutine is for initializations of the Electric EIR Chiller variables</span>
<a name="ln-952"></a>
<a name="ln-953"></a>          <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-954"></a>          <span class="c">!  Uses the status flags to trigger initializations.</span>
<a name="ln-955"></a>
<a name="ln-956"></a>          <span class="c">! REFERENCES:</span>
<a name="ln-957"></a>          <span class="c">!  na</span>
<a name="ln-958"></a>
<a name="ln-959"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-960"></a>  <span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>     <span class="n">ONLY</span> <span class="p">:</span> <span class="n">BeginEnvrnFlag</span><span class="p">,</span> <span class="n">AnyEnergyManagementSystemInModel</span>
<a name="ln-961"></a>  <span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>       <span class="n">ONLY</span> <span class="p">:</span> <span class="n">PlantLoop</span><span class="p">,</span> <span class="n">TypeOf_Chiller_ElectricEIR</span><span class="p">,</span> <span class="n">ScanPlantLoopsForObject</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-962"></a>                              <span class="n">PlantSizesOkayToFinalize</span><span class="p">,</span> <span class="n">PlantSizeNotComplete</span><span class="p">,</span> <span class="n">LoopFlowStatus_NeedyIfLoopOn</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-963"></a>                              <span class="n">SingleSetpoint</span><span class="p">,</span> <span class="n">DualSetpointDeadband</span>
<a name="ln-964"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">InterConnectTwoPlantLoopSides</span><span class="p">,</span> <span class="n">InitComponentNodes</span><span class="p">,</span> <span class="n">SetComponentFlowRate</span>
<a name="ln-965"></a>  <span class="k">USE </span><span class="n">DataEnvironment</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">StdBaroPress</span>
<a name="ln-966"></a>  <span class="k">USE </span><span class="n">EMSManager</span><span class="p">,</span>      <span class="n">ONLY</span> <span class="p">:</span> <span class="n">iTemperatureSetpoint</span><span class="p">,</span> <span class="n">CheckIfNodeSetpointManagedByEMS</span>
<a name="ln-967"></a>  <span class="k">USE </span><span class="n">DataInterfaces</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">ShowFatalError</span><span class="p">,</span> <span class="n">ShowSevereError</span><span class="p">,</span> <span class="n">ShowContinueError</span>
<a name="ln-968"></a>
<a name="ln-969"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-970"></a>
<a name="ln-971"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-972"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span> <span class="p">(</span><span class="n">IN</span><span class="p">)</span> <span class="kd">::</span> <span class="n">EIRChillNum</span>         <span class="c">! Number of the current electric EIR chiller being simulated</span>
<a name="ln-973"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">RunFlag</span>             <span class="c">! TRUE when chiller operating</span>
<a name="ln-974"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span> <span class="kd">::</span> <span class="n">MyLoad</span>              <span class="c">! current load put on chiller</span>
<a name="ln-975"></a>
<a name="ln-976"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-977"></a>          <span class="c">! na</span>
<a name="ln-978"></a>
<a name="ln-979"></a>          <span class="c">! INTERFACE BLOCK SPECIFICATIONS:</span>
<a name="ln-980"></a>          <span class="c">!  na</span>
<a name="ln-981"></a>
<a name="ln-982"></a>          <span class="c">! DERIVED TYPE DEFINITIONS:</span>
<a name="ln-983"></a>          <span class="c">!  na</span>
<a name="ln-984"></a>
<a name="ln-985"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-986"></a>  <span class="kt">LOGICAL</span><span class="p">,</span><span class="k">SAVE</span>                             <span class="kd">::</span> <span class="n">MyOneTimeFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">true</span><span class="p">.</span> <span class="c">! Flag used to execute code only once</span>
<a name="ln-987"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">ALLOCATABLE</span><span class="p">,</span> <span class="k">SAVE</span><span class="p">,</span> <span class="k">DIMENSION</span><span class="p">(:)</span> <span class="kd">::</span> <span class="n">MyFlag</span>                <span class="c">! TRUE in order to set component location</span>
<a name="ln-988"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">ALLOCATABLE</span><span class="p">,</span> <span class="k">SAVE</span><span class="p">,</span> <span class="k">DIMENSION</span><span class="p">(:)</span> <span class="kd">::</span> <span class="n">MyEnvrnFlag</span>           <span class="c">! TRUE when new environment is started</span>
<a name="ln-989"></a>  <span class="kt">INTEGER</span>                                 <span class="kd">::</span> <span class="n">EvapInletNode</span>          <span class="c">! Node number for evaporator water inlet node</span>
<a name="ln-990"></a>  <span class="kt">INTEGER</span>                                 <span class="kd">::</span> <span class="n">EvapOutletNode</span>         <span class="c">! Node number for evaporator water outlet node</span>
<a name="ln-991"></a>  <span class="kt">INTEGER</span>                                 <span class="kd">::</span> <span class="n">CondInletNode</span>          <span class="c">! Node number for condenser water inlet node</span>
<a name="ln-992"></a>  <span class="kt">INTEGER</span>                                 <span class="kd">::</span> <span class="n">CondOutletNode</span>         <span class="c">! Node number for condenser water outlet node</span>
<a name="ln-993"></a>  <span class="kt">INTEGER</span>                                 <span class="kd">::</span> <span class="n">HeatRecInNode</span>          <span class="c">! Node number for heat recovery water inlet node</span>
<a name="ln-994"></a>  <span class="kt">INTEGER</span>                                 <span class="kd">::</span> <span class="n">HeatRecOutNode</span>         <span class="c">! Node number for heat recovery water outlet node</span>
<a name="ln-995"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                               <span class="kd">::</span> <span class="n">rho</span>                    <span class="c">! local fluid density</span>
<a name="ln-996"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                               <span class="kd">::</span> <span class="n">mdot</span>                   <span class="c">! local fluid mass flow rate</span>
<a name="ln-997"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                               <span class="kd">::</span> <span class="n">mdotCond</span>               <span class="c">! local fluid mass flow rate for condenser</span>
<a name="ln-998"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                               <span class="kd">::</span> <span class="n">THeatRecSetpoint</span>       <span class="c">! tests set point node for proper set point value</span>
<a name="ln-999"></a>  <span class="kt">INTEGER</span>                                 <span class="kd">::</span> <span class="n">LoopNum</span>
<a name="ln-1000"></a>  <span class="kt">INTEGER</span>                                 <span class="kd">::</span> <span class="n">LoopSideNum</span>
<a name="ln-1001"></a>  <span class="kt">INTEGER</span>                                 <span class="kd">::</span> <span class="n">BranchIndex</span>
<a name="ln-1002"></a>  <span class="kt">INTEGER</span>                                 <span class="kd">::</span> <span class="n">CompIndex</span>
<a name="ln-1003"></a>  <span class="kt">LOGICAL</span>                                 <span class="kd">::</span> <span class="n">FatalError</span>
<a name="ln-1004"></a>  <span class="kt">LOGICAL</span>                                 <span class="kd">::</span> <span class="n">errFlag</span>
<a name="ln-1005"></a>          <span class="c">! FLOW:</span>
<a name="ln-1006"></a>
<a name="ln-1007"></a>  <span class="c">! Do the one time initializations</span>
<a name="ln-1008"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">MyOneTimeFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1009"></a><span class="k">    ALLOCATE</span><span class="p">(</span><span class="n">MyEnvrnFlag</span><span class="p">(</span><span class="n">NumElectricEIRChillers</span><span class="p">))</span>
<a name="ln-1010"></a>    <span class="k">ALLOCATE</span><span class="p">(</span><span class="n">MyFlag</span><span class="p">(</span><span class="n">NumElectricEIRChillers</span><span class="p">))</span>
<a name="ln-1011"></a>    <span class="n">MyEnvrnFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1012"></a>    <span class="n">MyFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1013"></a>    <span class="n">MyOneTimeFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">false</span><span class="p">.</span>
<a name="ln-1014"></a>  <span class="k">END IF</span>
<a name="ln-1015"></a>
<a name="ln-1016"></a><span class="k">  </span><span class="n">EvapInletNode</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span>
<a name="ln-1017"></a>  <span class="n">EvapOutletNode</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span>
<a name="ln-1018"></a>  <span class="n">CondInletNode</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>
<a name="ln-1019"></a>  <span class="n">CondOutletNode</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>
<a name="ln-1020"></a>
<a name="ln-1021"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1022"></a><span class="k">    </span><span class="n">HeatRecInNode</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span>
<a name="ln-1023"></a>    <span class="n">HeatRecOutNode</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span>
<a name="ln-1024"></a>  <span class="n">ENDIF</span>
<a name="ln-1025"></a>
<a name="ln-1026"></a>  <span class="c">! Init more variables</span>
<a name="ln-1027"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">MyFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-1028"></a>    <span class="c">! Locate the chillers on the plant loops for later usage</span>
<a name="ln-1029"></a>    <span class="n">errFlag</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.</span>
<a name="ln-1030"></a>    <span class="k">CALL </span><span class="n">ScanPlantLoopsForObject</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1031"></a>                             <span class="n">TypeOf_Chiller_ElectricEIR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1032"></a>                             <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1033"></a>                             <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1034"></a>                             <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,&amp;</span>
<a name="ln-1035"></a>                             <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1036"></a>                             <span class="n">LowLimitTemp</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempLowLimitEvapOut</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1037"></a>                             <span class="n">InletNodeNumber</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1038"></a>                             <span class="n">errFlag</span><span class="o">=</span><span class="n">errFlag</span><span class="p">)</span>
<a name="ln-1039"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">/=</span> <span class="n">AirCooled</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-1040"></a>        <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">/=</span> <span class="n">EvapCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1041"></a><span class="k">      CALL </span><span class="n">ScanPlantLoopsForObject</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1042"></a>                               <span class="n">TypeOf_Chiller_ElectricEIR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1043"></a>                               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1044"></a>                               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1045"></a>                               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDBranchNum</span><span class="p">,&amp;</span>
<a name="ln-1046"></a>                               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDCompNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1047"></a>                               <span class="n">InletNodeNumber</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1048"></a>                               <span class="n">errFlag</span><span class="o">=</span><span class="n">errFlag</span><span class="p">)</span>
<a name="ln-1049"></a>      <span class="k">CALL </span><span class="n">InterConnectTwoPlantLoopSides</span><span class="p">(</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>      <span class="p">&amp;</span>
<a name="ln-1050"></a>                                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1051"></a>                                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span>      <span class="p">&amp;</span>
<a name="ln-1052"></a>                                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1053"></a>                                          <span class="n">TypeOf_Chiller_ElectricEIR</span><span class="p">,</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span> <span class="p">)</span>
<a name="ln-1054"></a>    <span class="n">ENDIF</span>
<a name="ln-1055"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1056"></a><span class="k">      CALL </span><span class="n">ScanPlantLoopsForObject</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1057"></a>                               <span class="n">TypeOf_Chiller_ElectricEIR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1058"></a>                               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1059"></a>                               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1060"></a>                               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRBranchNum</span><span class="p">,&amp;</span>
<a name="ln-1061"></a>                               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRCompNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1062"></a>                               <span class="n">InletNodeNumber</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1063"></a>                               <span class="n">errFlag</span><span class="o">=</span><span class="n">errFlag</span><span class="p">)</span>
<a name="ln-1064"></a>      <span class="k">CALL </span><span class="n">InterConnectTwoPlantLoopSides</span><span class="p">(</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>      <span class="p">&amp;</span>
<a name="ln-1065"></a>                                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1066"></a>                                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-1067"></a>                                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1068"></a>                                          <span class="n">TypeOf_Chiller_ElectricEIR</span><span class="p">,</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span> <span class="p">)</span>
<a name="ln-1069"></a>    <span class="n">ENDIF</span>
<a name="ln-1070"></a>
<a name="ln-1071"></a>    <span class="k">IF</span> <span class="p">(</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">/=</span> <span class="n">AirCooled</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-1072"></a>         <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">/=</span> <span class="n">EvapCooled</span>  <span class="p">.</span><span class="nb">AND</span><span class="p">.</span>  <span class="p">&amp;</span>
<a name="ln-1073"></a>         <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span> <span class="p">)</span>  <span class="k">THEN</span>
<a name="ln-1074"></a><span class="k">      CALL </span><span class="n">InterConnectTwoPlantLoopSides</span><span class="p">(</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span>      <span class="p">&amp;</span>
<a name="ln-1075"></a>                                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1076"></a>                                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-1077"></a>                                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1078"></a>                                          <span class="n">TypeOf_Chiller_ElectricEIR</span> <span class="p">,</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.)</span>
<a name="ln-1079"></a>    <span class="n">ENDIF</span>
<a name="ln-1080"></a>
<a name="ln-1081"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">errFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1082"></a><span class="k">      CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;InitElectricEIRChiller: Program terminated due to previous condition(s).&#39;</span><span class="p">)</span>
<a name="ln-1083"></a>    <span class="n">ENDIF</span>
<a name="ln-1084"></a>
<a name="ln-1085"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">ConstantFlow</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1086"></a>      <span class="c">! reset flow priority</span>
<a name="ln-1087"></a>      <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">)%</span> <span class="p">&amp;</span>
<a name="ln-1088"></a>          <span class="n">Branch</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)%</span><span class="n">FlowPriority</span> <span class="p">&amp;</span>
<a name="ln-1089"></a>              <span class="o">=</span> <span class="n">LoopFlowStatus_NeedyIfLoopOn</span>
<a name="ln-1090"></a>    <span class="n">ENDIF</span>
<a name="ln-1091"></a>
<a name="ln-1092"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1093"></a>      <span class="c">! reset flow priority</span>
<a name="ln-1094"></a>      <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">)%</span> <span class="p">&amp;</span>
<a name="ln-1095"></a>          <span class="n">Branch</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)%</span><span class="n">FlowPriority</span> <span class="p">&amp;</span>
<a name="ln-1096"></a>              <span class="o">=</span> <span class="n">LoopFlowStatus_NeedyIfLoopOn</span>
<a name="ln-1097"></a>      <span class="c">! check if setpoint on outlet node</span>
<a name="ln-1098"></a>      <span class="k">IF</span> <span class="p">((</span><span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span> <span class="o">==</span> <span class="n">SensedNodeFlagValue</span><span class="p">)</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-1099"></a>          <span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span> <span class="o">==</span> <span class="n">SensedNodeFlagValue</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1100"></a><span class="k">        IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">AnyEnergyManagementSystemInModel</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1101"></a><span class="k">          IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowErrDone</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1102"></a><span class="k">            CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Missing temperature setpoint for LeavingSetpointModulated mode chiller named &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1103"></a>                                          <span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="p">)</span>
<a name="ln-1104"></a>            <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  A temperature setpoint is needed at the outlet node of a chiller &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1105"></a>                                             <span class="s1">&#39;in variable flow mode, use a SetpointManager&#39;</span><span class="p">)</span>
<a name="ln-1106"></a>            <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  The overall loop setpoint will be assumed for chiller. The simulation continues ... &#39;</span><span class="p">)</span>
<a name="ln-1107"></a>            <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowErrDone</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1108"></a>          <span class="n">ENDIF</span>
<a name="ln-1109"></a>        <span class="k">ELSE</span>
<a name="ln-1110"></a>         <span class="c">! need call to EMS to check node</span>
<a name="ln-1111"></a>          <span class="n">FatalError</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! but not really fatal yet, but should be.</span>
<a name="ln-1112"></a>          <span class="k">CALL </span><span class="n">CheckIfNodeSetpointManagedByEMS</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">,</span><span class="n">iTemperatureSetpoint</span><span class="p">,</span> <span class="n">FatalError</span><span class="p">)</span>
<a name="ln-1113"></a>          <span class="k">IF</span> <span class="p">(</span><span class="n">FatalError</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1114"></a><span class="k">            IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowErrDone</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1115"></a><span class="k">              CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Missing temperature setpoint for LeavingSetpointModulated mode chiller named &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1116"></a>                                          <span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="p">)</span>
<a name="ln-1117"></a>              <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  A temperature setpoint is needed at the outlet node of a chiller evaporator &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1118"></a>                                             <span class="s1">&#39;in variable flow mode&#39;</span><span class="p">)</span>
<a name="ln-1119"></a>              <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  use a Setpoint Manager to establish a setpoint at the chiller evaporator outlet node &#39;</span><span class="p">)</span>
<a name="ln-1120"></a>              <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  or use an EMS actuator to establish a setpoint at the outlet node &#39;</span><span class="p">)</span>
<a name="ln-1121"></a>              <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  The overall loop setpoint will be assumed for chiller. The simulation continues ... &#39;</span><span class="p">)</span>
<a name="ln-1122"></a>              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowErrDone</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1123"></a>            <span class="n">ENDIF</span>
<a name="ln-1124"></a>          <span class="n">ENDIF</span>
<a name="ln-1125"></a>
<a name="ln-1126"></a>
<a name="ln-1127"></a>        <span class="n">ENDIF</span>
<a name="ln-1128"></a>        <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowSetToLoop</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1129"></a>        <span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span> <span class="o">=</span>                        <span class="p">&amp;</span>
<a name="ln-1130"></a>          <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-1131"></a>        <span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span> <span class="o">=</span>                        <span class="p">&amp;</span>
<a name="ln-1132"></a>          <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-1133"></a>      <span class="n">ENDIF</span>
<a name="ln-1134"></a>    <span class="n">ENDIF</span>
<a name="ln-1135"></a>    <span class="n">MyFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span><span class="o">=</span><span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-1136"></a>  <span class="n">ENDIF</span>
<a name="ln-1137"></a>
<a name="ln-1138"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">MyEnvrnFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span> <span class="p">.</span><span class="nb">and</span><span class="p">.</span> <span class="n">BeginEnvrnFlag</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-1139"></a>
<a name="ln-1140"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">PlantSizeNotComplete</span><span class="p">)</span> <span class="k">CALL </span><span class="n">SizeElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span>
<a name="ln-1141"></a>    <span class="n">rho</span> <span class="o">=</span> <span class="n">GetDensityGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1142"></a>                                  <span class="n">InitConvTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1143"></a>                                  <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,&amp;</span>
<a name="ln-1144"></a>                                  <span class="s1">&#39;InitElectricEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-1145"></a>
<a name="ln-1146"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapMassFlowRateMax</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span> <span class="o">*</span> <span class="n">rho</span>
<a name="ln-1147"></a>
<a name="ln-1148"></a>    <span class="k">CALL </span><span class="n">InitComponentNodes</span><span class="p">(</span><span class="mf">0.d0</span><span class="p">,</span>  <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapMassFlowRateMax</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1149"></a>                          <span class="n">EvapInletNode</span><span class="p">,</span>        <span class="p">&amp;</span>
<a name="ln-1150"></a>                          <span class="n">EvapOutletNode</span><span class="p">,</span>       <span class="p">&amp;</span>
<a name="ln-1151"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>               <span class="p">&amp;</span>
<a name="ln-1152"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span>           <span class="p">&amp;</span>
<a name="ln-1153"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span>             <span class="p">&amp;</span>
<a name="ln-1154"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)</span>
<a name="ln-1155"></a>
<a name="ln-1156"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1157"></a>
<a name="ln-1158"></a><span class="k">      </span><span class="n">rho</span> <span class="o">=</span> <span class="n">GetDensityGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1159"></a>                                  <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1160"></a>                                  <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,&amp;</span>
<a name="ln-1161"></a>                                  <span class="s1">&#39;InitElectricEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-1162"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowRateMax</span> <span class="o">=</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span>
<a name="ln-1163"></a>      <span class="k">CALL </span><span class="n">InitComponentNodes</span><span class="p">(</span><span class="mf">0.d0</span><span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowRateMax</span> <span class="p">,&amp;</span>
<a name="ln-1164"></a>                          <span class="n">CondInletNode</span><span class="p">,</span>        <span class="p">&amp;</span>
<a name="ln-1165"></a>                          <span class="n">CondOutletNode</span><span class="p">,</span>       <span class="p">&amp;</span>
<a name="ln-1166"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span>               <span class="p">&amp;</span>
<a name="ln-1167"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span>           <span class="p">&amp;</span>
<a name="ln-1168"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDBranchNum</span><span class="p">,</span>             <span class="p">&amp;</span>
<a name="ln-1169"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDCompNum</span><span class="p">)</span>
<a name="ln-1170"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span>
<a name="ln-1171"></a>    <span class="k">ELSE</span> <span class="c">! air or evap air condenser</span>
<a name="ln-1172"></a>     <span class="c">! Initialize maximum available condenser flow rate</span>
<a name="ln-1173"></a>      <span class="n">rho</span> <span class="o">=</span> <span class="n">PsyRhoAirFnPbTdbW</span><span class="p">(</span><span class="n">StdBaroPress</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span><span class="p">,</span><span class="mf">0.0D0</span><span class="p">,</span><span class="s1">&#39;InitElectricEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-1174"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowRateMax</span> <span class="o">=</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span>
<a name="ln-1175"></a>
<a name="ln-1176"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>          <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowRateMax</span>
<a name="ln-1177"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>         <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-1178"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowRateMaxAvail</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-1179"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowRateMax</span>       <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-1180"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">MassFlowRateMax</span>      <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-1181"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowRateMinAvail</span>  <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1182"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowRateMin</span>       <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1183"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">MassFlowRateMinAvail</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1184"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">MassFlowRateMin</span>      <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1185"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span>
<a name="ln-1186"></a>
<a name="ln-1187"></a>    <span class="n">ENDIF</span>
<a name="ln-1188"></a>
<a name="ln-1189"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1190"></a><span class="k">      </span><span class="n">rho</span> <span class="o">=</span> <span class="n">GetDensityGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1191"></a>                                  <span class="n">InitConvTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1192"></a>                                  <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,&amp;</span>
<a name="ln-1193"></a>                                  <span class="s1">&#39;InitElectricEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-1194"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecMassFlowRate</span> <span class="o">=</span> <span class="n">rho</span> <span class="o">*</span> <span class="p">&amp;</span>
<a name="ln-1195"></a>                                      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span>
<a name="ln-1196"></a>
<a name="ln-1197"></a>      <span class="k">CALL </span><span class="n">InitComponentNodes</span><span class="p">(</span><span class="mf">0.0D0</span><span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecMassFlowRate</span> <span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1198"></a>                         <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span><span class="p">,</span>        <span class="p">&amp;</span>
<a name="ln-1199"></a>                         <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span><span class="p">,</span>       <span class="p">&amp;</span>
<a name="ln-1200"></a>                         <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">,</span>               <span class="p">&amp;</span>
<a name="ln-1201"></a>                         <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span><span class="p">,</span>           <span class="p">&amp;</span>
<a name="ln-1202"></a>                         <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRBranchNum</span><span class="p">,</span>             <span class="p">&amp;</span>
<a name="ln-1203"></a>                         <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRCompNum</span><span class="p">)</span>
<a name="ln-1204"></a>      <span class="c">! overall capacity limit</span>
<a name="ln-1205"></a>      <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecMaxCapacityLimit</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecCapacityFraction</span> <span class="p">&amp;</span>
<a name="ln-1206"></a>                              <span class="o">*</span>  <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span> <span class="o">+</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span> <span class="p">&amp;</span>
<a name="ln-1207"></a>                                                                              <span class="o">/</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCOP</span><span class="p">)</span>
<a name="ln-1208"></a>
<a name="ln-1209"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-1210"></a><span class="k">        SELECT CASE</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">LoopDemandCalcScheme</span><span class="p">)</span>
<a name="ln-1211"></a>          <span class="k">CASE</span> <span class="p">(</span><span class="n">SingleSetPoint</span><span class="p">)</span>
<a name="ln-1212"></a>            <span class="n">THeatRecSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-1213"></a>          <span class="k">CASE</span> <span class="p">(</span><span class="n">DualSetPointDeadBand</span><span class="p">)</span>
<a name="ln-1214"></a>            <span class="n">THeatRecSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-1215"></a>        <span class="k">END SELECT</span>
<a name="ln-1216"></a><span class="k">        IF</span><span class="p">(</span><span class="n">THeatRecSetpoint</span> <span class="o">==</span> <span class="n">SensedNodeFlagValue</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-1217"></a><span class="k">          IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">AnyEnergyManagementSystemInModel</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1218"></a><span class="k">            IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRSPErrDone</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1219"></a><span class="k">              CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Missing heat recovery temperature setpoint for chiller named &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1220"></a>                                          <span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="p">)</span>
<a name="ln-1221"></a>              <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  A temperature setpoint is needed at the heat recovery leaving temperature &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1222"></a>                                             <span class="s1">&#39;setpoint node specified, use a SetpointManager&#39;</span><span class="p">)</span>
<a name="ln-1223"></a>              <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  The overall loop setpoint will be assumed for heat recovery. &#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-1224"></a>                 <span class="s1">&#39;The simulation continues ...&#39;</span><span class="p">)</span>
<a name="ln-1225"></a>              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span> <span class="o">=</span>   <span class="p">&amp;</span>
<a name="ln-1226"></a>                 <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span>
<a name="ln-1227"></a>              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRSPErrDone</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1228"></a>            <span class="n">ENDIF</span>
<a name="ln-1229"></a>          <span class="k">ELSE</span>
<a name="ln-1230"></a>           <span class="c">! need call to EMS to check node</span>
<a name="ln-1231"></a>            <span class="n">FatalError</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! but not really fatal yet, but should be.</span>
<a name="ln-1232"></a>            <span class="k">CALL </span><span class="n">CheckIfNodeSetpointManagedByEMS</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">,</span><span class="n">iTemperatureSetpoint</span><span class="p">,</span> <span class="n">FatalError</span><span class="p">)</span>
<a name="ln-1233"></a>            <span class="k">IF</span> <span class="p">(</span><span class="n">FatalError</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1234"></a><span class="k">              IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRSPErrDone</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1235"></a><span class="k">                CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Missing heat recovery temperature setpoint for chiller named &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1236"></a>                                          <span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="p">)</span>
<a name="ln-1237"></a>                <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  A temperature setpoint is needed at the heat recovery leaving temperature &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1238"></a>                                     <span class="s1">&#39;setpoint node specified, use a SetpointManager to establish a setpoint&#39;</span><span class="p">)</span>
<a name="ln-1239"></a>                <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  or use an EMS actuator to establish a setpoint at this node &#39;</span><span class="p">)</span>
<a name="ln-1240"></a>                <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  The overall loop setpoint will be assumed for heat recovery. &#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-1241"></a>                   <span class="s1">&#39;The simulation continues ...&#39;</span><span class="p">)</span>
<a name="ln-1242"></a>                <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span> <span class="o">=</span>   <span class="p">&amp;</span>
<a name="ln-1243"></a>                   <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span>
<a name="ln-1244"></a>                <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRSPErrDone</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1245"></a>              <span class="n">ENDIF</span>
<a name="ln-1246"></a>            <span class="n">ENDIF</span>
<a name="ln-1247"></a>          <span class="k">END IF</span> <span class="c">! IF (.NOT. AnyEnergyManagementSystemInModel) THEN</span>
<a name="ln-1248"></a>        <span class="k">END IF</span> <span class="c">! IF(THeatRecSetpoint == SensedNodeFlagValue)THEN</span>
<a name="ln-1249"></a>      <span class="k">END IF</span> <span class="c">! IF(ElectricEIRChiller(EIRChillNum)%HeatRecSetpointNodeNum &gt; 0)THEN</span>
<a name="ln-1250"></a>    <span class="n">ENDIF</span> <span class="c">! IF (ElectricEIRChiller(EIRChillNum)%HeatRecActive) THEN</span>
<a name="ln-1251"></a>
<a name="ln-1252"></a>    <span class="n">MyEnvrnFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-1253"></a>  <span class="k">END IF</span>
<a name="ln-1254"></a><span class="k">  IF</span> <span class="p">(.</span><span class="nb">not</span><span class="p">.</span> <span class="n">BeginEnvrnFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1255"></a><span class="k">    </span><span class="n">MyEnvrnFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-1256"></a>  <span class="k">END IF</span>
<a name="ln-1257"></a>
<a name="ln-1258"></a><span class="k">  IF</span> <span class="p">((</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="p">&amp;</span>
<a name="ln-1259"></a>      <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowSetToLoop</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1260"></a>  <span class="c">! fix for clumsy old input that worked because loop setpoint was spread.</span>
<a name="ln-1261"></a>  <span class="c">!  could be removed with transition, testing , model change, period of being obsolete.</span>
<a name="ln-1262"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span> <span class="o">=</span>                        <span class="p">&amp;</span>
<a name="ln-1263"></a>         <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-1264"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span> <span class="o">=</span>                        <span class="p">&amp;</span>
<a name="ln-1265"></a>         <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-1266"></a>  <span class="n">ENDIF</span>
<a name="ln-1267"></a>
<a name="ln-1268"></a>  <span class="k">IF</span> <span class="p">((</span><span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.d0</span><span class="p">)</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">RunFlag</span><span class="p">)</span>  <span class="k">THEN</span>
<a name="ln-1269"></a><span class="k">    </span><span class="n">mdot</span>     <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapMassFlowRateMax</span>
<a name="ln-1270"></a>    <span class="n">mdotCond</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowRateMax</span>
<a name="ln-1271"></a>  <span class="k">ELSE</span>
<a name="ln-1272"></a><span class="k">    </span><span class="n">mdot</span>     <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-1273"></a>    <span class="n">mdotCond</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-1274"></a>  <span class="n">ENDIF</span>
<a name="ln-1275"></a>
<a name="ln-1276"></a>  <span class="k">CALL </span><span class="n">SetComponentFlowRate</span><span class="p">(</span> <span class="n">mdot</span><span class="p">,</span> <span class="n">EvapInletNode</span><span class="p">,</span> <span class="n">EvapOutletNode</span><span class="p">,</span>            <span class="p">&amp;</span>
<a name="ln-1277"></a>                              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-1278"></a>                              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1279"></a>                              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-1280"></a>                              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)</span>
<a name="ln-1281"></a>
<a name="ln-1282"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1283"></a><span class="k">    CALL </span><span class="n">SetComponentFlowRate</span><span class="p">(</span> <span class="n">mdotCond</span><span class="p">,</span> <span class="n">CondInletNode</span><span class="p">,</span> <span class="n">CondOutletNode</span><span class="p">,</span>        <span class="p">&amp;</span>
<a name="ln-1284"></a>                                <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-1285"></a>                                <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1286"></a>                                <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDBranchNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-1287"></a>                                <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDCompNum</span><span class="p">)</span>
<a name="ln-1288"></a>  <span class="n">ENDIF</span>
<a name="ln-1289"></a>  <span class="c">! Initialize heat recovery flow rates at node</span>
<a name="ln-1290"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1291"></a><span class="k">    </span><span class="n">LoopNum</span>      <span class="o">=</span>  <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span>
<a name="ln-1292"></a>    <span class="n">LoopSideNum</span>  <span class="o">=</span>  <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span>
<a name="ln-1293"></a>    <span class="n">BranchIndex</span>  <span class="o">=</span>  <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRBranchNum</span>
<a name="ln-1294"></a>    <span class="n">CompIndex</span>    <span class="o">=</span>  <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRCompNum</span>
<a name="ln-1295"></a>    <span class="k">If</span> <span class="p">(</span><span class="n">RunFlag</span><span class="p">)</span> <span class="k">Then</span>
<a name="ln-1296"></a><span class="k">      </span><span class="n">mdot</span>          <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecMassFlowRate</span>
<a name="ln-1297"></a>    <span class="k">ELSE</span>
<a name="ln-1298"></a><span class="k">      </span><span class="n">mdot</span>          <span class="o">=</span> <span class="mf">0.0D0</span>
<a name="ln-1299"></a>    <span class="n">ENDIF</span>
<a name="ln-1300"></a>
<a name="ln-1301"></a>    <span class="k">CALL </span><span class="n">SetComponentFlowRate</span><span class="p">(</span><span class="n">mdot</span><span class="p">,</span><span class="n">HeatRecInNode</span><span class="p">,</span><span class="n">HeatRecOutNode</span><span class="p">,</span><span class="n">LoopNum</span><span class="p">,</span><span class="n">LoopSideNum</span><span class="p">,</span><span class="n">BranchIndex</span><span class="p">,</span><span class="n">CompIndex</span><span class="p">)</span>
<a name="ln-1302"></a>
<a name="ln-1303"></a>  <span class="k">END IF</span>
<a name="ln-1304"></a>
<a name="ln-1305"></a><span class="k">  IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">EvapCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1306"></a><span class="k">      </span><span class="n">BasinHeaterPower</span>       <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1307"></a>  <span class="n">ENDIF</span>
<a name="ln-1308"></a>  <span class="k">RETURN</span>
<a name="ln-1309"></a>
<a name="ln-1310"></a><span class="k">END SUBROUTINE </span><span class="n">InitElectricEIRChiller</span>
<a name="ln-1311"></a>
<a name="ln-1312"></a><span class="k">SUBROUTINE </span><span class="n">SizeElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span>
<a name="ln-1313"></a>
<a name="ln-1314"></a>          <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-1315"></a>          <span class="c">!       AUTHOR         Richard Raustad, FSEC</span>
<a name="ln-1316"></a>          <span class="c">!       DATE WRITTEN   June 2004</span>
<a name="ln-1317"></a>          <span class="c">!       MODIFIED       na</span>
<a name="ln-1318"></a>          <span class="c">!       RE-ENGINEERED  na</span>
<a name="ln-1319"></a>
<a name="ln-1320"></a>          <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-1321"></a>          <span class="c">!  This subroutine is for sizing Electric EIR Chiller Components for which capacities and flow rates</span>
<a name="ln-1322"></a>          <span class="c">!  have not been specified in the input.</span>
<a name="ln-1323"></a>
<a name="ln-1324"></a>          <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-1325"></a>          <span class="c">!  Obtains evaporator flow rate from the plant sizing array. Calculates reference capacity from</span>
<a name="ln-1326"></a>          <span class="c">!  the evaporator flow rate and the chilled water loop design delta T. The condenser flow rate</span>
<a name="ln-1327"></a>          <span class="c">!  is calculated from the reference capacity, the COP, and the condenser loop design delta T.</span>
<a name="ln-1328"></a>
<a name="ln-1329"></a>          <span class="c">! REFERENCES:</span>
<a name="ln-1330"></a>          <span class="c">!  na</span>
<a name="ln-1331"></a>
<a name="ln-1332"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-1333"></a>  <span class="k">USE </span><span class="n">DataSizing</span>
<a name="ln-1334"></a>  <span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>   <span class="n">ONLY</span><span class="p">:</span> <span class="n">PlantLoop</span><span class="p">,</span> <span class="n">PlantSizesOkayToFinalize</span><span class="p">,</span> <span class="n">TypeOf_Chiller_ElectricEIR</span>
<a name="ln-1335"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span>     <span class="n">ONLY</span><span class="p">:</span> <span class="n">RegisterPlantCompDesignFlow</span>
<a name="ln-1336"></a>  <span class="k">USE </span><span class="n">ReportSizingManager</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">ReportSizingOutput</span>
<a name="ln-1337"></a>  <span class="k">USE </span><span class="n">OutputReportPredefined</span>
<a name="ln-1338"></a>  <span class="k">USE </span><span class="n">StandardRatings</span><span class="p">,</span>   <span class="n">ONLY</span><span class="p">:</span> <span class="n">CalcChillerIPLV</span>
<a name="ln-1339"></a>
<a name="ln-1340"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-1341"></a>
<a name="ln-1342"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-1343"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span> <span class="kd">::</span> <span class="n">EIRChillNum</span>
<a name="ln-1344"></a>
<a name="ln-1345"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-1346"></a>          <span class="c">!  na</span>
<a name="ln-1347"></a>
<a name="ln-1348"></a>          <span class="c">! INTERFACE BLOCK SPECIFICATIONS:</span>
<a name="ln-1349"></a>          <span class="c">!  na</span>
<a name="ln-1350"></a>
<a name="ln-1351"></a>          <span class="c">! DERIVED TYPE DEFINITIONS:</span>
<a name="ln-1352"></a>          <span class="c">!  na</span>
<a name="ln-1353"></a>
<a name="ln-1354"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-1355"></a><span class="c">!unused1208  INTEGER             :: PltSizIndex   ! Plant Sizing Do loop index</span>
<a name="ln-1356"></a>  <span class="kt">INTEGER</span>             <span class="kd">::</span> <span class="n">PltSizNum</span>     <span class="c">! Plant Sizing index corresponding to CurLoopNum</span>
<a name="ln-1357"></a>  <span class="kt">INTEGER</span>             <span class="kd">::</span> <span class="n">PltSizCondNum</span> <span class="c">! Plant Sizing index for condenser loop</span>
<a name="ln-1358"></a>  <span class="kt">LOGICAL</span>             <span class="kd">::</span> <span class="n">ErrorsFound</span>   <span class="c">! If errors detected in input</span>
<a name="ln-1359"></a>  <span class="kt">LOGICAL</span>             <span class="kd">::</span> <span class="n">LoopErrorsFound</span>
<a name="ln-1360"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="n">MaxNameLength</span><span class="p">)</span> <span class="kd">::</span> <span class="n">equipName</span>
<a name="ln-1361"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">rho</span>
<a name="ln-1362"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">Cp</span>
<a name="ln-1363"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">tmpNomCap</span> <span class="c">! local nominal capacity cooling power</span>
<a name="ln-1364"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">tmpEvapVolFlowRate</span> <span class="c">! local evaporator design volume flow rate</span>
<a name="ln-1365"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">tmpCondVolFlowRate</span> <span class="c">! local condenser design volume flow rate</span>
<a name="ln-1366"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">SAVE</span>       <span class="kd">::</span> <span class="n">MyOneTimeFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1367"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">ALLOCATABLE</span><span class="p">,</span> <span class="k">SAVE</span><span class="p">,</span> <span class="k">DIMENSION</span><span class="p">(:)</span> <span class="kd">::</span> <span class="n">MyFlag</span>   <span class="c">! TRUE in order to calculate IPLV</span>
<a name="ln-1368"></a>
<a name="ln-1369"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">MyOneTimeFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1370"></a><span class="k">    ALLOCATE</span><span class="p">(</span><span class="n">MyFlag</span><span class="p">(</span><span class="n">NumElectricEIRChillers</span><span class="p">))</span>
<a name="ln-1371"></a>    <span class="n">MyFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1372"></a>    <span class="n">MyOneTimeFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-1373"></a>  <span class="k">END IF</span>
<a name="ln-1374"></a>
<a name="ln-1375"></a><span class="k">  </span><span class="n">PltSizNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-1376"></a>  <span class="n">PltSizCondNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-1377"></a>  <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-1378"></a>  <span class="n">tmpNomCap</span>          <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span>
<a name="ln-1379"></a>  <span class="n">tmpEvapVolFlowRate</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span>
<a name="ln-1380"></a>  <span class="n">tmpCondVolFlowRate</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span>
<a name="ln-1381"></a>
<a name="ln-1382"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1383"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span> <span class="o">==</span> <span class="n">AutoSize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1384"></a><span class="k">      </span><span class="n">PltSizCondNum</span> <span class="o">=</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">PlantSizNum</span>
<a name="ln-1385"></a>    <span class="k">END IF</span>
<a name="ln-1386"></a><span class="k">  END IF</span>
<a name="ln-1387"></a>
<a name="ln-1388"></a>  <span class="c">! find the appropriate Plant Sizing object</span>
<a name="ln-1389"></a>  <span class="n">PltSizNum</span> <span class="o">=</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">PlantSizNum</span>
<a name="ln-1390"></a>
<a name="ln-1391"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span> <span class="o">==</span> <span class="n">AutoSize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1392"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">PltSizNum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1393"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizNum</span><span class="p">)%</span><span class="n">DesVolFlowRate</span> <span class="o">&gt;=</span> <span class="n">SmallWaterVolFlow</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1394"></a><span class="k">        </span><span class="n">tmpEvapVolFlowRate</span> <span class="o">=</span> <span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizNum</span><span class="p">)%</span><span class="n">DesVolFlowRate</span> <span class="o">*</span>   <span class="p">&amp;</span>
<a name="ln-1395"></a>                                    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">SizFac</span>
<a name="ln-1396"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span> <span class="o">=</span> <span class="n">tmpEvapVolFlowRate</span>
<a name="ln-1397"></a>      <span class="k">ELSE</span>
<a name="ln-1398"></a><span class="k">        </span><span class="n">tmpEvapVolFlowRate</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-1399"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span> <span class="o">=</span> <span class="n">tmpEvapVolFlowRate</span>
<a name="ln-1400"></a>      <span class="k">END IF</span>
<a name="ln-1401"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="k">CALL </span><span class="n">ReportSizingOutput</span><span class="p">(</span><span class="s1">&#39;Chiller:Electric:EIR&#39;</span><span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1402"></a>                              <span class="s1">&#39;Reference Chilled Water Flow Rate [m3/s]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1403"></a>                              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span><span class="p">)</span>
<a name="ln-1404"></a>    <span class="k">ELSE</span>
<a name="ln-1405"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;Autosizing of Electric Chiller evap flow rate requires a loop Sizing:Plant object&#39;</span><span class="p">)</span>
<a name="ln-1406"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Occurs in Electric Chiller object=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">))</span>
<a name="ln-1407"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1408"></a>    <span class="k">END IF</span>
<a name="ln-1409"></a><span class="k">  END IF</span>
<a name="ln-1410"></a>
<a name="ln-1411"></a><span class="k">  CALL </span><span class="n">RegisterPlantCompDesignFlow</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span><span class="p">,</span><span class="n">tmpEvapVolFlowRate</span><span class="p">)</span>
<a name="ln-1412"></a>
<a name="ln-1413"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span>  <span class="o">==</span> <span class="n">AutoSize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1414"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">PltSizNum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1415"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizNum</span><span class="p">)%</span><span class="n">DesVolFlowRate</span> <span class="o">&gt;=</span> <span class="n">SmallWaterVolFlow</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1416"></a><span class="k">        </span><span class="n">Cp</span>  <span class="o">=</span> <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1417"></a>                                 <span class="n">InitConvTemp</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-1418"></a>                                 <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1419"></a>                                 <span class="s1">&#39;SizeElectricEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-1420"></a>
<a name="ln-1421"></a>        <span class="n">rho</span>  <span class="o">=</span> <span class="n">GetDensityGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1422"></a>                                  <span class="n">InitConvTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1423"></a>                                  <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,&amp;</span>
<a name="ln-1424"></a>                                  <span class="s1">&#39;SizeElectricEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-1425"></a>        <span class="n">tmpNomCap</span> <span class="o">=</span>  <span class="n">Cp</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizNum</span><span class="p">)%</span><span class="n">DeltaT</span>  <span class="o">*</span> <span class="n">tmpEvapVolFlowRate</span>
<a name="ln-1426"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span> <span class="o">=</span> <span class="n">tmpNomCap</span>
<a name="ln-1427"></a>      <span class="k">ELSE</span>
<a name="ln-1428"></a><span class="k">        </span><span class="n">tmpNomCap</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-1429"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span> <span class="o">=</span> <span class="n">tmpNomCap</span>
<a name="ln-1430"></a>      <span class="k">END IF</span>
<a name="ln-1431"></a><span class="k">        IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="k">CALL </span><span class="n">ReportSizingOutput</span><span class="p">(</span><span class="s1">&#39;Chiller:Electric:EIR&#39;</span><span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1432"></a>                              <span class="s1">&#39;Reference Capacity [W]&#39;</span><span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="p">)</span>
<a name="ln-1433"></a>    <span class="k">ELSE</span>
<a name="ln-1434"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;Autosizing of Electric Chiller reference capacity requires a loop Sizing:Plant object&#39;</span><span class="p">)</span>
<a name="ln-1435"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Occurs in Electric Chiller object=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">))</span>
<a name="ln-1436"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1437"></a>    <span class="k">END IF</span>
<a name="ln-1438"></a><span class="k">  END IF</span>
<a name="ln-1439"></a>
<a name="ln-1440"></a><span class="k">  IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span> <span class="o">==</span> <span class="n">AutoSize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1441"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">PltSizCondNum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1442"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizNum</span><span class="p">)%</span><span class="n">DesVolFlowRate</span> <span class="o">&gt;=</span> <span class="n">SmallWaterVolFlow</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1443"></a>
<a name="ln-1444"></a><span class="k">        </span><span class="n">rho</span>  <span class="o">=</span> <span class="n">GetDensityGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1445"></a>                                  <span class="n">InitConvTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1446"></a>                                  <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,&amp;</span>
<a name="ln-1447"></a>                                  <span class="s1">&#39;SizeElectricEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-1448"></a>
<a name="ln-1449"></a>        <span class="n">Cp</span>  <span class="o">=</span> <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1450"></a>                                 <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-1451"></a>                                 <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1452"></a>                                 <span class="s1">&#39;SizeElectricEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-1453"></a>        <span class="n">tmpCondVolFlowRate</span> <span class="o">=</span> <span class="n">tmpNomCap</span> <span class="o">*</span> <span class="p">&amp;</span>
<a name="ln-1454"></a>          <span class="p">(</span><span class="mf">1.0d0</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.0d0</span><span class="o">/</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCOP</span><span class="p">)</span> <span class="o">*</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span><span class="p">)</span> <span class="o">/</span> <span class="p">&amp;</span>
<a name="ln-1455"></a>          <span class="p">(</span> <span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizCondNum</span><span class="p">)%</span><span class="n">DeltaT</span> <span class="o">*</span> <span class="n">Cp</span> <span class="o">*</span> <span class="n">rho</span> <span class="p">)</span>
<a name="ln-1456"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span> <span class="o">=</span> <span class="n">tmpCondVolFlowRate</span>
<a name="ln-1457"></a>      <span class="k">ELSE</span>
<a name="ln-1458"></a><span class="k">        </span><span class="n">tmpCondVolFlowRate</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-1459"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span> <span class="o">=</span> <span class="n">tmpCondVolFlowRate</span>
<a name="ln-1460"></a>      <span class="k">END IF</span>
<a name="ln-1461"></a><span class="k">        IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="k">CALL </span><span class="n">ReportSizingOutput</span><span class="p">(</span><span class="s1">&#39;Chiller:Electric:EIR&#39;</span><span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1462"></a>                              <span class="s1">&#39;Reference Condenser Water Flow Rate [m3/s]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1463"></a>                              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span><span class="p">)</span>
<a name="ln-1464"></a>    <span class="k">ELSE</span>
<a name="ln-1465"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;Autosizing of Electric EIR Chiller condenser flow rate requires a condenser&#39;</span><span class="p">)</span>
<a name="ln-1466"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;loop Sizing:Plant object&#39;</span><span class="p">)</span>
<a name="ln-1467"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Occurs in Electric EIR Chiller object=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">))</span>
<a name="ln-1468"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1469"></a>    <span class="k">END IF</span>
<a name="ln-1470"></a><span class="k">  END IF</span>
<a name="ln-1471"></a>
<a name="ln-1472"></a>  <span class="c">! save the reference condenser water volumetric flow rate for use by the condenser water loop sizing algorithms</span>
<a name="ln-1473"></a>  <span class="k">CALL </span><span class="n">RegisterPlantCompDesignFlow</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span><span class="p">,</span><span class="n">tmpCondVolFlowRate</span><span class="p">)</span>
<a name="ln-1474"></a>
<a name="ln-1475"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1476"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">MyFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-1477"></a><span class="k">      CALL </span><span class="n">CalcChillerIPLV</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1478"></a>                           <span class="n">TypeOf_Chiller_ElectricEIR</span><span class="p">,</span>           <span class="p">&amp;</span>
<a name="ln-1479"></a>                           <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1480"></a>                           <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCOP</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1481"></a>                           <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1482"></a>                           <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1483"></a>                           <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1484"></a>                           <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1485"></a>                           <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MinUnLoadRat</span><span class="p">)</span>
<a name="ln-1486"></a>      <span class="n">MyFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-1487"></a>    <span class="n">ENDIF</span>
<a name="ln-1488"></a>    <span class="c">!create predefined report</span>
<a name="ln-1489"></a>    <span class="n">equipName</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span>
<a name="ln-1490"></a>    <span class="k">CALL </span><span class="n">PreDefTableEntry</span><span class="p">(</span><span class="n">pdchMechType</span><span class="p">,</span><span class="n">equipName</span><span class="p">,</span><span class="s1">&#39;Chiller:Electric:EIR&#39;</span><span class="p">)</span>
<a name="ln-1491"></a>    <span class="k">CALL </span><span class="n">PreDefTableEntry</span><span class="p">(</span><span class="n">pdchMechNomEff</span><span class="p">,</span><span class="n">equipName</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCOP</span><span class="p">)</span>
<a name="ln-1492"></a>    <span class="k">CALL </span><span class="n">PreDefTableEntry</span><span class="p">(</span><span class="n">pdchMechNomCap</span><span class="p">,</span><span class="n">equipName</span><span class="p">,</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="p">)</span>
<a name="ln-1493"></a>  <span class="n">ENDIF</span>
<a name="ln-1494"></a>
<a name="ln-1495"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ErrorsFound</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1496"></a><span class="k">    CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;Preceding sizing errors cause program termination&#39;</span><span class="p">)</span>
<a name="ln-1497"></a>  <span class="k">END IF</span>
<a name="ln-1498"></a>
<a name="ln-1499"></a><span class="k">  RETURN</span>
<a name="ln-1500"></a>
<a name="ln-1501"></a><span class="k">END SUBROUTINE </span><span class="n">SizeElectricEIRChiller</span>
<a name="ln-1502"></a>
<a name="ln-1503"></a><span class="k">SUBROUTINE </span><span class="n">CalcElectricEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">)</span>
<a name="ln-1504"></a>          <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-1505"></a>          <span class="c">!       AUTHOR         Richard Raustad, FSEC</span>
<a name="ln-1506"></a>          <span class="c">!       DATE WRITTEN   July 2004</span>
<a name="ln-1507"></a>          <span class="c">!       MODIFIED       Chandan Sharma, FSEC, February 2010, Added basin heater</span>
<a name="ln-1508"></a>          <span class="c">!       RE-ENGINEERED  na</span>
<a name="ln-1509"></a>
<a name="ln-1510"></a>          <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-1511"></a>          <span class="c">!  Simulate a vapor compression chiller using the DOE-2 model</span>
<a name="ln-1512"></a>
<a name="ln-1513"></a>          <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-1514"></a>          <span class="c">!  Use empirical curve fits to model performance at off-reference conditions</span>
<a name="ln-1515"></a>
<a name="ln-1516"></a>          <span class="c">! REFERENCES:</span>
<a name="ln-1517"></a>          <span class="c">! 1. DOE-2 Engineers Manual, Version 2.1A, November 1982, LBL-11353</span>
<a name="ln-1518"></a>
<a name="ln-1519"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-1520"></a>  <span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>     <span class="n">ONLY</span> <span class="p">:</span> <span class="n">WarmupFlag</span><span class="p">,</span> <span class="n">CurrentTime</span>
<a name="ln-1521"></a>  <span class="k">USE </span><span class="n">DataHVACGlobals</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">SmallLoad</span><span class="p">,</span> <span class="n">SysTimeElapsed</span><span class="p">,</span> <span class="n">TimeStepSys</span>
<a name="ln-1522"></a>  <span class="k">USE </span><span class="n">General</span><span class="p">,</span>         <span class="n">ONLY</span> <span class="p">:</span> <span class="n">RoundSigDigits</span><span class="p">,</span> <span class="n">CreateSysTimeIntervalString</span>
<a name="ln-1523"></a>  <span class="k">USE </span><span class="n">CurveManager</span><span class="p">,</span>    <span class="n">ONLY</span> <span class="p">:</span> <span class="n">CurveValue</span>
<a name="ln-1524"></a>  <span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>       <span class="n">ONLY</span> <span class="p">:</span> <span class="n">DeltaTemptol</span><span class="p">,</span> <span class="n">PlantLoop</span><span class="p">,</span> <span class="n">SimPlantEquipTypes</span><span class="p">,</span> <span class="n">TypeOf_Chiller_ElectricEIR</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1525"></a>                              <span class="n">CompSetPtBasedSchemeType</span><span class="p">,</span> <span class="n">CriteriaType_MassFlowRate</span><span class="p">,</span> <span class="n">SingleSetpoint</span><span class="p">,</span> <span class="n">DualSetpointDeadband</span>
<a name="ln-1526"></a>  <span class="k">USE </span><span class="n">DataBranchAirLoopPlant</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">ControlType_SeriesActive</span><span class="p">,</span> <span class="n">MassFlowTolerance</span>
<a name="ln-1527"></a>  <span class="k">USE </span><span class="n">DataEnvironment</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">EnvironmentName</span><span class="p">,</span> <span class="n">CurMnDy</span>
<a name="ln-1528"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">SetComponentFlowRate</span><span class="p">,</span> <span class="n">PullCompInterconnectTrigger</span>
<a name="ln-1529"></a>  <span class="k">USE </span><span class="n">Psychrometrics</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">PsyCpAirFnWTdb</span><span class="p">,</span> <span class="n">PsyWFnTdbTwbPb</span>
<a name="ln-1530"></a>
<a name="ln-1531"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-1532"></a>
<a name="ln-1533"></a>
<a name="ln-1534"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-1535"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">EIRChillNum</span>     <span class="c">! Chiller number</span>
<a name="ln-1536"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">MyLoad</span>          <span class="c">! Operating load</span>
<a name="ln-1537"></a>  <span class="kt">LOGICAL</span>                <span class="kd">::</span> <span class="n">FirstIteration</span>  <span class="c">! TRUE when first iteration of timestep</span>
<a name="ln-1538"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">RunFlag</span>         <span class="c">! TRUE when chiller operating</span>
<a name="ln-1539"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">EquipFlowCtrl</span>   <span class="c">! Flow control mode for the equipment</span>
<a name="ln-1540"></a>
<a name="ln-1541"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-1542"></a>
<a name="ln-1543"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">OutputFormat</span>  <span class="o">=</span><span class="s1">&#39;(F6.2)&#39;</span>
<a name="ln-1544"></a>
<a name="ln-1545"></a>          <span class="c">! INTERFACE BLOCK SPECIFICATIONS</span>
<a name="ln-1546"></a>          <span class="c">!  na</span>
<a name="ln-1547"></a>
<a name="ln-1548"></a>          <span class="c">! DERIVED TYPE DEFINITIONS</span>
<a name="ln-1549"></a>          <span class="c">!  na</span>
<a name="ln-1550"></a>
<a name="ln-1551"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-1552"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">FRAC</span>                  <span class="c">! Chiller cycling ratio</span>
<a name="ln-1553"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">MinPartLoadRat</span>        <span class="c">! Min allowed operating fraction of full load</span>
<a name="ln-1554"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">MinUnloadRat</span>          <span class="c">! Min allowed unloading fraction of full load</span>
<a name="ln-1555"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">MaxPartLoadRat</span>        <span class="c">! Max allowed operating fraction of full load</span>
<a name="ln-1556"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EvapInletTemp</span>         <span class="c">! Evaporator inlet temperature [C]</span>
<a name="ln-1557"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">CondInletTemp</span>         <span class="c">! Condenser inlet temperature [C]</span>
<a name="ln-1558"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EvapOutletTempSetpoint</span> <span class="c">! Evaporator outlet temperature setpoint [C]</span>
<a name="ln-1559"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">AvailChillerCap</span>       <span class="c">! Chiller available capacity at current operating conditions [W]</span>
<a name="ln-1560"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">ChillerRefCap</span>         <span class="c">! Chiller reference capacity</span>
<a name="ln-1561"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EvapDeltaTemp</span>         <span class="c">! Evaporator temperature difference [C]</span>
<a name="ln-1562"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">ReferenceCOP</span>          <span class="c">! Reference coefficient of performance, from user input</span>
<a name="ln-1563"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">PartLoadRat</span>           <span class="c">! Operating part load ratio</span>
<a name="ln-1564"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">TempLowLimitEout</span>      <span class="c">! Evaporator low temp. limit cut off [C]</span>
<a name="ln-1565"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EvapMassFlowRateMax</span>   <span class="c">! Max reference evaporator mass flow rate converted from volume flow rate [kg/s]</span>
<a name="ln-1566"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">EvapInletNode</span>         <span class="c">! Evaporator inlet node number</span>
<a name="ln-1567"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">EvapOutletNode</span>        <span class="c">! Evaporator outlet node number</span>
<a name="ln-1568"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">CondInletNode</span>         <span class="c">! Condenser inlet node number</span>
<a name="ln-1569"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">CondOutletNode</span>        <span class="c">! Condenser outlet node number</span>
<a name="ln-1570"></a><span class="c">!  LOGICAL,SAVE           :: PossibleSubCooling</span>
<a name="ln-1571"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">TempLoad</span>              <span class="c">! Actual load to be met by chiller. This value is compared to MyLoad</span>
<a name="ln-1572"></a>                                                  <span class="c">! and reset when necessary since this chiller can cycle, the load passed</span>
<a name="ln-1573"></a>                                                  <span class="c">! should be the actual load. Instead the minimum PLR * RefCap is</span>
<a name="ln-1574"></a>                                                  <span class="c">! passed in. [W]</span>
<a name="ln-1575"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">PlantLoopNum</span>          <span class="c">! Plant loop which contains the current chiller</span>
<a name="ln-1576"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">LoopSideNum</span>           <span class="c">! Plant loop side which contains the current chiller (usually supply side)</span>
<a name="ln-1577"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">BranchNum</span>
<a name="ln-1578"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">CompNum</span>
<a name="ln-1579"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">SAVE</span>         <span class="kd">::</span> <span class="n">TimeStepSysLast</span><span class="o">=</span><span class="mf">0.0d0</span>     <span class="c">! last system time step (used to check for downshifting)</span>
<a name="ln-1580"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">CurrentEndTime</span>          <span class="c">! end time of time step for current simulation time step</span>
<a name="ln-1581"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">SAVE</span>         <span class="kd">::</span> <span class="n">CurrentEndTimeLast</span><span class="o">=</span><span class="mf">0.0d0</span>  <span class="c">! end time of time step for last simulation time step</span>
<a name="ln-1582"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>       <span class="kd">::</span> <span class="n">OutputChar</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>        <span class="c">! character string for warning messages</span>
<a name="ln-1583"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">Cp</span> <span class="c">!local fluid specific heat</span>
<a name="ln-1584"></a>
<a name="ln-1585"></a><span class="c">! Set module level inlet and outlet nodes and initialize other local variables</span>
<a name="ln-1586"></a>  <span class="n">ChillerPartLoadRatio</span>       <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1587"></a>  <span class="n">ChillerCyclingRatio</span>        <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1588"></a>  <span class="n">ChillerFalseLoadRate</span>       <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1589"></a>  <span class="n">EvapMassFlowRate</span>           <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1590"></a>  <span class="n">CondMassFlowRate</span>           <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1591"></a>  <span class="n">Power</span>                      <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1592"></a>  <span class="n">QCondenser</span>                 <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1593"></a>  <span class="n">QEvaporator</span>                <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1594"></a>  <span class="n">QHeatRecovered</span>             <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1595"></a>  <span class="n">CondenserFanPower</span>          <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1596"></a>  <span class="n">EvapInletNode</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span>
<a name="ln-1597"></a>  <span class="n">EvapOutletNode</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span>
<a name="ln-1598"></a>  <span class="n">CondInletNode</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>
<a name="ln-1599"></a>  <span class="n">CondOutletNode</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>
<a name="ln-1600"></a>  <span class="n">PlantLoopNum</span>   <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span>
<a name="ln-1601"></a>  <span class="n">LoopSideNum</span>    <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span>
<a name="ln-1602"></a>  <span class="n">BranchNum</span>      <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span>
<a name="ln-1603"></a>  <span class="n">CompNum</span>        <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span>
<a name="ln-1604"></a>  <span class="n">EvapInletTemp</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-1605"></a>  <span class="n">FRAC</span>    <span class="o">=</span> <span class="mf">1.0d0</span>
<a name="ln-1606"></a>
<a name="ln-1607"></a><span class="c">! Set performance curve outputs to 0.0 when chiller is off</span>
<a name="ln-1608"></a>  <span class="n">ChillerCapFT</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1609"></a>  <span class="n">ChillerEIRFT</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1610"></a>  <span class="n">ChillerEIRFPLR</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1611"></a>
<a name="ln-1612"></a><span class="c">! calculate end time of current time step</span>
<a name="ln-1613"></a>  <span class="n">CurrentEndTime</span> <span class="o">=</span> <span class="n">CurrentTime</span> <span class="o">+</span> <span class="n">SysTimeElapsed</span>
<a name="ln-1614"></a>
<a name="ln-1615"></a><span class="c">! Print warning messages only when valid and only for the first ocurrance. Let summary provide statistics.</span>
<a name="ln-1616"></a><span class="c">! Wait for next time step to print warnings. If simulation iterates, print out</span>
<a name="ln-1617"></a><span class="c">! the warning for the last iteration only. Must wait for next time step to accomplish this.</span>
<a name="ln-1618"></a><span class="c">! If a warning occurs and the simulation down shifts, the warning is not valid.</span>
<a name="ln-1619"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">CurrentEndTime</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">CurrentEndTimeLast</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">TimeStepSys</span> <span class="p">.</span><span class="n">GE</span><span class="p">.</span> <span class="n">TimeStepSysLast</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-1620"></a><span class="k">    IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PrintMessage</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-1621"></a><span class="k">          </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgErrorCount</span> <span class="o">=</span> <span class="p">&amp;</span>
<a name="ln-1622"></a>                         <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgErrorCount</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-1623"></a><span class="c">!     Show single warning and pass additional info to ShowRecurringWarningErrorAtEnd</span>
<a name="ln-1624"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgErrorCount</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1625"></a><span class="k">         CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgBuffer1</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<a name="ln-1626"></a>         <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgBuffer2</span><span class="p">))</span>
<a name="ln-1627"></a>      <span class="k">ELSE</span>
<a name="ln-1628"></a><span class="k">        CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgBuffer1</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; error continues.&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1629"></a>           <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ErrCount1</span><span class="p">,</span><span class="n">ReportMaxOf</span><span class="o">=</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgDataLast</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1630"></a>           <span class="n">ReportMinOf</span><span class="o">=</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgDataLast</span><span class="p">,</span><span class="n">ReportMaxUnits</span><span class="o">=</span><span class="s1">&#39;[C]&#39;</span><span class="p">,</span><span class="n">ReportMinUnits</span><span class="o">=</span><span class="s1">&#39;[C]&#39;</span><span class="p">)</span>
<a name="ln-1631"></a>      <span class="k">END IF</span>
<a name="ln-1632"></a><span class="k">    END IF</span>
<a name="ln-1633"></a><span class="k">  END IF</span>
<a name="ln-1634"></a>
<a name="ln-1635"></a><span class="c">! save last system time step and last end time of current time step (used to determine if warning is valid)</span>
<a name="ln-1636"></a>  <span class="n">TimeStepSysLast</span>    <span class="o">=</span> <span class="n">TimeStepSys</span>
<a name="ln-1637"></a>  <span class="n">CurrentEndTimeLast</span> <span class="o">=</span> <span class="n">CurrentEndTime</span>
<a name="ln-1638"></a>
<a name="ln-1639"></a>  <span class="c">! If no loop demand or chiller OFF, return</span>
<a name="ln-1640"></a>   <span class="c">!If Chiller load is 0 or chiller is not running then leave the subroutine.Before leaving</span>
<a name="ln-1641"></a>   <span class="c">!if the component control is SERIESACTIVE we set the component flow to inlet flow so that</span>
<a name="ln-1642"></a>   <span class="c">!flow resolver will not shut down the branch</span>
<a name="ln-1643"></a>   <span class="k">IF</span><span class="p">(</span><span class="n">MyLoad</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">RunFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1644"></a><span class="k">    IF</span><span class="p">(</span><span class="n">EquipFlowCtrl</span> <span class="o">==</span> <span class="n">ControlType_SeriesActive</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1645"></a><span class="k">      </span><span class="n">EvapMassFlowRate</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-1646"></a>    <span class="k">END IF</span>
<a name="ln-1647"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1648"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span> <span class="p">&amp;</span>
<a name="ln-1649"></a>            <span class="n">LoopSide</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">)%</span> <span class="p">&amp;</span>
<a name="ln-1650"></a>              <span class="n">Branch</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDBranchNum</span><span class="p">)%</span>  <span class="p">&amp;</span>
<a name="ln-1651"></a>                <span class="n">Comp</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDCompNum</span><span class="p">)%</span><span class="n">FlowCtrl</span> <span class="o">==</span> <span class="n">ControlType_SeriesActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1652"></a><span class="k">        </span><span class="n">CondMassFlowRate</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-1653"></a>      <span class="n">ENDIF</span>
<a name="ln-1654"></a>    <span class="n">ENDIF</span>
<a name="ln-1655"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">EvapCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1656"></a><span class="k">      CALL </span><span class="n">CalcBasinHeaterPower</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">BasinHeaterPowerFTempDiff</span><span class="p">,&amp;</span>
<a name="ln-1657"></a>                                <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">BasinHeaterSchedulePtr</span><span class="p">,&amp;</span>
<a name="ln-1658"></a>                                <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">BasinHeaterSetPointTemp</span><span class="p">,</span><span class="n">BasinHeaterPower</span><span class="p">)</span>
<a name="ln-1659"></a>    <span class="n">ENDIF</span>
<a name="ln-1660"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PrintMessage</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-1661"></a>    <span class="k">RETURN</span>
<a name="ln-1662"></a><span class="k">   END IF</span>
<a name="ln-1663"></a>
<a name="ln-1664"></a><span class="c">! initialize outlet air humidity ratio of air or evap cooled chillers</span>
<a name="ln-1665"></a>  <span class="n">CondOutletHumRat</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">HumRat</span>
<a name="ln-1666"></a>
<a name="ln-1667"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">AirCooled</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! Condenser inlet temp = outdoor temp</span>
<a name="ln-1668"></a><span class="c">!    Node(CondInletNode)%Temp = OutDryBulbTemp</span>
<a name="ln-1669"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">OutAirDryBulb</span>
<a name="ln-1670"></a>
<a name="ln-1671"></a><span class="c">! Warn user if entering condenser dry-bulb temperature falls below 0 C</span>
<a name="ln-1672"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.0d0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">RunFlag</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1673"></a><span class="k">        </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PrintMessage</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1674"></a>        <span class="k">WRITE</span><span class="p">(</span><span class="n">OutputChar</span><span class="p">,</span><span class="n">OutputFormat</span><span class="p">)</span><span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-1675"></a>        <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgBuffer1</span> <span class="o">=</span> <span class="s1">&#39;ElectricEIRChillerModel - CHILLER:ELECTRIC:EIR &quot;&#39;</span> <span class="p">&amp;</span>
<a name="ln-1676"></a>                             <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1677"></a>                             <span class="s1">&#39;&quot; - Air Cooled Condenser Inlet Temperature below 0C&#39;</span>
<a name="ln-1678"></a>        <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgBuffer2</span> <span class="o">=</span> <span class="s1">&#39;... Outdoor Dry-bulb Condition = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">OutputChar</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1679"></a>                   <span class="s1">&#39; C. Occurrence info = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">EnvironmentName</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;, &#39;</span><span class="o">//</span><span class="nb">Trim</span><span class="p">(</span><span class="n">CurMnDy</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; &#39;</span><span class="p">&amp;</span>
<a name="ln-1680"></a>                   <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">CreateSysTimeIntervalString</span><span class="p">())</span>
<a name="ln-1681"></a>        <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgDataLast</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-1682"></a>      <span class="k">ELSE</span>
<a name="ln-1683"></a><span class="k">        </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PrintMessage</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-1684"></a>      <span class="k">END IF</span>
<a name="ln-1685"></a><span class="k">  ELSE IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">EvapCooled</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! Condenser inlet temp = (outdoor wet bulb)</span>
<a name="ln-1686"></a><span class="c">!    Node(CondInletNode)%Temp = OutWetBulbTemp</span>
<a name="ln-1687"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">OutAirWetBulb</span>
<a name="ln-1688"></a><span class="c">!  line above assumes evaporation pushes condenser inlet air humidity ratio to saturation</span>
<a name="ln-1689"></a>    <span class="n">CondOutletHumRat</span> <span class="o">=</span> <span class="n">PsyWFnTdbTwbPb</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span><span class="p">,</span><span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span><span class="p">,</span><span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Press</span><span class="p">)</span>
<a name="ln-1690"></a>
<a name="ln-1691"></a><span class="c">! Warn user if evap condenser wet-bulb temperature falls below 10 C</span>
<a name="ln-1692"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mi">1</span><span class="mf">0.0d0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">RunFlag</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1693"></a><span class="k">        </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PrintMessage</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1694"></a>        <span class="k">WRITE</span><span class="p">(</span><span class="n">OutputChar</span><span class="p">,</span><span class="n">OutputFormat</span><span class="p">)</span><span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-1695"></a>        <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgBuffer1</span> <span class="o">=</span> <span class="s1">&#39;ElectricEIRChillerModel - CHILLER:ELECTRIC:EIR &quot;&#39;</span> <span class="p">&amp;</span>
<a name="ln-1696"></a>                             <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1697"></a>                             <span class="s1">&#39;&quot; - Air Cooled Condenser Inlet Temperature below 10C&#39;</span>
<a name="ln-1698"></a>        <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgBuffer2</span> <span class="o">=</span> <span class="s1">&#39;... Outdoor Wet-bulb Condition = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">OutputChar</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1699"></a>                   <span class="s1">&#39; C. Occurrence info = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">EnvironmentName</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;, &#39;</span><span class="o">//</span><span class="nb">Trim</span><span class="p">(</span><span class="n">CurMnDy</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; &#39;</span><span class="p">&amp;</span>
<a name="ln-1700"></a>                   <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">CreateSysTimeIntervalString</span><span class="p">())</span>
<a name="ln-1701"></a>        <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MsgDataLast</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-1702"></a>      <span class="k">ELSE</span>
<a name="ln-1703"></a><span class="k">        </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PrintMessage</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-1704"></a>      <span class="k">END IF</span>
<a name="ln-1705"></a><span class="k">  END IF</span> <span class="c">! End of the Air Cooled/Evap Cooled Logic block</span>
<a name="ln-1706"></a>
<a name="ln-1707"></a>  <span class="c">! If not air or evap cooled then set to the condenser node that is attached to a cooling tower</span>
<a name="ln-1708"></a>  <span class="n">CondInletTemp</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-1709"></a>
<a name="ln-1710"></a>  <span class="c">! LOAD LOCAL VARIABLES FROM DATA STRUCTURE (for code readability)</span>
<a name="ln-1711"></a>  <span class="n">MinPartLoadRat</span>     <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span>
<a name="ln-1712"></a>  <span class="n">MaxPartLoadRat</span>     <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span>
<a name="ln-1713"></a>  <span class="n">MinUnloadRat</span>       <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MinUnLoadRat</span>
<a name="ln-1714"></a>  <span class="n">ChillerRefCap</span>      <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span>
<a name="ln-1715"></a>  <span class="n">ReferenceCOP</span>       <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCOP</span>
<a name="ln-1716"></a>  <span class="n">EvapOutletTemp</span>     <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-1717"></a>  <span class="n">TempLowLimitEout</span>   <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempLowLimitEvapOut</span>
<a name="ln-1718"></a>  <span class="n">EvapMassFlowRateMax</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapMassFlowRateMax</span>
<a name="ln-1719"></a>
<a name="ln-1720"></a>    <span class="c">! Set mass flow rates</span>
<a name="ln-1721"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1722"></a><span class="k">    </span><span class="n">CondMassFlowRate</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowRateMax</span>
<a name="ln-1723"></a>    <span class="k">CALL </span><span class="n">SetComponentFlowRate</span><span class="p">(</span><span class="n">CondMassFlowRate</span><span class="p">,</span> <span class="n">CondInletNode</span><span class="p">,</span> <span class="n">CondOutletNode</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1724"></a>                              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1725"></a>                              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1726"></a>                              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDBranchNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1727"></a>                              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDCompNum</span><span class="p">)</span>
<a name="ln-1728"></a>    <span class="k">CALL </span><span class="n">PullCompInterconnectTrigger</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1729"></a>                                     <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1730"></a>                                     <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1731"></a>                                     <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1732"></a>                                     <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowIndex</span><span class="p">,</span>              <span class="p">&amp;</span>
<a name="ln-1733"></a>                                     <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1734"></a>                                     <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-1735"></a>                                     <span class="n">CriteriaType_MassFlowRate</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1736"></a>                                     <span class="n">CondMassFlowRate</span><span class="p">)</span>
<a name="ln-1737"></a>
<a name="ln-1738"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">CondMassFlowRate</span> <span class="o">&lt;</span> <span class="n">MassFlowTolerance</span><span class="p">)</span> <span class="k">RETURN</span>
<a name="ln-1739"></a>
<a name="ln-1740"></a><span class="k">  END IF</span>
<a name="ln-1741"></a>
<a name="ln-1742"></a><span class="k">  SELECT CASE</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">LoopDemandCalcScheme</span><span class="p">)</span>
<a name="ln-1743"></a>  <span class="k">CASE</span> <span class="p">(</span><span class="n">SingleSetpoint</span><span class="p">)</span>
<a name="ln-1744"></a>    <span class="k">IF</span> <span class="p">((</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-1745"></a>        <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">Branch</span><span class="p">(</span><span class="n">BranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">CompNum</span><span class="p">)%</span><span class="n">CurOpSchemeType</span> <span class="p">&amp;</span>
<a name="ln-1746"></a>                 <span class="o">==</span> <span class="n">CompSetPtBasedSchemeType</span><span class="p">)</span>          <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-1747"></a>        <span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span> <span class="o">/=</span> <span class="n">SensedNodeFlagValue</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1748"></a>         <span class="c">! there will be a valid setpoint on outlet</span>
<a name="ln-1749"></a>       <span class="n">EvapOutletTempSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-1750"></a>    <span class="k">ELSE</span> <span class="c">! use plant loop overall setpoint</span>
<a name="ln-1751"></a>      <span class="n">EvapOutletTempSetpoint</span><span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-1752"></a>    <span class="n">ENDIF</span>
<a name="ln-1753"></a>  <span class="k">CASE</span> <span class="p">(</span><span class="n">DualSetpointDeadband</span><span class="p">)</span>
<a name="ln-1754"></a>    <span class="k">IF</span> <span class="p">((</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-1755"></a>        <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">Branch</span><span class="p">(</span><span class="n">BranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">CompNum</span><span class="p">)%</span><span class="n">CurOpSchemeType</span> <span class="p">&amp;</span>
<a name="ln-1756"></a>                 <span class="o">==</span> <span class="n">CompSetPtBasedSchemeType</span><span class="p">)</span>          <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-1757"></a>        <span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span> <span class="o">/=</span> <span class="n">SensedNodeFlagValue</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1758"></a>         <span class="c">! there will be a valid setpoint on outlet</span>
<a name="ln-1759"></a>       <span class="n">EvapOutletTempSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-1760"></a>    <span class="k">ELSE</span> <span class="c">! use plant loop overall setpoint</span>
<a name="ln-1761"></a>      <span class="n">EvapOutletTempSetpoint</span><span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-1762"></a>    <span class="n">ENDIF</span>
<a name="ln-1763"></a>  <span class="k">END SELECT</span>
<a name="ln-1764"></a>
<a name="ln-1765"></a>  <span class="c">! correct temperature if using heat recovery</span>
<a name="ln-1766"></a>  <span class="c">! use report values for latest valid calculation, lagged somewhat</span>
<a name="ln-1767"></a>  <span class="k">IF</span> <span class="p">(</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1768"></a><span class="k">    If</span> <span class="p">(</span> <span class="p">(</span><span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QHeatRecovery</span> <span class="p">&amp;</span>
<a name="ln-1769"></a>           <span class="o">+</span>  <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QCond</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.d0</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! protect div by zero</span>
<a name="ln-1770"></a>      <span class="n">AvgCondSinkTemp</span> <span class="o">=</span> <span class="p">(</span><span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QHeatRecovery</span> <span class="p">&amp;</span>
<a name="ln-1771"></a>                            <span class="o">*</span> <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletTemp</span> <span class="p">&amp;</span>
<a name="ln-1772"></a>                          <span class="o">+</span> <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QCond</span>  <span class="p">&amp;</span>
<a name="ln-1773"></a>                            <span class="o">*</span> <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletTemp</span><span class="p">)</span> <span class="p">&amp;</span>
<a name="ln-1774"></a>                          <span class="o">/</span> <span class="p">(</span><span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QHeatRecovery</span>   <span class="p">&amp;</span>
<a name="ln-1775"></a>                                 <span class="o">+</span> <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QCond</span><span class="p">)</span>
<a name="ln-1776"></a>    <span class="k">ELSE</span>
<a name="ln-1777"></a><span class="k">      </span><span class="n">AvgCondSinkTemp</span> <span class="o">=</span> <span class="n">CondInletTemp</span>
<a name="ln-1778"></a>    <span class="n">ENDIF</span>
<a name="ln-1779"></a>  <span class="k">ELSE</span>
<a name="ln-1780"></a><span class="k">    </span><span class="n">AvgCondSinkTemp</span> <span class="o">=</span> <span class="n">CondInletTemp</span>
<a name="ln-1781"></a>  <span class="n">ENDIF</span>
<a name="ln-1782"></a>
<a name="ln-1783"></a>  <span class="c">! Get capacity curve info with respect to CW setpoint and entering condenser water temps</span>
<a name="ln-1784"></a>  <span class="n">ChillerCapFT</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1785"></a>                            <span class="n">EvapOutletTempSetpoint</span><span class="p">,</span><span class="n">AvgCondSinkTemp</span><span class="p">)</span>
<a name="ln-1786"></a>
<a name="ln-1787"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">ChillerCapFT</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-1788"></a><span class="k">    IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mi">1</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-1789"></a>      <span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">&amp;</span>
<a name="ln-1790"></a>      <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-1791"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-1792"></a>      <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:EIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="p">)</span>
<a name="ln-1793"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Chiller Capacity as a Function of Temperature curve output is negative (&#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1794"></a>                               <span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">ChillerCapFT</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;).&#39;</span><span class="p">)</span>
<a name="ln-1795"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Negative value occurs using an Evaporator Outlet Temp of &#39;</span> <span class="p">&amp;</span>
<a name="ln-1796"></a>                              <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">EvapOutletTempSetpoint</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-1797"></a>                             <span class="s1">&#39; and a Condenser Inlet Temp of &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">CondInletTemp</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<a name="ln-1798"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39; Resetting curve output to zero and continuing simulation.&#39;</span><span class="p">)</span>
<a name="ln-1799"></a>    <span class="k">ELSE IF</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">&amp;</span>
<a name="ln-1800"></a>            <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-1801"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-1802"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:EIR &quot;&#39;</span> <span class="p">&amp;</span>
<a name="ln-1803"></a>                                        <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="o">//</span><span class="p">&amp;</span>
<a name="ln-1804"></a>          <span class="s1">&#39; Chiller Capacity as a Function of Temperature curve output is negative warning continues...&#39;</span> <span class="p">&amp;</span>
<a name="ln-1805"></a>          <span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTErrorIndex</span><span class="p">,</span> <span class="n">ChillerCapFT</span><span class="p">,</span> <span class="n">ChillerCapFT</span><span class="p">)</span>
<a name="ln-1806"></a>    <span class="k">END IF</span>
<a name="ln-1807"></a><span class="k">    </span><span class="n">ChillerCapFT</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1808"></a>  <span class="k">END IF</span>
<a name="ln-1809"></a>
<a name="ln-1810"></a>  <span class="c">! Available chiller capacity as a function of temperature</span>
<a name="ln-1811"></a>  <span class="n">AvailChillerCap</span> <span class="o">=</span> <span class="n">ChillerRefCap</span><span class="o">*</span><span class="n">ChillerCapFT</span>
<a name="ln-1812"></a>
<a name="ln-1813"></a> <span class="c">!Only perform this check for temperature setpoint control</span>
<a name="ln-1814"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">Branch</span><span class="p">(</span><span class="n">BranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">CompNum</span><span class="p">)%</span><span class="n">CurOpschemeType</span> <span class="o">==</span>   <span class="p">&amp;</span>
<a name="ln-1815"></a>        <span class="n">CompSetPtBasedSchemeType</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1816"></a>    <span class="c">! Calculate water side load</span>
<a name="ln-1817"></a>
<a name="ln-1818"></a>    <span class="n">Cp</span>  <span class="o">=</span> <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1819"></a>                             <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-1820"></a>                             <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1821"></a>                             <span class="s1">&#39;CalcElectricEIRChillerModel&#39;</span><span class="p">)</span>
<a name="ln-1822"></a>    <span class="n">EvapMassFlowRate</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>
<a name="ln-1823"></a>    <span class="k">SELECT CASE</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">LoopDemandCalcScheme</span><span class="p">)</span>
<a name="ln-1824"></a>    <span class="k">CASE</span> <span class="p">(</span><span class="n">SingleSetpoint</span><span class="p">)</span>
<a name="ln-1825"></a>      <span class="n">TempLoad</span> <span class="o">=</span> <span class="n">EvapMassFlowRate</span> <span class="o">*</span> <span class="n">Cp</span> <span class="o">*</span> <span class="p">&amp;</span>
<a name="ln-1826"></a>                 <span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPoint</span><span class="p">)</span>
<a name="ln-1827"></a>    <span class="k">CASE</span> <span class="p">(</span><span class="n">DualSetpointDeadband</span><span class="p">)</span>
<a name="ln-1828"></a>      <span class="n">TempLoad</span> <span class="o">=</span> <span class="n">EvapMassFlowRate</span> <span class="o">*</span> <span class="n">Cp</span> <span class="o">*</span> <span class="p">&amp;</span>
<a name="ln-1829"></a>                 <span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPointHi</span><span class="p">)</span>
<a name="ln-1830"></a>    <span class="k">END SELECT</span>
<a name="ln-1831"></a><span class="k">    </span><span class="n">TempLoad</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,</span><span class="n">TempLoad</span><span class="p">)</span>
<a name="ln-1832"></a>
<a name="ln-1833"></a>    <span class="c">! MyLoad is capped at minimum PLR * RefCap, adjust load to actual water side load because this chiller can cycle</span>
<a name="ln-1834"></a>    <span class="k">IF</span> <span class="p">(</span><span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">TempLoad</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1835"></a><span class="k">      </span><span class="n">MyLoad</span> <span class="o">=</span> <span class="nb">SIGN</span><span class="p">(</span><span class="n">TempLoad</span><span class="p">,</span> <span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-1836"></a>    <span class="k">END IF</span>
<a name="ln-1837"></a><span class="k">  END IF</span>
<a name="ln-1838"></a>
<a name="ln-1839"></a>  <span class="c">! Part load ratio based on load and available chiller capacity, cap at max part load ratio</span>
<a name="ln-1840"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">AvailChillerCap</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-1841"></a><span class="k">    </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,</span> <span class="nb">MIN</span><span class="p">(</span><span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span><span class="o">/</span><span class="n">AvailChillerCap</span><span class="p">,</span><span class="n">MaxPartLoadRat</span><span class="p">))</span>
<a name="ln-1842"></a>  <span class="k">ELSE</span>
<a name="ln-1843"></a><span class="k">    </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1844"></a>  <span class="k">END IF</span>
<a name="ln-1845"></a>
<a name="ln-1846"></a>
<a name="ln-1847"></a><span class="k">  </span><span class="n">Cp</span>  <span class="o">=</span> <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1848"></a>                              <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-1849"></a>                              <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1850"></a>                             <span class="s1">&#39;CalcElectricEIRChillerModel&#39;</span><span class="p">)</span>
<a name="ln-1851"></a>
<a name="ln-1852"></a>
<a name="ln-1853"></a>   <span class="k">IF</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">Branch</span><span class="p">(</span><span class="n">BranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">CompNum</span><span class="p">)%</span><span class="n">CurOpSchemeType</span> <span class="o">==</span>   <span class="p">&amp;</span>
<a name="ln-1854"></a>        <span class="n">CompSetPtBasedSchemeType</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-1855"></a><span class="k">     </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PossibleSubCooling</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-1856"></a>   <span class="k">ELSE</span>
<a name="ln-1857"></a><span class="k">     </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PossibleSubCooling</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1858"></a>   <span class="n">ENDIF</span>
<a name="ln-1859"></a>   <span class="c">! Set evaporator heat transfer rate</span>
<a name="ln-1860"></a>   <span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">AvailChillerCap</span> <span class="o">*</span> <span class="n">PartLoadRat</span>
<a name="ln-1861"></a>
<a name="ln-1862"></a>   <span class="c">! Either set the flow to the Constant value or caluclate the flow for the variable volume</span>
<a name="ln-1863"></a>   <span class="k">IF</span> <span class="p">((</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">ConstantFlow</span><span class="p">)</span>   <span class="p">&amp;</span>
<a name="ln-1864"></a>      <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">NotModulated</span> <span class="p">))</span> <span class="k">THEN</span>
<a name="ln-1865"></a>      <span class="c">! Set the evaporator mass flow rate to design</span>
<a name="ln-1866"></a>      <span class="c">! Start by assuming max (design) flow</span>
<a name="ln-1867"></a>      <span class="n">EvapMassFlowRate</span> <span class="o">=</span> <span class="n">EvapMassFlowRateMax</span>
<a name="ln-1868"></a>      <span class="c">! Use SetComponentFlowRate to decide actual flow</span>
<a name="ln-1869"></a>      <span class="k">Call </span><span class="n">SetComponentFlowRate</span><span class="p">(</span> <span class="n">EvapMassFlowRate</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1870"></a>                          <span class="n">EvapInletNode</span> <span class="p">,</span> <span class="n">EvapOutletNode</span>  <span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1871"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-1872"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1873"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-1874"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)</span>
<a name="ln-1875"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">EvapMassFlowRate</span> <span class="o">/=</span> <span class="mf">0.0D0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1876"></a><span class="k">        </span><span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">QEvaporator</span><span class="o">/</span><span class="n">EvapMassFlowRate</span><span class="o">/</span><span class="n">Cp</span>
<a name="ln-1877"></a>      <span class="k">ELSE</span>
<a name="ln-1878"></a><span class="k">        </span><span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="mf">0.0D0</span>
<a name="ln-1879"></a>      <span class="n">ENDIF</span>
<a name="ln-1880"></a>      <span class="c">! Evaluate outlet temp based on delta</span>
<a name="ln-1881"></a>      <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapDeltaTemp</span>
<a name="ln-1882"></a>
<a name="ln-1883"></a>   <span class="n">ELSEIF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1884"></a>
<a name="ln-1885"></a>      <span class="c">! Calculate the Delta Temp from the inlet temp to the chiller outlet setpoint</span>
<a name="ln-1886"></a>      <span class="k">SELECT CASE</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">LoopDemandCalcScheme</span><span class="p">)</span>
<a name="ln-1887"></a>      <span class="k">CASE</span> <span class="p">(</span><span class="n">SingleSetpoint</span><span class="p">)</span>
<a name="ln-1888"></a>        <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-1889"></a>      <span class="k">CASE</span> <span class="p">(</span><span class="n">DualSetpointDeadband</span><span class="p">)</span>
<a name="ln-1890"></a>        <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-1891"></a>      <span class="k">END SELECT</span>
<a name="ln-1892"></a>
<a name="ln-1893"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">EvapDeltaTemp</span> <span class="o">/=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1894"></a>        <span class="c">! Calculate desired flow to request based on load</span>
<a name="ln-1895"></a>        <span class="n">EvapMassFlowRate</span> <span class="o">=</span> <span class="nb">ABS</span><span class="p">(</span><span class="n">QEvaporator</span><span class="o">/</span><span class="n">Cp</span><span class="o">/</span><span class="n">EvapDeltaTemp</span><span class="p">)</span>
<a name="ln-1896"></a>        <span class="k">IF</span><span class="p">((</span><span class="n">EvapMassFlowRate</span> <span class="o">-</span> <span class="n">EvapMassFlowRateMax</span><span class="p">)</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">MassFlowTolerance</span><span class="p">)</span> <span class="p">&amp;</span>
<a name="ln-1897"></a>              <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PossibleSubCooling</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-1898"></a>        <span class="c">!Check to see if the Maximum is exceeded, if so set to maximum</span>
<a name="ln-1899"></a>        <span class="n">EvapMassFlowRate</span> <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="n">EvapMassFlowRateMax</span><span class="p">,</span> <span class="n">EvapMassFlowRate</span><span class="p">)</span>
<a name="ln-1900"></a>        <span class="c">! Use SetComponentFlowRate to decide actual flow</span>
<a name="ln-1901"></a>        <span class="k">Call </span><span class="n">SetComponentFlowRate</span><span class="p">(</span> <span class="n">EvapMassFlowRate</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1902"></a>                          <span class="n">EvapInletNode</span> <span class="p">,</span> <span class="n">EvapOutletNode</span>  <span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1903"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-1904"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1905"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-1906"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)</span>
<a name="ln-1907"></a>        <span class="c">! Should we recalculate this with the corrected setpoint?</span>
<a name="ln-1908"></a>        <span class="k">SELECT CASE</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">LoopDemandCalcScheme</span><span class="p">)</span>
<a name="ln-1909"></a>        <span class="k">CASE</span> <span class="p">(</span><span class="n">SingleSetpoint</span><span class="p">)</span>
<a name="ln-1910"></a>          <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-1911"></a>        <span class="k">CASE</span> <span class="p">(</span><span class="n">DualSetpointDeadband</span><span class="p">)</span>
<a name="ln-1912"></a>          <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-1913"></a>        <span class="k">END SELECT</span>
<a name="ln-1914"></a><span class="k">        </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,(</span><span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span><span class="p">))</span>
<a name="ln-1915"></a>      <span class="k">ELSE</span>
<a name="ln-1916"></a>        <span class="c">! Try to request zero flow</span>
<a name="ln-1917"></a>        <span class="n">EvapMassFlowRate</span><span class="o">=</span><span class="mf">0.0d0</span>
<a name="ln-1918"></a>        <span class="c">! Use SetComponentFlowRate to decide actual flow</span>
<a name="ln-1919"></a>        <span class="k">Call </span><span class="n">SetComponentFlowRate</span><span class="p">(</span> <span class="n">EvapMassFlowRate</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-1920"></a>                          <span class="n">EvapInletNode</span> <span class="p">,</span> <span class="n">EvapOutletNode</span>  <span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1921"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-1922"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-1923"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-1924"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)</span>
<a name="ln-1925"></a>        <span class="c">! No deltaT since component is not running</span>
<a name="ln-1926"></a>        <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-1927"></a>        <span class="n">QEvaporator</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1928"></a>        <span class="n">PartLoadRat</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1929"></a>        <span class="n">ChillerPartLoadRatio</span> <span class="o">=</span> <span class="n">PartLoadRat</span>
<a name="ln-1930"></a>
<a name="ln-1931"></a>        <span class="c">! DSU? so what if the delta T is zero?  On FlowLock==0, the inlet temp could = setpoint, right?</span>
<a name="ln-1932"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DeltaTErrCount</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1933"></a><span class="k">          </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DeltaTErrCount</span><span class="o">=</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DeltaTErrCount</span><span class="o">+</span><span class="mi">1</span>
<a name="ln-1934"></a>          <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Evaporator DeltaTemp = 0 in mass flow calculation (Tevapin = Tsetpoint).&#39;</span><span class="p">)</span>
<a name="ln-1935"></a>          <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<a name="ln-1936"></a>        <span class="k">ELSE IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1937"></a><span class="k">          </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-1938"></a>          <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:EIR &quot;&#39;</span> <span class="p">&amp;</span>
<a name="ln-1939"></a>                                    <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="o">//</span><span class="p">&amp;</span>
<a name="ln-1940"></a>              <span class="s1">&#39; Evaporator DeltaTemp = 0 in mass flow calculation warning continues...&#39;</span> <span class="p">&amp;</span>
<a name="ln-1941"></a>              <span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DeltaTErrCountIndex</span><span class="p">,</span> <span class="n">EvapDeltaTemp</span><span class="p">,</span> <span class="n">EvapDeltaTemp</span><span class="p">)</span>
<a name="ln-1942"></a>        <span class="k">END IF</span>
<a name="ln-1943"></a>
<a name="ln-1944"></a><span class="k">      END IF</span>
<a name="ln-1945"></a><span class="k">   END IF</span>  <span class="c">!End of Constant Variable Flow If Block</span>
<a name="ln-1946"></a>
<a name="ln-1947"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">EvapMassFlowRate</span> <span class="o">==</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-1948"></a><span class="k">    </span><span class="n">MyLoad</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1949"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">EvapCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1950"></a><span class="k">      CALL </span><span class="n">CalcBasinHeaterPower</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">BasinHeaterPowerFTempDiff</span><span class="p">,&amp;</span>
<a name="ln-1951"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">BasinHeaterSchedulePtr</span><span class="p">,&amp;</span>
<a name="ln-1952"></a>                          <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">BasinHeaterSetPointTemp</span><span class="p">,</span><span class="n">BasinHeaterPower</span><span class="p">)</span>
<a name="ln-1953"></a>    <span class="n">ENDIF</span>
<a name="ln-1954"></a>    <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PrintMessage</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-1955"></a>    <span class="k">RETURN</span>
<a name="ln-1956"></a><span class="k">  END IF</span>
<a name="ln-1957"></a><span class="k">  IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PossibleSubCooling</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1958"></a><span class="k">    </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-1959"></a>    <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">QEvaporator</span><span class="o">/</span><span class="n">EvapMassFlowRate</span><span class="o">/</span><span class="n">Cp</span>
<a name="ln-1960"></a>    <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapDeltaTemp</span>
<a name="ln-1961"></a>  <span class="k">ELSE</span>
<a name="ln-1962"></a><span class="k">    </span><span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapOutletTempSetpoint</span>
<a name="ln-1963"></a>    <span class="n">QEvaporator</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,(</span><span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span><span class="p">))</span>
<a name="ln-1964"></a>    <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">EvapOutletTempSetpoint</span>
<a name="ln-1965"></a>  <span class="k">END IF</span>
<a name="ln-1966"></a> <span class="c">!Check that the Evap outlet temp honors both plant loop temp low limit and also the chiller low limit</span>
<a name="ln-1967"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">EvapOutletTemp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">TempLowLimitEout</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1968"></a><span class="k">    IF</span><span class="p">((</span><span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">TempLowLimitEout</span><span class="p">)</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">DeltaTemptol</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1969"></a><span class="k">      </span><span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">TempLowLimitEout</span>
<a name="ln-1970"></a>      <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapOutletTemp</span>
<a name="ln-1971"></a>      <span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span>
<a name="ln-1972"></a>    <span class="k">ELSE</span>
<a name="ln-1973"></a><span class="k">      </span><span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-1974"></a>      <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapOutletTemp</span>
<a name="ln-1975"></a>      <span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span>
<a name="ln-1976"></a>    <span class="k">END IF</span>
<a name="ln-1977"></a><span class="k">  END IF</span>
<a name="ln-1978"></a><span class="k">  IF</span><span class="p">(</span><span class="n">EvapOutletTemp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempMin</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1979"></a><span class="k">    IF</span><span class="p">((</span><span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempMin</span><span class="p">)</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">DeltaTemptol</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1980"></a><span class="k">      </span><span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempMin</span>
<a name="ln-1981"></a>      <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapOutletTemp</span>
<a name="ln-1982"></a>      <span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span>
<a name="ln-1983"></a>    <span class="k">ELSE</span>
<a name="ln-1984"></a><span class="k">      </span><span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-1985"></a>      <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapOutletTemp</span>
<a name="ln-1986"></a>      <span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span>
<a name="ln-1987"></a>    <span class="k">END IF</span>
<a name="ln-1988"></a><span class="k">  END IF</span>
<a name="ln-1989"></a>  <span class="c">! If load exceeds the distributed load set to the distributed load</span>
<a name="ln-1990"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">QEvaporator</span> <span class="o">&gt;</span> <span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-1991"></a><span class="k">    IF</span><span class="p">(</span><span class="n">EvapMassFlowRate</span> <span class="o">&gt;</span> <span class="n">MassFlowTolerance</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-1992"></a><span class="k">      </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-1993"></a>      <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">QEvaporator</span><span class="o">/</span><span class="n">EvapMassFlowRate</span><span class="o">/</span><span class="n">Cp</span>
<a name="ln-1994"></a>      <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapDeltaTemp</span>
<a name="ln-1995"></a>    <span class="k">ELSE</span>
<a name="ln-1996"></a><span class="k">      </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-1997"></a>      <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-1998"></a>    <span class="k">END IF</span>
<a name="ln-1999"></a><span class="k">  END IF</span>
<a name="ln-2000"></a>
<a name="ln-2001"></a>  <span class="c">! Checks QEvaporator on the basis of the machine limits.</span>
<a name="ln-2002"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">QEvaporator</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">AvailChillerCap</span> <span class="o">*</span> <span class="n">MaxPartLoadRat</span><span class="p">))</span><span class="k">THEN</span>
<a name="ln-2003"></a><span class="k">    IF</span><span class="p">(</span><span class="n">EvapMassFlowRate</span> <span class="o">&gt;</span> <span class="n">MassFlowTolerance</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2004"></a><span class="k">      </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">AvailChillerCap</span> <span class="o">*</span> <span class="n">MaxPartLoadRat</span>
<a name="ln-2005"></a>      <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">QEvaporator</span><span class="o">/</span><span class="n">EvapMassFlowRate</span><span class="o">/</span><span class="n">Cp</span>
<a name="ln-2006"></a>       <span class="c">! evaporator outlet temperature is allowed to float upwards (recalculate AvailChillerCap? iterate?)</span>
<a name="ln-2007"></a>      <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapDeltaTemp</span>
<a name="ln-2008"></a>    <span class="k">ELSE</span>
<a name="ln-2009"></a><span class="k">      </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2010"></a>      <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2011"></a>    <span class="k">END IF</span>
<a name="ln-2012"></a>
<a name="ln-2013"></a><span class="k">  END IF</span>
<a name="ln-2014"></a>
<a name="ln-2015"></a><span class="k">  IF</span><span class="p">(</span><span class="n">AvailChillerCap</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-2016"></a><span class="k">    </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,</span><span class="nb">MIN</span><span class="p">((</span><span class="n">QEvaporator</span><span class="o">/</span><span class="n">AvailChillerCap</span><span class="p">),</span><span class="n">MaxPartLoadRat</span><span class="p">))</span>
<a name="ln-2017"></a>  <span class="k">ELSE</span>
<a name="ln-2018"></a><span class="k">    </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2019"></a>  <span class="k">END IF</span>
<a name="ln-2020"></a>
<a name="ln-2021"></a>  <span class="c">! Chiller cycles below minimum part load ratio, FRAC = amount of time chiller is ON during this time step</span>
<a name="ln-2022"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">PartLoadRat</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">MinPartLoadRat</span><span class="p">)</span> <span class="n">FRAC</span> <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="mf">1.0d0</span><span class="p">,(</span><span class="n">PartLoadRat</span><span class="o">/</span><span class="n">MinPartLoadRat</span><span class="p">))</span>
<a name="ln-2023"></a>
<a name="ln-2024"></a>  <span class="c">! set the module level variable used for reporting FRAC</span>
<a name="ln-2025"></a>  <span class="n">ChillerCyclingRatio</span> <span class="o">=</span> <span class="n">FRAC</span>
<a name="ln-2026"></a>
<a name="ln-2027"></a>  <span class="c">! Chiller is false loading below PLR = minimum unloading ratio, find PLR used for energy calculation</span>
<a name="ln-2028"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">AvailChillerCap</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-2029"></a><span class="k">    </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="n">PartLoadRat</span><span class="p">,</span><span class="n">MinUnLoadRat</span><span class="p">)</span>
<a name="ln-2030"></a>  <span class="k">ELSE</span>
<a name="ln-2031"></a><span class="k">    </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2032"></a>  <span class="k">END IF</span>
<a name="ln-2033"></a>
<a name="ln-2034"></a>   <span class="c">! set the module level variable used for reporting PLR</span>
<a name="ln-2035"></a>  <span class="n">ChillerPartLoadRatio</span> <span class="o">=</span> <span class="n">PartLoadRat</span>
<a name="ln-2036"></a>
<a name="ln-2037"></a>  <span class="c">! calculate the load due to false loading on chiller over and above water side load</span>
<a name="ln-2038"></a>  <span class="n">ChillerFalseLoadRate</span> <span class="o">=</span> <span class="p">(</span><span class="n">AvailChillerCap</span> <span class="o">*</span> <span class="n">PartLoadRat</span> <span class="o">*</span> <span class="n">FRAC</span><span class="p">)</span> <span class="o">-</span> <span class="n">QEvaporator</span>
<a name="ln-2039"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">ChillerFalseLoadRate</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">SmallLoad</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2040"></a><span class="k">    </span><span class="n">ChillerFalseLoadRate</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2041"></a>  <span class="k">END IF</span>
<a name="ln-2042"></a><span class="k">  IF</span><span class="p">(</span><span class="n">QEvaporator</span> <span class="o">==</span> <span class="mf">0.0d0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">EvapCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2043"></a><span class="k">    CALL </span><span class="n">CalcBasinHeaterPower</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">BasinHeaterPowerFTempDiff</span><span class="p">,&amp;</span>
<a name="ln-2044"></a>                               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">BasinHeaterSchedulePtr</span><span class="p">,&amp;</span>
<a name="ln-2045"></a>                               <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">BasinHeaterSetPointTemp</span><span class="p">,</span><span class="n">BasinHeaterPower</span><span class="p">)</span>
<a name="ln-2046"></a>  <span class="k">END IF</span>
<a name="ln-2047"></a>
<a name="ln-2048"></a><span class="k">  </span><span class="n">ChillerEIRFT</span>   <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span><span class="p">,</span><span class="n">EvapOutletTemp</span><span class="p">,</span><span class="n">AvgCondSinkTemp</span><span class="p">)</span>
<a name="ln-2049"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">ChillerEIRFT</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-2050"></a><span class="k">    IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTError</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mi">1</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">&amp;</span>
<a name="ln-2051"></a>     <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-2052"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTError</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-2053"></a>      <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:EIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="p">)</span>
<a name="ln-2054"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Chiller EIR as a Function of Temperature curve output is negative (&#39;</span> <span class="p">&amp;</span>
<a name="ln-2055"></a>                           <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">ChillerEIRFT</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;).&#39;</span><span class="p">)</span>
<a name="ln-2056"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Negative value occurs using an Evaporator Outlet Temp of &#39;</span> <span class="p">&amp;</span>
<a name="ln-2057"></a>                            <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">EvapOutletTemp</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-2058"></a>                           <span class="s1">&#39; and a Condenser Inlet Temp of &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">CondInletTemp</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<a name="ln-2059"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39; Resetting curve output to zero and continuing simulation.&#39;</span><span class="p">)</span>
<a name="ln-2060"></a>    <span class="k">ELSE IF</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">&amp;</span>
<a name="ln-2061"></a>     <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-2062"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTError</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-2063"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:EIR &quot;&#39;</span> <span class="p">&amp;</span>
<a name="ln-2064"></a>                                        <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="o">//</span><span class="p">&amp;</span>
<a name="ln-2065"></a>          <span class="s1">&#39; Chiller EIR as a Function of Temperature curve output is negative warning continues...&#39;</span> <span class="p">&amp;</span>
<a name="ln-2066"></a>          <span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTErrorIndex</span><span class="p">,</span> <span class="n">ChillerEIRFT</span><span class="p">,</span> <span class="n">ChillerEIRFT</span><span class="p">)</span>
<a name="ln-2067"></a>    <span class="k">END IF</span>
<a name="ln-2068"></a><span class="k">    </span><span class="n">ChillerEIRFT</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2069"></a>  <span class="k">END IF</span>
<a name="ln-2070"></a>
<a name="ln-2071"></a><span class="k">  </span><span class="n">ChillerEIRFPLR</span>  <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span><span class="n">PartLoadRat</span><span class="p">)</span>
<a name="ln-2072"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">ChillerEIRFPLR</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-2073"></a><span class="k">    IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRError</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mi">1</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">&amp;</span>
<a name="ln-2074"></a>     <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-2075"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRError</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-2076"></a>      <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:EIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="p">)</span>
<a name="ln-2077"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Chiller EIR as a function of PLR curve output is negative (&#39;</span> <span class="p">&amp;</span>
<a name="ln-2078"></a>                           <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;).&#39;</span><span class="p">)</span>
<a name="ln-2079"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Negative value occurs using a part-load ratio of &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">PartLoadRat</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<a name="ln-2080"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39; Resetting curve output to zero and continuing simulation.&#39;</span><span class="p">)</span>
<a name="ln-2081"></a>    <span class="k">ELSE IF</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">&amp;</span>
<a name="ln-2082"></a>     <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-2083"></a><span class="k">      </span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRError</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-2084"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:EIR &quot;&#39;</span> <span class="p">&amp;</span>
<a name="ln-2085"></a>                                        <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="o">//</span><span class="p">&amp;</span>
<a name="ln-2086"></a>          <span class="s1">&#39; Chiller EIR as a function of PLR curve output is negative warning continues...&#39;</span> <span class="p">&amp;</span>
<a name="ln-2087"></a>          <span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRErrorIndex</span><span class="p">,</span> <span class="n">ChillerEIRFPLR</span><span class="p">,</span> <span class="n">ChillerEIRFPLR</span><span class="p">)</span>
<a name="ln-2088"></a>    <span class="k">END IF</span>
<a name="ln-2089"></a><span class="k">    </span><span class="n">ChillerEIRFPLR</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2090"></a>  <span class="k">END IF</span>
<a name="ln-2091"></a>
<a name="ln-2092"></a><span class="k">  </span><span class="n">Power</span> <span class="o">=</span> <span class="p">(</span><span class="n">AvailChillerCap</span><span class="o">/</span><span class="n">ReferenceCOP</span><span class="p">)</span> <span class="o">*</span> <span class="n">ChillerEIRFPLR</span> <span class="o">*</span> <span class="n">ChillerEIRFT</span> <span class="o">*</span> <span class="n">FRAC</span>
<a name="ln-2093"></a>
<a name="ln-2094"></a>  <span class="n">QCondenser</span> <span class="o">=</span> <span class="n">Power</span><span class="o">*</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span> <span class="o">+</span> <span class="n">QEvaporator</span> <span class="o">+</span> <span class="n">ChillerFalseLoadRate</span>
<a name="ln-2095"></a>
<a name="ln-2096"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2097"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">CondMassFlowRate</span> <span class="o">&gt;</span> <span class="n">MassFlowTolerance</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2098"></a>       <span class="c">! If Heat Recovery specified for this vapor compression chiller, then Qcondenser will be adjusted by this subroutine</span>
<a name="ln-2099"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">CALL </span><span class="n">EIRChillerHeatRecovery</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">QCondenser</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2100"></a>                                                               <span class="n">CondMassFlowRate</span><span class="p">,</span><span class="n">CondInletTemp</span><span class="p">,</span><span class="n">QHeatRecovered</span><span class="p">)</span>
<a name="ln-2101"></a>        <span class="n">Cp</span>  <span class="o">=</span> <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-2102"></a>                                 <span class="n">CondInletTemp</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-2103"></a>                                 <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2104"></a>                                 <span class="s1">&#39;CalcElectricEIRChillerModel&#39;</span><span class="p">)</span>
<a name="ln-2105"></a>
<a name="ln-2106"></a>        <span class="n">CondOutletTemp</span> <span class="o">=</span> <span class="n">QCondenser</span><span class="o">/</span><span class="n">CondMassFlowRate</span><span class="o">/</span><span class="n">Cp</span> <span class="o">+</span> <span class="n">CondInletTemp</span>
<a name="ln-2107"></a>    <span class="k">ELSE</span>
<a name="ln-2108"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;CalcElectricEIRChillerModel: Condenser flow = 0, for ElectricEIRChiller=&#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-2109"></a>                            <span class="nb">TRIM</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">))</span>
<a name="ln-2110"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<a name="ln-2111"></a>       <span class="c">!DSU? maybe this could be handled earlier, check if this component has a load and an evap flow rate</span>
<a name="ln-2112"></a>       <span class="c">! then if cond flow is zero, just make a request to the condenser,</span>
<a name="ln-2113"></a>       <span class="c">! then just say it couldn&#39;t run until condenser loop wakes up.</span>
<a name="ln-2114"></a>       <span class="c">!CALL ShowFatalError(&#39;Program Terminates due to previous error condition.&#39;)</span>
<a name="ln-2115"></a>    <span class="k">END IF</span>
<a name="ln-2116"></a><span class="k">  ELSE</span> <span class="c">!Air Cooled or Evap Cooled</span>
<a name="ln-2117"></a>
<a name="ln-2118"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">QCondenser</span> <span class="o">&gt;</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2119"></a><span class="k">      </span><span class="n">CondMassFlowRate</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowRateMax</span> <span class="o">*</span> <span class="n">PartLoadRat</span>
<a name="ln-2120"></a>    <span class="k">ELSE</span>
<a name="ln-2121"></a><span class="k">      </span><span class="n">CondMassFlowRate</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2122"></a>    <span class="k">END IF</span>
<a name="ln-2123"></a>
<a name="ln-2124"></a>     <span class="c">! If Heat Recovery specified for this vapor compression chiller, then Qcondenser will be adjusted by this subroutine</span>
<a name="ln-2125"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">CALL </span><span class="n">EIRChillerHeatRecovery</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">QCondenser</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2126"></a>                                                             <span class="n">CondMassFlowRate</span><span class="p">,</span><span class="n">CondInletTemp</span><span class="p">,</span><span class="n">QHeatRecovered</span><span class="p">)</span>
<a name="ln-2127"></a>
<a name="ln-2128"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">CondMassFlowRate</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-2129"></a><span class="k">      </span><span class="n">Cp</span> <span class="o">=</span> <span class="n">PsyCpAirFnWTdb</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">HumRat</span><span class="p">,</span><span class="n">CondInletTemp</span><span class="p">,</span><span class="s1">&#39;CalcElectricEIRChillerModel&#39;</span><span class="p">)</span>
<a name="ln-2130"></a>      <span class="n">CondOutletTemp</span> <span class="o">=</span> <span class="n">CondInletTemp</span> <span class="o">+</span> <span class="n">QCondenser</span><span class="o">/</span><span class="n">CondMassFlowRate</span><span class="o">/</span><span class="n">Cp</span>
<a name="ln-2131"></a>    <span class="k">ELSE</span>
<a name="ln-2132"></a><span class="k">      </span><span class="n">CondOutletTemp</span> <span class="o">=</span> <span class="n">CondInletTemp</span>
<a name="ln-2133"></a>    <span class="k">END IF</span>
<a name="ln-2134"></a><span class="k">  END IF</span>
<a name="ln-2135"></a>
<a name="ln-2136"></a>  <span class="c">! Calculate condenser fan power</span>
<a name="ln-2137"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">ChillerCapFT</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-2138"></a><span class="k">    </span><span class="n">CondenserFanPower</span> <span class="o">=</span> <span class="n">ChillerRefCap</span><span class="o">*</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserFanPowerRatio</span><span class="o">*</span><span class="n">FRAC</span>
<a name="ln-2139"></a>  <span class="k">ELSE</span>
<a name="ln-2140"></a><span class="k">    </span><span class="n">CondenserFanPower</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2141"></a>  <span class="k">END IF</span>
<a name="ln-2142"></a>
<a name="ln-2143"></a><span class="k">  RETURN</span>
<a name="ln-2144"></a>
<a name="ln-2145"></a><span class="k">END SUBROUTINE </span><span class="n">CalcElectricEIRChillerModel</span>
<a name="ln-2146"></a>
<a name="ln-2147"></a><span class="k">SUBROUTINE </span><span class="n">EIRChillerHeatRecovery</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">QCond</span><span class="p">,</span><span class="n">CondMassFlow</span><span class="p">,</span><span class="n">CondInletTemp</span><span class="p">,</span><span class="n">QHeatRec</span><span class="p">)</span>
<a name="ln-2148"></a>            <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-2149"></a>            <span class="c">!       AUTHOR:          Richard Liesen</span>
<a name="ln-2150"></a>            <span class="c">!       DATE WRITTEN:    January 2004</span>
<a name="ln-2151"></a>            <span class="c">!       MODIFIED:        Richard Raustad, FSEC (occurrences of EIR only, calcs are identical to electric chiller)</span>
<a name="ln-2152"></a>
<a name="ln-2153"></a>            <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-2154"></a>            <span class="c">!  Calculate the heat recovered from the chiller condenser</span>
<a name="ln-2155"></a>
<a name="ln-2156"></a>
<a name="ln-2157"></a>            <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-2158"></a>            <span class="c">!  na</span>
<a name="ln-2159"></a>
<a name="ln-2160"></a>            <span class="c">! REFERENCES:</span>
<a name="ln-2161"></a>            <span class="c">!  na</span>
<a name="ln-2162"></a>
<a name="ln-2163"></a>            <span class="c">! USE STATEMENTS:</span>
<a name="ln-2164"></a>  <span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>       <span class="n">ONLY</span><span class="p">:</span> <span class="n">SingleSetpoint</span><span class="p">,</span> <span class="n">DualSetpointDeadband</span><span class="p">,</span> <span class="n">PlantLoop</span>
<a name="ln-2165"></a>  <span class="k">USE </span><span class="n">ScheduleManager</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetCurrentScheduleValue</span>
<a name="ln-2166"></a>
<a name="ln-2167"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-2168"></a>
<a name="ln-2169"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-2170"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span> <span class="p">(</span><span class="n">IN</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">EIRChillNum</span>   <span class="c">! Number of the current electric EIR chiller being simulated</span>
<a name="ln-2171"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">INOut</span><span class="p">)</span>       <span class="kd">::</span> <span class="n">QCond</span>         <span class="c">! Current condenser load [W]</span>
<a name="ln-2172"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">Out</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">QHeatRec</span>      <span class="c">! Amount of heat recovered [W]</span>
<a name="ln-2173"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">CondMassFlow</span>  <span class="c">! Current condenser mass flow [kg/s]</span>
<a name="ln-2174"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">CondInletTemp</span> <span class="c">! Current condenser inlet temp [C]</span>
<a name="ln-2175"></a>
<a name="ln-2176"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-2177"></a>          <span class="c">!  na</span>
<a name="ln-2178"></a>
<a name="ln-2179"></a>          <span class="c">! DERIVED TYPE DEFINITIONS:</span>
<a name="ln-2180"></a>          <span class="c">!  na</span>
<a name="ln-2181"></a>
<a name="ln-2182"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-2183"></a>  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">CondInletNode</span>       <span class="c">! Condenser inlet node number</span>
<a name="ln-2184"></a>  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">CondOutletNode</span>      <span class="c">! Condenser outlet node number</span>
<a name="ln-2185"></a>  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">HeatRecInNode</span>       <span class="c">! Node number of heat recovery water inlet node</span>
<a name="ln-2186"></a>  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">HeatRecOutNode</span>      <span class="c">! Node number of heat recovery water outlet node</span>
<a name="ln-2187"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">QTotal</span>              <span class="c">! Total condenser heat [W]</span>
<a name="ln-2188"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">QCondTmp</span>            <span class="c">! Total condenser heat based on average temperatures [W]</span>
<a name="ln-2189"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecInletTemp</span>    <span class="c">! Heat reclaim inlet temp [C]</span>
<a name="ln-2190"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecMassFlowRate</span> <span class="c">! Heat reclaim mass flow rate [m3/s]</span>
<a name="ln-2191"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">FracHeatRec</span>         <span class="c">! Fraction of condenser heat reclaimed</span>
<a name="ln-2192"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">TAvgIn</span>              <span class="c">! Average inlet temperature of heat reclaim inlet and condenser inlet [C]</span>
<a name="ln-2193"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">TAvgOut</span>             <span class="c">! Average outlet temperature [C]</span>
<a name="ln-2194"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CpHeatRec</span>           <span class="c">! Heat reclaim water inlet specific heat [J/kg-K]</span>
<a name="ln-2195"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CpCond</span>              <span class="c">! Condenser water inlet specific heat [J/kg-K]</span>
<a name="ln-2196"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">THeatRecSetpoint</span>    <span class="c">! local value for heat recovery leaving setpoint [C]</span>
<a name="ln-2197"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">QHeatRecToSetpoint</span>  <span class="c">! load to heat recovery setpoint</span>
<a name="ln-2198"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecHighInletLimit</span> <span class="c">! local value for inlet limit for heat recovery [C]</span>
<a name="ln-2199"></a>
<a name="ln-2200"></a>
<a name="ln-2201"></a>  <span class="c">! Begin routine</span>
<a name="ln-2202"></a>  <span class="n">HeatRecInNode</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span>
<a name="ln-2203"></a>  <span class="n">HeatRecOutNode</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span>
<a name="ln-2204"></a>  <span class="n">CondInletNode</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>
<a name="ln-2205"></a>  <span class="n">CondOutletNode</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>
<a name="ln-2206"></a>
<a name="ln-2207"></a>   <span class="c">! Inlet node to the heat recovery heat exchanger</span>
<a name="ln-2208"></a>  <span class="n">HeatRecInletTemp</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2209"></a>  <span class="n">HeatRecMassFlowRate</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>
<a name="ln-2210"></a>
<a name="ln-2211"></a>  <span class="n">CpHeatRec</span> <span class="o">=</span>  <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-2212"></a>                                 <span class="n">HeatRecInletTemp</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-2213"></a>                                 <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2214"></a>                                 <span class="s1">&#39;EIRChillerHeatRecovery&#39;</span><span class="p">)</span>
<a name="ln-2215"></a>  <span class="n">CpCond</span> <span class="o">=</span>  <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-2216"></a>                                 <span class="n">CondInletTemp</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-2217"></a>                                 <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2218"></a>                                 <span class="s1">&#39;EIRChillerHeatRecovery&#39;</span><span class="p">)</span>
<a name="ln-2219"></a>
<a name="ln-2220"></a>  <span class="c">! Before we modify the QCondenser, the total or original value is transferred to QTot</span>
<a name="ln-2221"></a>  <span class="n">QTotal</span> <span class="o">=</span> <span class="n">QCond</span>
<a name="ln-2222"></a>
<a name="ln-2223"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! use original algorithm that blends temps</span>
<a name="ln-2224"></a>    <span class="n">TAvgIn</span> <span class="o">=</span> <span class="p">(</span><span class="n">HeatRecMassFlowRate</span><span class="o">*</span><span class="n">CpHeatRec</span><span class="o">*</span><span class="n">HeatRecInletTemp</span> <span class="o">+</span> <span class="n">CondMassFlow</span><span class="o">*</span><span class="n">CpCond</span><span class="o">*</span><span class="n">CondInletTemp</span><span class="p">)</span><span class="o">/</span>  <span class="p">&amp;</span>
<a name="ln-2225"></a>               <span class="p">(</span><span class="n">HeatRecMassFlowRate</span><span class="o">*</span><span class="n">CpHeatRec</span> <span class="o">+</span> <span class="n">CondMassFlow</span><span class="o">*</span><span class="n">CpCond</span><span class="p">)</span>
<a name="ln-2226"></a>
<a name="ln-2227"></a>    <span class="n">TAvgOut</span> <span class="o">=</span> <span class="n">QTotal</span><span class="o">/</span><span class="p">(</span><span class="n">HeatRecMassFlowRate</span><span class="o">*</span><span class="n">CpHeatRec</span> <span class="o">+</span> <span class="n">CondMassFlow</span><span class="o">*</span><span class="n">CpCond</span><span class="p">)</span> <span class="o">+</span> <span class="n">TAvgIn</span>
<a name="ln-2228"></a>
<a name="ln-2229"></a>    <span class="n">QHeatRec</span> <span class="o">=</span> <span class="n">HeatRecMassFlowRate</span> <span class="o">*</span> <span class="n">CpHeatRec</span> <span class="o">*</span> <span class="p">(</span><span class="n">TAvgOut</span> <span class="o">-</span> <span class="n">HeatRecInletTemp</span><span class="p">)</span>
<a name="ln-2230"></a>    <span class="n">QHeatRec</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="n">QHeatRec</span><span class="p">,</span> <span class="mf">0.d0</span><span class="p">)</span> <span class="c">! ensure non negative</span>
<a name="ln-2231"></a>   <span class="c">!check if heat flow too large for physical size of bundle</span>
<a name="ln-2232"></a>    <span class="n">QHeatRec</span> <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="n">QHeatRec</span><span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecMaxCapacityLimit</span><span class="p">)</span>
<a name="ln-2233"></a>  <span class="k">ELSE</span> <span class="c">! use new algorithm to meet setpoint</span>
<a name="ln-2234"></a>    <span class="k">SELECT CASE</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">LoopDemandCalcScheme</span><span class="p">)</span>
<a name="ln-2235"></a>
<a name="ln-2236"></a>    <span class="k">CASE</span> <span class="p">(</span><span class="n">SingleSetPoint</span><span class="p">)</span>
<a name="ln-2237"></a>      <span class="n">THeatRecSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-2238"></a>    <span class="k">CASE</span> <span class="p">(</span><span class="n">DualSetPointDeadBand</span><span class="p">)</span>
<a name="ln-2239"></a>      <span class="n">THeatRecSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-2240"></a>    <span class="k">END SELECT</span>
<a name="ln-2241"></a>
<a name="ln-2242"></a><span class="k">    </span><span class="n">QHeatRecToSetpoint</span> <span class="o">=</span> <span class="n">HeatRecMassFlowRate</span> <span class="o">*</span>  <span class="n">CpHeatRec</span> <span class="o">*</span> <span class="p">(</span><span class="n">THeatRecSetpoint</span> <span class="o">-</span> <span class="n">HeatRecInletTemp</span><span class="p">)</span>
<a name="ln-2243"></a>    <span class="n">QHeatRecToSetpoint</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="n">QHeatRecToSetpoint</span><span class="p">,</span> <span class="mf">0.d0</span><span class="p">)</span>
<a name="ln-2244"></a>    <span class="n">QHeatRec</span> <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="n">QTotal</span><span class="p">,</span><span class="n">QHeatRecToSetpoint</span><span class="p">)</span>
<a name="ln-2245"></a>     <span class="c">!check if heat flow too large for physical size of bundle</span>
<a name="ln-2246"></a>    <span class="n">QHeatRec</span> <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="n">QHeatRec</span><span class="p">,</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecMaxCapacityLimit</span><span class="p">)</span>
<a name="ln-2247"></a>  <span class="n">ENDIF</span>
<a name="ln-2248"></a>
<a name="ln-2249"></a>   <span class="c">! check if limit on inlet is present and exceeded.</span>
<a name="ln-2250"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2251"></a><span class="k">    </span><span class="n">HeatRecHighInletLimit</span> <span class="o">=</span>  <span class="n">GetCurrentScheduleValue</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span><span class="p">)</span>
<a name="ln-2252"></a>    <span class="k">IF</span> <span class="p">(</span> <span class="n">HeatRecInletTemp</span> <span class="o">&gt;</span> <span class="n">HeatRecHighInletLimit</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! shut down heat recovery</span>
<a name="ln-2253"></a>      <span class="n">QHeatRec</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-2254"></a>    <span class="n">ENDIF</span>
<a name="ln-2255"></a>  <span class="n">ENDIF</span>
<a name="ln-2256"></a>
<a name="ln-2257"></a>  <span class="n">QCond</span> <span class="o">=</span> <span class="n">QTotal</span> <span class="o">-</span> <span class="n">QHeatRec</span>
<a name="ln-2258"></a>
<a name="ln-2259"></a>  <span class="c">! Calculate a new Heat Recovery Coil Outlet Temp</span>
<a name="ln-2260"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">HeatRecMassFlowRate</span> <span class="o">&gt;</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2261"></a><span class="k">    </span><span class="n">HeatRecOutletTemp</span> <span class="o">=</span> <span class="n">QHeatRec</span><span class="o">/</span><span class="p">(</span><span class="n">HeatRecMassFlowRate</span><span class="o">*</span><span class="n">CpHeatRec</span><span class="p">)</span> <span class="o">+</span> <span class="n">HeatRecInletTemp</span>
<a name="ln-2262"></a>  <span class="k">ELSE</span>
<a name="ln-2263"></a><span class="k">    </span><span class="n">HeatRecOutletTemp</span> <span class="o">=</span> <span class="n">HeatRecInletTemp</span>
<a name="ln-2264"></a>  <span class="k">END IF</span>
<a name="ln-2265"></a>
<a name="ln-2266"></a><span class="k">  RETURN</span>
<a name="ln-2267"></a>
<a name="ln-2268"></a><span class="k">END SUBROUTINE </span><span class="n">EIRChillerHeatRecovery</span>
<a name="ln-2269"></a>
<a name="ln-2270"></a><span class="k">SUBROUTINE </span><span class="n">UpdateElectricEIRChillerRecords</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">RunFlag</span><span class="p">,</span><span class="n">Num</span><span class="p">)</span>
<a name="ln-2271"></a>
<a name="ln-2272"></a>            <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-2273"></a>            <span class="c">!       AUTHOR:          Richard Raustad, FSEC</span>
<a name="ln-2274"></a>            <span class="c">!       DATE WRITTEN:    June 2004</span>
<a name="ln-2275"></a>
<a name="ln-2276"></a>            <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-2277"></a>            <span class="c">!  Reporting</span>
<a name="ln-2278"></a>
<a name="ln-2279"></a>            <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-2280"></a>            <span class="c">!  na</span>
<a name="ln-2281"></a>
<a name="ln-2282"></a>            <span class="c">! REFERENCES:</span>
<a name="ln-2283"></a>            <span class="c">!  na</span>
<a name="ln-2284"></a>
<a name="ln-2285"></a>            <span class="c">! USE STATEMENTS:</span>
<a name="ln-2286"></a>  <span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>     <span class="n">ONLY</span> <span class="p">:</span> <span class="n">SecInHour</span>
<a name="ln-2287"></a>  <span class="k">USE </span><span class="n">DataHVACGlobals</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">TimeStepSys</span>
<a name="ln-2288"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">SafeCopyPlantNode</span>
<a name="ln-2289"></a>  <span class="k">USE </span><span class="n">Psychrometrics</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">PsyHFnTdbW</span>
<a name="ln-2290"></a>
<a name="ln-2291"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-2292"></a>
<a name="ln-2293"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-2294"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">MyLoad</span>    <span class="c">! Current load [W]</span>
<a name="ln-2295"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">RunFlag</span>   <span class="c">! TRUE if chiller operating</span>
<a name="ln-2296"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">Num</span>       <span class="c">! Chiller number</span>
<a name="ln-2297"></a>
<a name="ln-2298"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-2299"></a>          <span class="c">! na</span>
<a name="ln-2300"></a>
<a name="ln-2301"></a>          <span class="c">! DERIVED TYPE DEFINITIONS:</span>
<a name="ln-2302"></a>          <span class="c">! na</span>
<a name="ln-2303"></a>
<a name="ln-2304"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-2305"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">EvapInletNode</span>         <span class="c">! Evaporator inlet node number</span>
<a name="ln-2306"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">EvapOutletNode</span>        <span class="c">! Evaporator outlet node number</span>
<a name="ln-2307"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">CondInletNode</span>         <span class="c">! Condenser inlet node number</span>
<a name="ln-2308"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">CondOutletNode</span>        <span class="c">! Condenser outlet node number</span>
<a name="ln-2309"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">HeatRecInNode</span>         <span class="c">! Node number of heat recovery water inlet node</span>
<a name="ln-2310"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">HeatRecOutNode</span>        <span class="c">! Node number of heat recovery water outlet node</span>
<a name="ln-2311"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">ReportingConstant</span>     <span class="c">! Number of seconds per HVAC system time step, to convert from W (J/s) to J</span>
<a name="ln-2312"></a>
<a name="ln-2313"></a>  <span class="n">ReportingConstant</span> <span class="o">=</span> <span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-2314"></a>
<a name="ln-2315"></a>  <span class="n">EvapInletNode</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span>
<a name="ln-2316"></a>  <span class="n">EvapOutletNode</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span>
<a name="ln-2317"></a>  <span class="n">CondInletNode</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>
<a name="ln-2318"></a>  <span class="n">CondOutletNode</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>
<a name="ln-2319"></a>  <span class="n">HeatRecInNode</span>  <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span>
<a name="ln-2320"></a>  <span class="n">HeatRecOutNode</span> <span class="o">=</span> <span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span>
<a name="ln-2321"></a>
<a name="ln-2322"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">MyLoad</span><span class="o">&gt;=</span><span class="mi">0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">RunFlag</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! Chiller not running so pass inlet states to outlet states</span>
<a name="ln-2323"></a>    <span class="c">! Set node conditions</span>
<a name="ln-2324"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">Temp</span>     <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2325"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">Temp</span>     <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2326"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">/=</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2327"></a><span class="k">      </span><span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">HumRat</span>   <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">HumRat</span>
<a name="ln-2328"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">Enthalpy</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Enthalpy</span>
<a name="ln-2329"></a>    <span class="k">END IF</span>
<a name="ln-2330"></a>
<a name="ln-2331"></a>
<a name="ln-2332"></a><span class="k">    </span><span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerPartLoadRatio</span>  <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2333"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerCyclingRatio</span>   <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2334"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerFalseLoadRate</span>  <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2335"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerFalseLoad</span>      <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2336"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Power</span>                 <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2337"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QEvap</span>                 <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2338"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QCond</span>                 <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2339"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Energy</span>                <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2340"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapEnergy</span>            <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2341"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondEnergy</span>            <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2342"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapInletTemp</span>         <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2343"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondInletTemp</span>         <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2344"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondOutletTemp</span>        <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2345"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapOutletTemp</span>        <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2346"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Evapmdot</span>              <span class="o">=</span> <span class="n">EvapMassFlowRate</span>  <span class="c">! could still be flow if in series</span>
<a name="ln-2347"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Condmdot</span>              <span class="o">=</span> <span class="n">CondMassFlowRate</span>  <span class="c">! could still be flow if in series</span>
<a name="ln-2348"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ActualCOP</span>             <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2349"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondenserFanPowerUse</span>  <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2350"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondenserFanEnergyConsumption</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2351"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">EvapCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2352"></a><span class="k">      </span><span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">BasinHeaterPower</span>       <span class="o">=</span> <span class="n">BasinHeaterPower</span>
<a name="ln-2353"></a>      <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">BasinHeaterConsumption</span> <span class="o">=</span> <span class="n">BasinHeaterPower</span><span class="o">*</span><span class="n">ReportingConstant</span>
<a name="ln-2354"></a>    <span class="n">ENDIF</span>
<a name="ln-2355"></a>
<a name="ln-2356"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2357"></a>
<a name="ln-2358"></a><span class="k">       CALL </span><span class="n">SafeCopyPlantNode</span><span class="p">(</span> <span class="n">HeatRecInNode</span><span class="p">,</span> <span class="n">HeatRecOutNode</span><span class="p">)</span>
<a name="ln-2359"></a>
<a name="ln-2360"></a>       <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QHeatRecovery</span>      <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2361"></a>       <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EnergyHeatRecovery</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2362"></a>       <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecInletTemp</span>   <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2363"></a>       <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecOutletTemp</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecOutNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2364"></a>       <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecMassFlow</span>    <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>
<a name="ln-2365"></a>    <span class="k">END IF</span>
<a name="ln-2366"></a>
<a name="ln-2367"></a><span class="k">  ELSE</span> <span class="c">! Chiller is running, so pass calculated values</span>
<a name="ln-2368"></a>    <span class="c">! Set node temperatures</span>
<a name="ln-2369"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">Temp</span>     <span class="o">=</span> <span class="n">EvapOutletTemp</span>
<a name="ln-2370"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">Temp</span>     <span class="o">=</span> <span class="n">CondOutletTemp</span>
<a name="ln-2371"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">/=</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2372"></a><span class="k">      </span><span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">HumRat</span>   <span class="o">=</span> <span class="n">CondOutletHumRat</span>
<a name="ln-2373"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">Enthalpy</span> <span class="o">=</span> <span class="n">PsyHFnTdbW</span><span class="p">(</span><span class="n">CondOutletTemp</span><span class="p">,</span> <span class="n">CondOutletHumRat</span><span class="p">)</span>
<a name="ln-2374"></a>    <span class="k">END IF</span>
<a name="ln-2375"></a>
<a name="ln-2376"></a>    <span class="c">! Set node flow rates;  for these load based models</span>
<a name="ln-2377"></a>    <span class="c">! assume that sufficient evaporator flow rate is available</span>
<a name="ln-2378"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerPartLoadRatio</span>  <span class="o">=</span> <span class="n">ChillerPartLoadRatio</span>
<a name="ln-2379"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerCyclingRatio</span>   <span class="o">=</span> <span class="n">ChillerCyclingRatio</span>
<a name="ln-2380"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerFalseLoadRate</span>  <span class="o">=</span> <span class="n">ChillerFalseLoadRate</span>
<a name="ln-2381"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerFalseLoad</span>      <span class="o">=</span> <span class="n">ChillerFalseLoadRate</span><span class="o">*</span><span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-2382"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Power</span>                 <span class="o">=</span> <span class="n">Power</span>
<a name="ln-2383"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QEvap</span>                 <span class="o">=</span> <span class="n">QEvaporator</span>
<a name="ln-2384"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QCond</span>                 <span class="o">=</span> <span class="n">QCondenser</span>
<a name="ln-2385"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Energy</span>                <span class="o">=</span> <span class="n">Power</span><span class="o">*</span><span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-2386"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapEnergy</span>            <span class="o">=</span> <span class="n">QEvaporator</span><span class="o">*</span><span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-2387"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondEnergy</span>            <span class="o">=</span> <span class="n">QCondenser</span><span class="o">*</span><span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-2388"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapInletTemp</span>         <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2389"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondInletTemp</span>         <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2390"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondOutletTemp</span>        <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2391"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapOutletTemp</span>        <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2392"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Evapmdot</span>              <span class="o">=</span> <span class="n">EvapMassFlowRate</span>
<a name="ln-2393"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Condmdot</span>              <span class="o">=</span> <span class="n">CondMassFlowRate</span>
<a name="ln-2394"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondenserFanPowerUse</span>  <span class="o">=</span> <span class="n">CondenserFanPower</span>
<a name="ln-2395"></a>    <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondenserFanEnergyConsumption</span> <span class="o">=</span> <span class="n">CondenserFanPower</span><span class="o">*</span><span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-2396"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">Power</span> <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2397"></a><span class="k">       </span><span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ActualCOP</span>          <span class="o">=</span> <span class="p">(</span><span class="n">QEvaporator</span><span class="o">+</span><span class="n">ChillerFalseLoadRate</span><span class="p">)</span><span class="o">/</span><span class="n">Power</span>
<a name="ln-2398"></a>    <span class="k">ELSE</span>
<a name="ln-2399"></a><span class="k">       </span><span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ActualCOP</span>          <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-2400"></a>    <span class="k">END IF</span>
<a name="ln-2401"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">EvapCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2402"></a><span class="k">      </span><span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">BasinHeaterPower</span>       <span class="o">=</span> <span class="n">BasinHeaterPower</span>
<a name="ln-2403"></a>      <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">BasinHeaterConsumption</span> <span class="o">=</span> <span class="n">BasinHeaterPower</span><span class="o">*</span><span class="n">ReportingConstant</span>
<a name="ln-2404"></a>    <span class="n">ENDIF</span>
<a name="ln-2405"></a>
<a name="ln-2406"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">ElectricEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2407"></a>
<a name="ln-2408"></a><span class="k">       CALL </span><span class="n">SafeCopyPlantNode</span><span class="p">(</span> <span class="n">HeatRecInNode</span><span class="p">,</span> <span class="n">HeatRecOutNode</span><span class="p">)</span>
<a name="ln-2409"></a>       <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QHeatRecovery</span>      <span class="o">=</span> <span class="n">QHeatRecovered</span>
<a name="ln-2410"></a>       <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EnergyHeatRecovery</span> <span class="o">=</span> <span class="n">QHeatRecovered</span><span class="o">*</span><span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-2411"></a>       <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecOutNode</span><span class="p">)%</span><span class="n">Temp</span>                        <span class="o">=</span> <span class="n">HeatRecOutletTemp</span>
<a name="ln-2412"></a>       <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecInletTemp</span>   <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2413"></a>       <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecOutletTemp</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecOutNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-2414"></a>       <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecMassFlow</span>    <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>
<a name="ln-2415"></a>    <span class="k">END IF</span>
<a name="ln-2416"></a>
<a name="ln-2417"></a><span class="k">  END IF</span>
<a name="ln-2418"></a>
<a name="ln-2419"></a><span class="k">  </span><span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerCapFT</span>          <span class="o">=</span> <span class="n">ChillerCapFT</span>
<a name="ln-2420"></a>  <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerEIRFT</span>          <span class="o">=</span> <span class="n">ChillerEIRFT</span>
<a name="ln-2421"></a>  <span class="n">ElectricEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span>        <span class="o">=</span> <span class="n">ChillerEIRFPLR</span>
<a name="ln-2422"></a>
<a name="ln-2423"></a>
<a name="ln-2424"></a><span class="k">RETURN</span>
<a name="ln-2425"></a>
<a name="ln-2426"></a><span class="k">END SUBROUTINE </span><span class="n">UpdateElectricEIRChillerRecords</span>
<a name="ln-2427"></a>
<a name="ln-2428"></a>
<a name="ln-2429"></a><span class="k">END MODULE </span><span class="n">ChillerElectricEIR</span>
<a name="ln-2430"></a>
<a name="ln-2431"></a>
<a name="ln-2432"></a><span class="c">!+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<a name="ln-2433"></a><span class="c">!*******************************************************************************************************</span>
<a name="ln-2434"></a><span class="c">!+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<a name="ln-2435"></a><span class="c">!*******************************************************************************************************</span>
<a name="ln-2436"></a><span class="c">!+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<a name="ln-2437"></a>
<a name="ln-2438"></a>
<a name="ln-2439"></a><span class="k">MODULE </span><span class="n">ChillerReformulatedEIR</span>  <span class="c">! DOE-2 Reformulated EIR ChillerModule (by Mark Hydeman)</span>
<a name="ln-2440"></a>
<a name="ln-2441"></a>          <span class="c">! MODULE INFORMATION:</span>
<a name="ln-2442"></a>          <span class="c">!       AUTHOR         Lixing Gu</span>
<a name="ln-2443"></a>          <span class="c">!       DATE WRITTEN   August 2006</span>
<a name="ln-2444"></a>          <span class="c">!       MODIFIED       na</span>
<a name="ln-2445"></a>          <span class="c">!       RE-ENGINEERED  na</span>
<a name="ln-2446"></a>
<a name="ln-2447"></a>          <span class="c">! PURPOSE OF THIS MODULE:</span>
<a name="ln-2448"></a>          <span class="c">!  This module simulates the performance of the electric vapor compression</span>
<a name="ln-2449"></a>          <span class="c">!  chiller using a reformulated model based on the DOE-2 EIR chiller.</span>
<a name="ln-2450"></a>
<a name="ln-2451"></a>          <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-2452"></a>          <span class="c">!  Once the PlantLoopManager determines that the Reformulated EIR chiller</span>
<a name="ln-2453"></a>          <span class="c">!  is available to meet a loop cooling demand, it calls SimReformulatedEIRChiller</span>
<a name="ln-2454"></a>          <span class="c">!  which in turn calls the reformulated EIR chiller model.</span>
<a name="ln-2455"></a>          <span class="c">!  The ReformulatedEIR chiller model is based on polynomial fits of chiller</span>
<a name="ln-2456"></a>          <span class="c">!  performance data.</span>
<a name="ln-2457"></a>
<a name="ln-2458"></a>          <span class="c">! REFERENCES:</span>
<a name="ln-2459"></a>          <span class="c">! 1. Hydeman, M., P. Sreedharan, N. Webb, and S. Blanc. 2002. &quot;Development and Testing of a Reformulated</span>
<a name="ln-2460"></a>          <span class="c">!    Regression-Based Electric Chiller Model&quot;. ASHRAE Transactions, HI-02-18-2, Vol 108, Part 2, pp. 1118-1127.</span>
<a name="ln-2461"></a>
<a name="ln-2462"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-2463"></a><span class="k">USE </span><span class="n">DataInterfaces</span>
<a name="ln-2464"></a><span class="k">USE </span><span class="n">DataPrecisionGlobals</span>
<a name="ln-2465"></a><span class="k">USE </span><span class="n">DataLoopNode</span>
<a name="ln-2466"></a><span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>     <span class="n">ONLY</span><span class="p">:</span> <span class="n">MaxNameLength</span><span class="p">,</span> <span class="n">InitConvTemp</span>
<a name="ln-2467"></a><span class="k">USE </span><span class="n">DataHVACGlobals</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">SmallWaterVolFlow</span>
<a name="ln-2468"></a><span class="k">USE </span><span class="n">Psychrometrics</span><span class="p">,</span>  <span class="n">ONLY</span><span class="p">:</span> <span class="n">PsyCpAirFnWTdb</span><span class="p">,</span> <span class="n">PsyRhoAirFnPbTdbW</span>
<a name="ln-2469"></a><span class="k">USE </span><span class="n">General</span><span class="p">,</span>         <span class="n">ONLY</span><span class="p">:</span> <span class="n">TrimSigDigits</span>
<a name="ln-2470"></a><span class="k">USE </span><span class="n">FluidProperties</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetDensityGlycol</span><span class="p">,</span> <span class="n">GetSpecificHeatGlycol</span>
<a name="ln-2471"></a><span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>       <span class="n">ONLY</span><span class="p">:</span> <span class="n">PlantLoop</span>
<a name="ln-2472"></a>
<a name="ln-2473"></a><span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-2474"></a>
<a name="ln-2475"></a>          <span class="c">! MODULE PARAMETER DEFINITIONS:</span>
<a name="ln-2476"></a><span class="c">! Chiller type parameters</span>
<a name="ln-2477"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">AirCooled</span>         <span class="o">=</span> <span class="mi">1</span> <span class="c">! Air-cooled condenser currently not allowed</span>
<a name="ln-2478"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">WaterCooled</span>       <span class="o">=</span> <span class="mi">2</span> <span class="c">! Only water-cooled condensers are currently allowed</span>
<a name="ln-2479"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">EvapCooled</span>        <span class="o">=</span> <span class="mi">3</span> <span class="c">! Evap-cooled condenser currently not allowed</span>
<a name="ln-2480"></a><span class="c">! Performance curve variable parameters</span>
<a name="ln-2481"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">LeavingCondenser</span>  <span class="o">=</span> <span class="mi">5</span>
<a name="ln-2482"></a>
<a name="ln-2483"></a>
<a name="ln-2484"></a><span class="c">!chiller flow modes</span>
<a name="ln-2485"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">FlowModeNotSet</span>           <span class="o">=</span> <span class="mi">200</span>
<a name="ln-2486"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">ConstantFlow</span>             <span class="o">=</span> <span class="mi">201</span>
<a name="ln-2487"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">NotModulated</span>             <span class="o">=</span> <span class="mi">202</span>
<a name="ln-2488"></a><span class="kt">INTEGER</span><span class="p">,</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">LeavingSetpointModulated</span> <span class="o">=</span> <span class="mi">203</span>
<a name="ln-2489"></a>
<a name="ln-2490"></a>          <span class="c">! MODULE VARIABLE DECLARATIONS:</span>
<a name="ln-2491"></a><span class="k">PRIVATE</span>
<a name="ln-2492"></a><span class="kt">INTEGER</span>        <span class="kd">::</span> <span class="n">NumElecReformEIRChillers</span> <span class="o">=</span><span class="mi">0</span>   <span class="c">! Number of electric reformulated EIR chillers specified in input</span>
<a name="ln-2493"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">CondMassFlowRate</span>         <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Condenser mass flow rate [kg/s]</span>
<a name="ln-2494"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">EvapMassFlowRate</span>         <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Evaporator mass flow rate [kg/s]</span>
<a name="ln-2495"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">CondOutletTemp</span>           <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Condenser outlet temperature [C]</span>
<a name="ln-2496"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">EvapOutletTemp</span>           <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Evaporator outlet temperature [C]</span>
<a name="ln-2497"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">Power</span>                    <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Rate of chiller electric energy use [W]</span>
<a name="ln-2498"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">QEvaporator</span>              <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Rate of heat transfer to the evaporator coil [W]</span>
<a name="ln-2499"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">QCondenser</span>               <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Rate of heat transfer to the condenser coil [W]</span>
<a name="ln-2500"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">QHeatRecovered</span>           <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Rate of heat transfer to the heat recovery coil [W]</span>
<a name="ln-2501"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">HeatRecOutletTemp</span>        <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Heat recovery outlet temperature [C]</span>
<a name="ln-2502"></a><span class="c">!REAL(r64)      :: CondenserFanPower       =0.0d0 ! Condenser Fan Power (fan cycles with compressor) [W]</span>
<a name="ln-2503"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerCapFT</span>             <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Chiller capacity fraction (evaluated as a function of temperature)</span>
<a name="ln-2504"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerEIRFT</span>             <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Chiller electric input ratio (EIR = 1 / COP) as a function of temperature</span>
<a name="ln-2505"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerEIRFPLR</span>           <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Chiller EIR as a function of part-load ratio (PLR)</span>
<a name="ln-2506"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerPartLoadRatio</span>     <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Chiller part-load ratio (PLR)</span>
<a name="ln-2507"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerCyclingRatio</span>      <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Chiller cycling ratio</span>
<a name="ln-2508"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">ChillerFalseLoadRate</span>     <span class="o">=</span><span class="mf">0.0d0</span> <span class="c">! Chiller false load over and above the water-side load [W]</span>
<a name="ln-2509"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">AvgCondSinkTemp</span>          <span class="o">=</span><span class="mf">0.d0</span><span class="c">!  condenser temperature value for use in curves [C]</span>
<a name="ln-2510"></a>
<a name="ln-2511"></a><span class="k">TYPE </span><span class="n">ReformulatedEIRChillerSpecs</span>
<a name="ln-2512"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="n">MaxNameLength</span><span class="p">)</span> <span class="kd">::</span> <span class="n">Name</span>           <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="c">! User identifier</span>
<a name="ln-2513"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">TypeNum</span>                   <span class="o">=</span> <span class="mi">0</span>   <span class="c">! plant loop type identifier</span>
<a name="ln-2514"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="n">MaxNameLength</span><span class="p">)</span> <span class="kd">::</span> <span class="n">CAPFTName</span>      <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="c">! CAPFT curve name</span>
<a name="ln-2515"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="n">MaxNameLength</span><span class="p">)</span> <span class="kd">::</span> <span class="n">EIRFTName</span>      <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="c">! EIRFT curve name</span>
<a name="ln-2516"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="n">MaxNameLength</span><span class="p">)</span> <span class="kd">::</span> <span class="n">EIRFPLRName</span>    <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="c">! EIRPLR curve name</span>
<a name="ln-2517"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CondenserType</span>             <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Type of Condenser. Water Cooled is the only available option for now</span>
<a name="ln-2518"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">RefCap</span>                    <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference capacity of the chiller [W]</span>
<a name="ln-2519"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">RefCOP</span>                    <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference coefficient of performance [W/W]</span>
<a name="ln-2520"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">FlowMode</span>          <span class="o">=</span> <span class="n">FlowModeNotSet</span> <span class="c">! one of 3 modes for componet flow during operation</span>
<a name="ln-2521"></a>  <span class="kt">LOGICAL</span>           <span class="kd">::</span> <span class="n">ModulatedFlowSetToLoop</span>  <span class="o">=</span><span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! True if the setpoint is missing at the outlet node</span>
<a name="ln-2522"></a>  <span class="kt">LOGICAL</span>           <span class="kd">::</span> <span class="n">ModulatedFlowErrDone</span>    <span class="o">=</span><span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! true if setpoint warning issued</span>
<a name="ln-2523"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">EvapVolFlowRate</span>           <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference water volumetric flow rate through the evaporator [m3/s]</span>
<a name="ln-2524"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">EvapMassFlowRateMax</span>       <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference water mass flow rate through evaporator [kg/s]</span>
<a name="ln-2525"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">CondVolFlowRate</span>           <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference water volumetric flow rate through the condenser [m3/s]</span>
<a name="ln-2526"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">CondMassFlowRateMax</span>       <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Reference water mass flow rate through condenser [kg/s]</span>
<a name="ln-2527"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">CompPowerToCondenserFrac</span>  <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Fraction of compressor electric power rejected by condenser [0 to 1]</span>
<a name="ln-2528"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EvapInletNodeNum</span>          <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number on the inlet side of the plant (evaporator side)</span>
<a name="ln-2529"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EvapOutletNodeNum</span>         <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number on the outlet side of the plant (evaporator side)</span>
<a name="ln-2530"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CondInletNodeNum</span>          <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number on the inlet side of the condenser</span>
<a name="ln-2531"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CondOutletNodeNum</span>         <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number on the outlet side of the condenser</span>
<a name="ln-2532"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">MinPartLoadRat</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Minimum allowed operating fraction of full load</span>
<a name="ln-2533"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">MaxPartLoadRat</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Maximum allowed operating fraction of full load</span>
<a name="ln-2534"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">OptPartLoadRat</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Optimal operating fraction of full load</span>
<a name="ln-2535"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">MinUnLoadRat</span>              <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Minimum unloading ratio</span>
<a name="ln-2536"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">TempRefCondIn</span>             <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! The reference secondary loop fluid temperature at the</span>
<a name="ln-2537"></a>                                                       <span class="c">! chiller condenser side inlet for the reformulated chiller [C]</span>
<a name="ln-2538"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">TempRefCondOut</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! The reference secondary loop fluid temperature at the</span>
<a name="ln-2539"></a>                                                       <span class="c">! chiller condenser side outlet for the reformulated chiller [C]</span>
<a name="ln-2540"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">TempRefEvapOut</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! The reference primary loop fluid</span>
<a name="ln-2541"></a>                                                       <span class="c">! temperature at the chiller evaporator side outlet [C]</span>
<a name="ln-2542"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">TempLowLimitEvapOut</span>       <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Low temperature shut off [C]</span>
<a name="ln-2543"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">DesignHeatRecVolFlowRate</span>  <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Design water volumetric flow rate through heat recovery loop [m3/s]</span>
<a name="ln-2544"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">DesignHeatRecMassFlowRate</span> <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Design water mass flow rate through heat recovery loop [kg/s]</span>
<a name="ln-2545"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">SizFac</span>                    <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! sizing factor</span>
<a name="ln-2546"></a>  <span class="kt">LOGICAL</span>           <span class="kd">::</span> <span class="n">HeatRecActive</span>         <span class="o">=</span> <span class="p">.</span><span class="n">False</span><span class="p">.</span> <span class="c">! True when entered Heat Rec Vol Flow Rate &gt; 0</span>
<a name="ln-2547"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HeatRecInletNodeNum</span>       <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number for the heat recovery inlet side of the condenser</span>
<a name="ln-2548"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HeatRecOutletNodeNum</span>      <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Node number for the heat recovery outlet side of the condenser</span>
<a name="ln-2549"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">HeatRecCapacityFraction</span>   <span class="o">=</span> <span class="mf">0.d0</span> <span class="c">! user input for heat recovery capacity fraction []</span>
<a name="ln-2550"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">HeatRecMaxCapacityLimit</span>   <span class="o">=</span> <span class="mf">0.d0</span> <span class="c">! Capacity limit for Heat recovery, one time calc [W]</span>
<a name="ln-2551"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HeatRecSetpointNodeNum</span>    <span class="o">=</span> <span class="mi">0</span>    <span class="c">! index for system node with the heat recover leaving setpoint</span>
<a name="ln-2552"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HeatRecInletLimitSchedNum</span> <span class="o">=</span> <span class="mi">0</span>    <span class="c">! index for schedule for the inlet high limit for heat recovery operation</span>
<a name="ln-2553"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerCapFT</span>              <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for the total cooling capacity modifier curve</span>
<a name="ln-2554"></a>                                                       <span class="c">! (function of leaving evaporator and condenser water temperatures)</span>
<a name="ln-2555"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFT</span>              <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for the energy input ratio modifier curve</span>
<a name="ln-2556"></a>                                                       <span class="c">! (function of leaving evaporator and condenser water temperatures)</span>
<a name="ln-2557"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFPLR</span>            <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for the energy input ratio vs part-load ratio curve</span>
<a name="ln-2558"></a>                                                       <span class="c">! (function of leaving condenser water temperature and part-load ratio)</span>
<a name="ln-2559"></a><span class="c">!  INTEGER           :: CondFanPowerFCap         = 0   ! Condenser fan capacity as a function of chiller capacity</span>
<a name="ln-2560"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerCapFTError</span>         <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative capacity as a function of temp warnings</span>
<a name="ln-2561"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerCapFTErrorIndex</span>    <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative capacity as a function of temp warnings</span>
<a name="ln-2562"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFTError</span>         <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative EIR as a function of temp warnings</span>
<a name="ln-2563"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFTErrorIndex</span>    <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative EIR as a function of temp warnings</span>
<a name="ln-2564"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFPLRError</span>       <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative EIR as a function of PLR warnings</span>
<a name="ln-2565"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">ChillerEIRFPLRErrorIndex</span>  <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Used for negative EIR as a function of PLR warnings</span>
<a name="ln-2566"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerCAPFTXTempMin</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Minimum value of CAPFT curve X variable [C]</span>
<a name="ln-2567"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerCAPFTXTempMax</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Maximum value of CAPFT curve X variable [C]</span>
<a name="ln-2568"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerCAPFTYTempMin</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Minimum value of CAPFT curve Y variable [C]</span>
<a name="ln-2569"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerCAPFTYTempMax</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Maximum value of CAPFT curve Y variable [C]</span>
<a name="ln-2570"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerEIRFTXTempMin</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Minimum value of EIRFT curve X variable [C]</span>
<a name="ln-2571"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerEIRFTXTempMax</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Maximum value of EIRFT curve X variable [C]</span>
<a name="ln-2572"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerEIRFTYTempMin</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Minimum value of EIRFT curve Y variable [C]</span>
<a name="ln-2573"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerEIRFTYTempMax</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Maximum value of EIRFT curve Y variable [C]</span>
<a name="ln-2574"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerEIRFPLRTempMin</span>     <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Minimum value of EIRFPLR curve condenser outlet temperature [C]</span>
<a name="ln-2575"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerEIRFPLRTempMax</span>     <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Maximum value of EIRFPLR curve condenser outlet temperature [C]</span>
<a name="ln-2576"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerEIRFPLRPLRMin</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Minimum value of EIRFPLR curve part-load ratio</span>
<a name="ln-2577"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">ChillerEIRFPLRPLRMax</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! Maximum value of EIRFPLR curve part-load ratio</span>
<a name="ln-2578"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CAPFTXIter</span>                <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Iteration counter for evaporator outlet temperature CAPFT warning messages</span>
<a name="ln-2579"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CAPFTXIterIndex</span>           <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for evaporator outlet temperature CAPFT warning messages</span>
<a name="ln-2580"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CAPFTYIter</span>                <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Iteration counter for condenser outlet temperature CAPFT warning messages</span>
<a name="ln-2581"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CAPFTYIterIndex</span>           <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for condenser outlet temperature CAPFT warning messages</span>
<a name="ln-2582"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EIRFTXIter</span>                <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Iteration counter for evaporator outlet temperature EIRFT warning messages</span>
<a name="ln-2583"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EIRFTXIterIndex</span>           <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for evaporator outlet temperature EIRFT warning messages</span>
<a name="ln-2584"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EIRFTYIter</span>                <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Iteration counter for condenser outlet temperature EIRFT warning messages</span>
<a name="ln-2585"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EIRFTYIterIndex</span>           <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for condenser outlet temperature EIRFT warning messages</span>
<a name="ln-2586"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EIRFPLRTIter</span>              <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Iteration counter for condenser outlet temperature EIRFPLR warning messages</span>
<a name="ln-2587"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EIRFPLRTIterIndex</span>         <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for condenser outlet temperature EIRFPLR warning messages</span>
<a name="ln-2588"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EIRFPLRPLRIter</span>            <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Iteration counter for part-load ratio EIRFPLR warning messages</span>
<a name="ln-2589"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">EIRFPLRPLRIterIndex</span>       <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index for part-load ratio EIRFPLR warning messages</span>
<a name="ln-2590"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">IterLimitExceededNum</span>      <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Iteration limit exceeded for RegulaFalsi routine</span>
<a name="ln-2591"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">IterLimitErrIndex</span>         <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index to iteration limit warning for RegulaFalsi routine</span>
<a name="ln-2592"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">IterFailed</span>                <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Iteration limit failed for RegulaFalsi routine</span>
<a name="ln-2593"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">IterFailedIndex</span>           <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index to iteration limit failed for RegulaFalsi routine</span>
<a name="ln-2594"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">DeltaTErrCount</span>            <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Evaporator delta T equals 0 for variable flow chiller warning messages</span>
<a name="ln-2595"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">DeltaTErrCountIndex</span>       <span class="o">=</span> <span class="mi">0</span>   <span class="c">! Index to evaporator delta T = 0 for variable flow chiller warning messages</span>
<a name="ln-2596"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CWLoopNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! chilled water plant loop index number</span>
<a name="ln-2597"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CWLoopSideNum</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c">! chilled water plant loop side index</span>
<a name="ln-2598"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CWBranchNum</span>   <span class="o">=</span> <span class="mi">0</span>  <span class="c">! chilled water plant loop branch index</span>
<a name="ln-2599"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CWCompNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! chilled water plant loop component index</span>
<a name="ln-2600"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CDLoopNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! condenser water plant loop index number</span>
<a name="ln-2601"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CDLoopSideNum</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c">! condenser water plant loop side index</span>
<a name="ln-2602"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CDBranchNum</span>   <span class="o">=</span> <span class="mi">0</span>  <span class="c">! condenser water plant loop branch index</span>
<a name="ln-2603"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CDCompNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! condenser water plant loop component index</span>
<a name="ln-2604"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HRLoopNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! heat recovery water plant loop index</span>
<a name="ln-2605"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HRLoopSideNum</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c">! heat recovery water plant loop side index</span>
<a name="ln-2606"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HRBranchNum</span>   <span class="o">=</span> <span class="mi">0</span>  <span class="c">! heat recovery water plant loop branch index</span>
<a name="ln-2607"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">HRCompNum</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c">! heat recovery water plant loop component index</span>
<a name="ln-2608"></a>  <span class="kt">INTEGER</span>           <span class="kd">::</span> <span class="n">CondMassFlowIndex</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-2609"></a><span class="c">!  CHARACTER(len=220):: MsgBuffer1    = &#39; &#39; !- buffer to print warning messages on following time step</span>
<a name="ln-2610"></a><span class="c">!  CHARACTER(len=300):: MsgBuffer2    = &#39; &#39; !- buffer to print warning messages on following time step</span>
<a name="ln-2611"></a><span class="c">!  REAL(r64)         :: MsgDataLast   = 0.0d0 ! value of data when warning occurred (passed to Recurring Warn)</span>
<a name="ln-2612"></a><span class="c">!  LOGICAL           :: PrintMessage  = .FALSE. ! logical to determine if message is valid</span>
<a name="ln-2613"></a><span class="c">!  INTEGER           :: MsgErrorCount = 0   ! number of occurrences of warning</span>
<a name="ln-2614"></a><span class="c">!  INTEGER           :: ErrCount1     = 0   ! for recurring error messages</span>
<a name="ln-2615"></a>    <span class="kt">LOGICAL</span>           <span class="kd">::</span> <span class="n">PossibleSubCooling</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! flag to indicate chiller is doing less cooling that requested</span>
<a name="ln-2616"></a><span class="k">END TYPE </span><span class="n">ReformulatedEIRChillerSpecs</span>
<a name="ln-2617"></a>
<a name="ln-2618"></a>
<a name="ln-2619"></a><span class="k">TYPE </span><span class="n">ReportVars</span>
<a name="ln-2620"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerPartLoadRatio</span>  <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller PLR (Load/Capacity)</span>
<a name="ln-2621"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerCyclingRatio</span>   <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller cycling ratio (time on/time step)</span>
<a name="ln-2622"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerFalseLoadRate</span>  <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller false load over and above water side load [J]</span>
<a name="ln-2623"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerFalseLoad</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller false load over and above water side load [W]</span>
<a name="ln-2624"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">Power</span>                 <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller power [W]</span>
<a name="ln-2625"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">QEvap</span>                 <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Evaporator heat transfer rate [W]</span>
<a name="ln-2626"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">QCond</span>                 <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Condenser heat transfer rate [W]</span>
<a name="ln-2627"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">Energy</span>                <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller electric consumption [J]</span>
<a name="ln-2628"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">EvapEnergy</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Evaporator heat transfer energy [J]</span>
<a name="ln-2629"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CondEnergy</span>            <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Condenser heat transfer energy [J]</span>
<a name="ln-2630"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CondInletTemp</span>         <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Condenser inlet temperature [C]</span>
<a name="ln-2631"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">EvapInletTemp</span>         <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Evaporator inlet temperature [C]</span>
<a name="ln-2632"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CondOutletTemp</span>        <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Condenser outlet temperature [C]</span>
<a name="ln-2633"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">EvapOutletTemp</span>        <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Evaporator outlet temperature [C]</span>
<a name="ln-2634"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">Evapmdot</span>              <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Evaporator mass flow rate [kg/s]</span>
<a name="ln-2635"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">Condmdot</span>              <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Condenser mass flow rate [kg/s]</span>
<a name="ln-2636"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ActualCOP</span>             <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Coefficient of performance</span>
<a name="ln-2637"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">QHeatRecovery</span>         <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Heat recovered from water-cooled condenser [W]</span>
<a name="ln-2638"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">EnergyHeatRecovery</span>    <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Energy recovered from water-cooled condenser [J]</span>
<a name="ln-2639"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecInletTemp</span>      <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Heat reclaim inlet temperature [C]</span>
<a name="ln-2640"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecOutletTemp</span>     <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Heat reclaim outlet temperature [C]</span>
<a name="ln-2641"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecMassFlow</span>       <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Heat reclaim mass flow rate [kg/s]</span>
<a name="ln-2642"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerCapFT</span>          <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller capacity curve output value</span>
<a name="ln-2643"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerEIRFT</span>          <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller EIRFT curve output value</span>
<a name="ln-2644"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerEIRFPLR</span>        <span class="o">=</span> <span class="mf">0.0d0</span> <span class="c">! reporting: Chiller EIRFPLR curve output value</span>
<a name="ln-2645"></a><span class="c">!  REAL(r64)    :: CondenserFanPowerUse  = 0.0d0 ! reporting: Air-cooled condenser fan power [W]</span>
<a name="ln-2646"></a><span class="c">!  REAL(r64)    :: CondenserFanEnergyConsumption = 0.0d0 ! reporting: Air-cooled condenser fan energy [J]</span>
<a name="ln-2647"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">ChillerCondAvgTemp</span>    <span class="o">=</span> <span class="mf">0.d0</span>  <span class="c">! reporting: average condenser temp for curves with Heat recovery [C]</span>
<a name="ln-2648"></a><span class="k">END TYPE </span><span class="n">ReportVars</span>
<a name="ln-2649"></a>
<a name="ln-2650"></a>
<a name="ln-2651"></a><span class="k">TYPE</span> <span class="p">(</span><span class="n">ReformulatedEIRChillerSpecs</span><span class="p">),</span> <span class="k">ALLOCATABLE</span><span class="p">,</span> <span class="k">DIMENSION</span><span class="p">(:)</span>  <span class="kd">::</span> <span class="n">ElecReformEIRChiller</span>  <span class="c">! dimension to number of machines</span>
<a name="ln-2652"></a>
<a name="ln-2653"></a><span class="k">TYPE</span><span class="p">(</span><span class="n">ReportVars</span><span class="p">),</span> <span class="k">ALLOCATABLE</span><span class="p">,</span> <span class="k">DIMENSION</span><span class="p">(:)</span> <span class="kd">::</span><span class="n">ElecReformEIRChillerReport</span>
<a name="ln-2654"></a><span class="kt">LOGICAL</span>   <span class="kd">::</span> <span class="n">GetInputREIR</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span><span class="c">! When TRUE, calls subroutine to read input file</span>
<a name="ln-2655"></a>
<a name="ln-2656"></a>          <span class="c">! SUBROUTINE SPECIFICATIONS FOR MODULE ChillerReformulatedEIR</span>
<a name="ln-2657"></a><span class="k">PUBLIC   </span><span class="n">SimReformulatedEIRChiller</span>
<a name="ln-2658"></a><span class="k">PRIVATE  </span><span class="n">GetElecReformEIRChillerInput</span>
<a name="ln-2659"></a><span class="k">PRIVATE  </span><span class="n">InitElecReformEIRChiller</span>
<a name="ln-2660"></a><span class="k">PRIVATE  </span><span class="n">SizeElecReformEIRChiller</span>
<a name="ln-2661"></a><span class="k">PRIVATE  </span><span class="n">ControlReformEIRChillerModel</span>
<a name="ln-2662"></a><span class="k">PRIVATE  </span><span class="n">CalcReformEIRChillerModel</span>
<a name="ln-2663"></a><span class="k">PRIVATE  </span><span class="n">UpdateReformEIRChillerRecords</span>
<a name="ln-2664"></a><span class="k">PRIVATE  </span><span class="n">ReformEIRChillerHeatRecovery</span>
<a name="ln-2665"></a><span class="k">PRIVATE  </span><span class="n">CondOutTempResidual</span>
<a name="ln-2666"></a><span class="k">PRIVATE  </span><span class="n">CheckMinMaxCurveBoundaries</span>
<a name="ln-2667"></a>
<a name="ln-2668"></a><span class="k">CONTAINS</span>
<a name="ln-2669"></a>          <span class="c">! MODULE SUBROUTINES:</span>
<a name="ln-2670"></a>
<a name="ln-2671"></a><span class="c">! Beginning of Reformulated EIR Chiller Module Driver Subroutine</span>
<a name="ln-2672"></a><span class="c">!*************************************************************************</span>
<a name="ln-2673"></a>
<a name="ln-2674"></a><span class="k">SUBROUTINE </span><span class="n">SimReformulatedEIRChiller</span><span class="p">(</span><span class="n">EIRChillerType</span><span class="p">,</span><span class="n">EIRChillerName</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">,</span> <span class="n">CompIndex</span><span class="p">,</span><span class="n">LoopNum</span><span class="p">,</span><span class="n">RunFlag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2675"></a>                              <span class="n">InitLoopEquip</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">MaxCap</span><span class="p">,</span><span class="n">MinCap</span><span class="p">,</span><span class="n">OptCap</span><span class="p">,</span><span class="n">GetSizingFactor</span><span class="p">,</span><span class="n">SizingFactor</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-2676"></a>                              <span class="n">TempCondInDesign</span><span class="p">,</span><span class="n">TempEvapOutDesign</span> <span class="p">)</span>
<a name="ln-2677"></a>          <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-2678"></a>          <span class="c">!       AUTHOR         Lixing Gu</span>
<a name="ln-2679"></a>          <span class="c">!       DATE WRITTEN   July 2004</span>
<a name="ln-2680"></a>          <span class="c">!       MODIFIED       na</span>
<a name="ln-2681"></a>          <span class="c">!       RE-ENGINEERED  na</span>
<a name="ln-2682"></a>
<a name="ln-2683"></a>          <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-2684"></a>          <span class="c">!  This is the reformulated EIR chiller model driver. It gets the input for the</span>
<a name="ln-2685"></a>          <span class="c">!  models, initializes simulation variables, calls the appropriate model and sets</span>
<a name="ln-2686"></a>          <span class="c">!  up reporting variables.</span>
<a name="ln-2687"></a>
<a name="ln-2688"></a>          <span class="c">! METHODOLOGY EMPLOYED: na</span>
<a name="ln-2689"></a>
<a name="ln-2690"></a>          <span class="c">! REFERENCES: na</span>
<a name="ln-2691"></a>
<a name="ln-2692"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-2693"></a>  <span class="k">USE </span><span class="n">DataInterfaces</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">ShowFatalError</span>
<a name="ln-2694"></a>  <span class="k">USE </span><span class="n">InputProcessor</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">FindItemInList</span>
<a name="ln-2695"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">UpdateChillerComponentCondenserSide</span><span class="p">,</span> <span class="n">UpdateComponentHeatRecoverySide</span>
<a name="ln-2696"></a>  <span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>      <span class="n">ONLY</span> <span class="p">:</span> <span class="n">TypeOf_Chiller_ElectricReformEIR</span>
<a name="ln-2697"></a>  <span class="k">USE </span><span class="n">DataSizing</span><span class="p">,</span>     <span class="n">ONLY</span> <span class="p">:</span> <span class="n">CurLoopNum</span>
<a name="ln-2698"></a>
<a name="ln-2699"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-2700"></a>
<a name="ln-2701"></a>
<a name="ln-2702"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-2703"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span> <span class="kd">::</span> <span class="n">EIRChillerType</span>   <span class="c">! Type of chiller !unused1208</span>
<a name="ln-2704"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span> <span class="kd">::</span> <span class="n">EIRChillerName</span>   <span class="c">! User specified name of chiller</span>
<a name="ln-2705"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">EquipFlowCtrl</span>    <span class="c">! Flow control mode for the equipment</span>
<a name="ln-2706"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">RunFlag</span>          <span class="c">! Simulate chiller when TRUE</span>
<a name="ln-2707"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">FirstIteration</span>   <span class="c">! Initialize variables when TRUE</span>
<a name="ln-2708"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>       <span class="kd">::</span> <span class="n">InitLoopEquip</span>    <span class="c">! If not zero, calculate the max load for operating conditions</span>
<a name="ln-2709"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">MyLoad</span>           <span class="c">! Loop demand component will meet [W]</span>
<a name="ln-2710"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">MinCap</span>           <span class="c">! Minimum operating capacity of chiller [W]</span>
<a name="ln-2711"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">MaxCap</span>           <span class="c">! Maximum operating capacity of chiller [W]</span>
<a name="ln-2712"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">OptCap</span>           <span class="c">! Optimal operating capacity of chiller [W]</span>
<a name="ln-2713"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>       <span class="kd">::</span> <span class="n">CompIndex</span>        <span class="c">! Chiller number pointer</span>
<a name="ln-2714"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">LoopNum</span>          <span class="c">! plant loop index pointer</span>
<a name="ln-2715"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">GetSizingFactor</span>  <span class="c">! TRUE when just the sizing factor is requested</span>
<a name="ln-2716"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">SizingFactor</span>     <span class="c">! sizing factor</span>
<a name="ln-2717"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">TempCondInDesign</span>
<a name="ln-2718"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">TempEvapOutDesign</span>
<a name="ln-2719"></a>
<a name="ln-2720"></a>
<a name="ln-2721"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-2722"></a>          <span class="c">! na</span>
<a name="ln-2723"></a>
<a name="ln-2724"></a>          <span class="c">! INTERFACE BLOCK SPECIFICATIONS:</span>
<a name="ln-2725"></a>          <span class="c">! na</span>
<a name="ln-2726"></a>
<a name="ln-2727"></a>          <span class="c">! DERIVED TYPE DEFINITIONS:</span>
<a name="ln-2728"></a>          <span class="c">! na</span>
<a name="ln-2729"></a>
<a name="ln-2730"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-2731"></a>  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">EIRChillNum</span>
<a name="ln-2732"></a>  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">LoopSide</span>
<a name="ln-2733"></a>
<a name="ln-2734"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">GetInputREIR</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2735"></a><span class="k">    CALL </span><span class="n">GetElecReformEIRChillerInput</span>
<a name="ln-2736"></a>    <span class="n">GetInputREIR</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-2737"></a>  <span class="k">END IF</span>
<a name="ln-2738"></a>
<a name="ln-2739"></a>    <span class="c">! Find the correct Chiller</span>
<a name="ln-2740"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">CompIndex</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2741"></a><span class="k">    </span><span class="n">EIRChillNum</span> <span class="o">=</span> <span class="n">FindItemInList</span><span class="p">(</span><span class="n">EIRChillerName</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">%</span><span class="n">Name</span><span class="p">,</span><span class="n">NumElecReformEIRChillers</span><span class="p">)</span>
<a name="ln-2742"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">EIRChillNum</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2743"></a><span class="k">      CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;SimReformulatedEIRChiller: Specified Chiller not one of Valid Reformulated EIR Electric Chillers=&#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-2744"></a>         <span class="nb">TRIM</span><span class="p">(</span><span class="n">EIRChillerName</span><span class="p">))</span>
<a name="ln-2745"></a>    <span class="n">ENDIF</span>
<a name="ln-2746"></a>    <span class="n">CompIndex</span><span class="o">=</span><span class="n">EIRChillNum</span>
<a name="ln-2747"></a>  <span class="k">ELSE</span>
<a name="ln-2748"></a><span class="k">    </span><span class="n">EIRChillNum</span><span class="o">=</span><span class="n">CompIndex</span>
<a name="ln-2749"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">EIRChillNum</span> <span class="o">&gt;</span> <span class="n">NumElecReformEIRChillers</span> <span class="p">.</span><span class="nb">or</span><span class="p">.</span> <span class="n">EIRChillNum</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2750"></a><span class="k">      CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;SimReformulatedEIRChiller:  Invalid CompIndex passed=&#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-2751"></a>                          <span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">))</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-2752"></a>                          <span class="s1">&#39;, Number of Units=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">NumElecReformEIRChillers</span><span class="p">))</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-2753"></a>                          <span class="s1">&#39;, Entered Unit name=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">EIRChillerName</span><span class="p">))</span>
<a name="ln-2754"></a>    <span class="n">ENDIF</span>
<a name="ln-2755"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">EIRChillerName</span> <span class="o">/=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2756"></a><span class="k">      CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;SimReformulatedEIRChiller: Invalid CompIndex passed=&#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-2757"></a>                          <span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">))</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-2758"></a>                          <span class="s1">&#39;, Unit name=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">EIRChillerName</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;, stored Unit Name for that index=&#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-2759"></a>                          <span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">))</span>
<a name="ln-2760"></a>    <span class="n">ENDIF</span>
<a name="ln-2761"></a>  <span class="n">ENDIF</span>
<a name="ln-2762"></a>
<a name="ln-2763"></a>
<a name="ln-2764"></a>
<a name="ln-2765"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">InitLoopEquip</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2766"></a><span class="k">    </span><span class="n">TempEvapOutDesign</span>  <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefEvapOut</span>
<a name="ln-2767"></a>    <span class="n">TempCondInDesign</span>   <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span>
<a name="ln-2768"></a>    <span class="k">CALL </span><span class="n">InitElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">RunFlag</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-2769"></a>    <span class="k">CALL </span><span class="n">SizeElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span>
<a name="ln-2770"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">LoopNum</span> <span class="o">==</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2771"></a><span class="k">      </span><span class="n">MinCap</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="o">*</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span>
<a name="ln-2772"></a>      <span class="n">MaxCap</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="o">*</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span>
<a name="ln-2773"></a>      <span class="n">OptCap</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="o">*</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">OptPartLoadRat</span>
<a name="ln-2774"></a>    <span class="k">ELSE</span>
<a name="ln-2775"></a><span class="k">      </span><span class="n">MinCap</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-2776"></a>      <span class="n">MaxCap</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-2777"></a>      <span class="n">OptCap</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-2778"></a>    <span class="n">ENDIF</span>
<a name="ln-2779"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">GetSizingFactor</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2780"></a><span class="k">      </span><span class="n">SizingFactor</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">SizFac</span>
<a name="ln-2781"></a>    <span class="k">END IF</span>
<a name="ln-2782"></a><span class="k">    RETURN</span>
<a name="ln-2783"></a><span class="k">  END IF</span>
<a name="ln-2784"></a>
<a name="ln-2785"></a><span class="k">  IF</span> <span class="p">(</span><span class="n">LoopNum</span> <span class="o">==</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2786"></a><span class="k">    CALL </span><span class="n">InitElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">RunFlag</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-2787"></a>    <span class="k">CALL </span><span class="n">ControlReformEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">)</span>
<a name="ln-2788"></a>    <span class="k">CALL </span><span class="n">UpdateReformEIRChillerRecords</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">RunFlag</span><span class="p">,</span><span class="n">EIRChillNum</span><span class="p">)</span>
<a name="ln-2789"></a>  <span class="n">ELSEIF</span> <span class="p">(</span><span class="n">LoopNum</span> <span class="o">==</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2790"></a><span class="k">    </span><span class="n">LoopSide</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span>
<a name="ln-2791"></a>    <span class="k">CALL </span><span class="n">UpdateChillerComponentCondenserSide</span><span class="p">(</span><span class="n">LoopNum</span><span class="p">,</span> <span class="n">LoopSide</span><span class="p">,</span> <span class="n">TypeOf_Chiller_ElectricReformEIR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2792"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-2793"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span><span class="p">,</span>    <span class="p">&amp;</span>
<a name="ln-2794"></a>                                     <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QCond</span><span class="p">,</span>          <span class="p">&amp;</span>
<a name="ln-2795"></a>                                     <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletTemp</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-2796"></a>                                     <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondOutletTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2797"></a>                                     <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Condmdot</span><span class="p">,</span> <span class="n">FirstIteration</span><span class="p">)</span>
<a name="ln-2798"></a>  <span class="n">ELSEIF</span> <span class="p">(</span><span class="n">LoopNum</span> <span class="o">==</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2799"></a><span class="k">    CALL </span><span class="n">UpdateComponentHeatRecoverySide</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">,</span>               <span class="p">&amp;</span>
<a name="ln-2800"></a>                                    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span><span class="p">,</span>           <span class="p">&amp;</span>
<a name="ln-2801"></a>                                    <span class="n">TypeOf_Chiller_ElectricReformEIR</span><span class="p">,</span>                           <span class="p">&amp;</span>
<a name="ln-2802"></a>                                    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-2803"></a>                                    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span><span class="p">,</span>    <span class="p">&amp;</span>
<a name="ln-2804"></a>                                    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QHeatRecovery</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-2805"></a>                                    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletTemp</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-2806"></a>                                    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecOutletTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2807"></a>                                    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecMassFlow</span> <span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-2808"></a>                                    <span class="n">FirstIteration</span><span class="p">)</span>
<a name="ln-2809"></a>  <span class="n">ENDIF</span>
<a name="ln-2810"></a>  <span class="k">RETURN</span>
<a name="ln-2811"></a>
<a name="ln-2812"></a><span class="k">END SUBROUTINE </span><span class="n">SimReformulatedEIRChiller</span>
<a name="ln-2813"></a>
<a name="ln-2814"></a><span class="c">! End Reformulated EIR Chiller Module Driver Subroutine</span>
<a name="ln-2815"></a><span class="c">!******************************************************************************</span>
<a name="ln-2816"></a>
<a name="ln-2817"></a><span class="k">SUBROUTINE </span><span class="n">GetElecReformEIRChillerInput</span>
<a name="ln-2818"></a>            <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-2819"></a>            <span class="c">!       AUTHOR:          Lixing Gu, FSEC</span>
<a name="ln-2820"></a>            <span class="c">!       DATE WRITTEN:    July 2006</span>
<a name="ln-2821"></a>
<a name="ln-2822"></a>            <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-2823"></a>            <span class="c">!  This routine will get the input required by the Reformulated Electric EIR Chiller model</span>
<a name="ln-2824"></a>
<a name="ln-2825"></a>            <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-2826"></a>            <span class="c">!</span>
<a name="ln-2827"></a>
<a name="ln-2828"></a>            <span class="c">! REFERENCES: na</span>
<a name="ln-2829"></a>
<a name="ln-2830"></a>            <span class="c">! USE STATEMENTS:</span>
<a name="ln-2831"></a>  <span class="k">USE </span><span class="n">DataInterfaces</span><span class="p">,</span>        <span class="n">ONLY</span><span class="p">:</span> <span class="n">ShowSevereError</span><span class="p">,</span> <span class="n">ShowWarningError</span><span class="p">,</span> <span class="n">ShowFatalError</span><span class="p">,</span> <span class="n">SetupOutputVariable</span><span class="p">,</span> <span class="n">ShowContinueError</span>
<a name="ln-2832"></a>  <span class="k">USE </span><span class="n">InputProcessor</span><span class="p">,</span>        <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetNumObjectsFound</span><span class="p">,</span> <span class="n">GetObjectItem</span><span class="p">,</span> <span class="n">VerifyName</span>
<a name="ln-2833"></a>  <span class="k">USE </span><span class="n">DataIPShortCuts</span>  <span class="c">! Data for field names, blank numerics</span>
<a name="ln-2834"></a>  <span class="k">USE </span><span class="n">BranchNodeConnections</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">TestCompSet</span>
<a name="ln-2835"></a>  <span class="k">USE </span><span class="n">NodeInputManager</span><span class="p">,</span>      <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetOnlySingleNode</span>
<a name="ln-2836"></a>  <span class="k">USE </span><span class="n">CurveManager</span><span class="p">,</span>          <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetCurveIndex</span>
<a name="ln-2837"></a>  <span class="k">USE </span><span class="n">FluidProperties</span><span class="p">,</span>       <span class="n">ONLY</span><span class="p">:</span> <span class="n">FindGlycol</span>
<a name="ln-2838"></a>  <span class="k">USE </span><span class="n">General</span><span class="p">,</span>               <span class="n">ONLY</span><span class="p">:</span> <span class="n">TrimSigDigits</span><span class="p">,</span> <span class="n">RoundSigDigits</span>
<a name="ln-2839"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span>        <span class="n">ONLY</span><span class="p">:</span> <span class="n">RegisterPlantCompDesignFlow</span>
<a name="ln-2840"></a>  <span class="k">USE </span><span class="n">GlobalNames</span><span class="p">,</span>           <span class="n">ONLY</span><span class="p">:</span> <span class="n">VerifyUniqueChillerName</span>
<a name="ln-2841"></a>  <span class="k">USE </span><span class="n">DataSizing</span><span class="p">,</span>            <span class="n">ONLY</span><span class="p">:</span> <span class="n">Autosize</span>
<a name="ln-2842"></a>  <span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>           <span class="n">ONLY</span><span class="p">:</span> <span class="n">AnyEnergyManagementSystemInModel</span>
<a name="ln-2843"></a>  <span class="k">USE </span><span class="n">ScheduleManager</span><span class="p">,</span>       <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetScheduleIndex</span>
<a name="ln-2844"></a>
<a name="ln-2845"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-2846"></a>
<a name="ln-2847"></a>            <span class="c">! PARAMETERS</span>
<a name="ln-2848"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">RoutineName</span><span class="o">=</span><span class="s1">&#39;GetElecReformEIRChillerInput: &#39;</span> <span class="c">! include trailing blank space</span>
<a name="ln-2849"></a>
<a name="ln-2850"></a>            <span class="c">! LOCAL VARIABLES</span>
<a name="ln-2851"></a>  <span class="kt">INTEGER</span>                     <span class="kd">::</span> <span class="n">EIRChillerNum</span>             <span class="c">! Chiller counter</span>
<a name="ln-2852"></a>  <span class="kt">INTEGER</span>                     <span class="kd">::</span> <span class="n">NumAlphas</span>                 <span class="c">! Number of elements in the alpha array</span>
<a name="ln-2853"></a>  <span class="kt">INTEGER</span>                     <span class="kd">::</span> <span class="n">NumNums</span>                   <span class="c">! Number of elements in the numeric array</span>
<a name="ln-2854"></a>  <span class="kt">INTEGER</span>                     <span class="kd">::</span> <span class="n">IOStat</span>                    <span class="c">! IO Status when calling get input subroutine</span>
<a name="ln-2855"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">SAVE</span>               <span class="kd">::</span> <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.</span>       <span class="c">! True when input errors found</span>
<a name="ln-2856"></a>  <span class="kt">LOGICAL</span>                     <span class="kd">::</span> <span class="n">IsNotOK</span>                   <span class="c">! Flag to verify name</span>
<a name="ln-2857"></a>  <span class="kt">LOGICAL</span>                     <span class="kd">::</span> <span class="n">IsBlank</span>                   <span class="c">! Flag for blank name</span>
<a name="ln-2858"></a>  <span class="kt">LOGICAL</span>                     <span class="kd">::</span> <span class="n">errflag</span>                   <span class="c">! Error flag, used to tell if a unique chiller name has been specified</span>
<a name="ln-2859"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">SAVE</span>       <span class="kd">::</span> <span class="n">AllocatedFlag</span> <span class="o">=</span><span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! True when arrays are allocated</span>
<a name="ln-2860"></a>
<a name="ln-2861"></a>            <span class="c">! FLOW</span>
<a name="ln-2862"></a>
<a name="ln-2863"></a>  <span class="k">If</span> <span class="p">(</span><span class="n">AllocatedFlag</span><span class="p">)</span> <span class="k">RETURN</span>
<a name="ln-2864"></a>
<a name="ln-2865"></a><span class="k">  </span><span class="n">cCurrentModuleObject</span> <span class="o">=</span>  <span class="s1">&#39;Chiller:Electric:ReformulatedEIR&#39;</span>
<a name="ln-2866"></a>  <span class="n">NumElecReformEIRChillers</span> <span class="o">=</span> <span class="n">GetNumObjectsFound</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span>
<a name="ln-2867"></a>
<a name="ln-2868"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">NumElecReformEIRChillers</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2869"></a><span class="k">    CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;No &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; equipment specified in input file&#39;</span><span class="p">)</span>
<a name="ln-2870"></a>    <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-2871"></a>  <span class="k">END IF</span>
<a name="ln-2872"></a>
<a name="ln-2873"></a>  <span class="c">! ALLOCATE ARRAYS</span>
<a name="ln-2874"></a>  <span class="k">ALLOCATE</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">NumElecReformEIRChillers</span><span class="p">))</span>
<a name="ln-2875"></a>  <span class="k">ALLOCATE</span> <span class="p">(</span><span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">NumElecReformEIRChillers</span><span class="p">))</span>
<a name="ln-2876"></a>  <span class="n">AllocatedFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-2877"></a>
<a name="ln-2878"></a>  <span class="c">! Load arrays with reformulated electric EIR chiller data</span>
<a name="ln-2879"></a>  <span class="k">DO </span><span class="n">EIRChillerNum</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">,</span> <span class="n">NumElecReformEIRChillers</span>
<a name="ln-2880"></a>    <span class="k">CALL </span><span class="n">GetObjectItem</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">,</span><span class="n">EIRChillerNum</span><span class="p">,</span><span class="n">cAlphaArgs</span><span class="p">,</span><span class="n">NumAlphas</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2881"></a>                    <span class="n">rNumericArgs</span><span class="p">,</span><span class="n">NumNums</span><span class="p">,</span><span class="n">IOSTAT</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-2882"></a>                    <span class="n">AlphaBlank</span><span class="o">=</span><span class="n">lAlphaFieldBlanks</span><span class="p">,</span><span class="n">NumBlank</span><span class="o">=</span><span class="n">lNumericFieldBlanks</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2883"></a>                    <span class="n">AlphaFieldnames</span><span class="o">=</span><span class="n">cAlphaFieldNames</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2884"></a>                    <span class="n">NumericFieldNames</span><span class="o">=</span><span class="n">cNumericFieldNames</span><span class="p">)</span>
<a name="ln-2885"></a>    <span class="n">IsNotOK</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.</span>
<a name="ln-2886"></a>    <span class="n">IsBlank</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.</span>
<a name="ln-2887"></a>    <span class="k">CALL </span><span class="n">VerifyName</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">ElecReformEIRChiller</span><span class="p">%</span><span class="n">Name</span><span class="p">,</span><span class="n">EIRChillerNum</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">IsNotOK</span><span class="p">,</span><span class="n">IsBlank</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-2888"></a>                                <span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; Name&#39;</span><span class="p">)</span>
<a name="ln-2889"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">IsNotOK</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2890"></a><span class="k">      </span><span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-2891"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">IsBlank</span><span class="p">)</span> <span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="s1">&#39;xxxxx&#39;</span>
<a name="ln-2892"></a>    <span class="k">END IF</span>
<a name="ln-2893"></a><span class="k">    CALL </span><span class="n">VerifyUniqueChillerName</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">errflag</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; Name&#39;</span><span class="p">)</span>
<a name="ln-2894"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">errflag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2895"></a><span class="k">      </span><span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-2896"></a>    <span class="k">END IF</span>
<a name="ln-2897"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span>                <span class="o">=</span> <span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a name="ln-2898"></a>   <span class="c">! Performance curves</span>
<a name="ln-2899"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span>        <span class="o">=</span> <span class="n">GetCurveIndex</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<a name="ln-2900"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CAPFTName</span>           <span class="o">=</span> <span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<a name="ln-2901"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2902"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-2903"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<a name="ln-2904"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-2905"></a>    <span class="k">END IF</span>
<a name="ln-2906"></a>
<a name="ln-2907"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span>        <span class="o">=</span> <span class="n">GetCurveIndex</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<a name="ln-2908"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EIRFTName</span>           <span class="o">=</span> <span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a name="ln-2909"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2910"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-2911"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<a name="ln-2912"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-2913"></a>    <span class="k">END IF</span>
<a name="ln-2914"></a>
<a name="ln-2915"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EIRFPLRName</span>         <span class="o">=</span> <span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<a name="ln-2916"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span>      <span class="o">=</span> <span class="n">GetCurveIndex</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<a name="ln-2917"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2918"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-2919"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span>
<a name="ln-2920"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-2921"></a>    <span class="k">END IF</span>
<a name="ln-2922"></a>
<a name="ln-2923"></a>   <span class="c">! Chilled water inlet/outlet node names are necessary</span>
<a name="ln-2924"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2925"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-2926"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; is blank.&#39;</span><span class="p">)</span>
<a name="ln-2927"></a>      <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-2928"></a>    <span class="k">END IF</span>
<a name="ln-2929"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2930"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-2931"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; is blank.&#39;</span><span class="p">)</span>
<a name="ln-2932"></a>      <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-2933"></a>    <span class="k">END IF</span>
<a name="ln-2934"></a>
<a name="ln-2935"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span>    <span class="o">=</span> <span class="p">&amp;</span>
<a name="ln-2936"></a>               <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">&amp;</span>
<a name="ln-2937"></a>               <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Inlet</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-2938"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span>   <span class="o">=</span> <span class="p">&amp;</span>
<a name="ln-2939"></a>               <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">&amp;</span>
<a name="ln-2940"></a>               <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Outlet</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-2941"></a>    <span class="k">CALL </span><span class="n">TestCompSet</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="s1">&#39;Chilled Water Nodes&#39;</span><span class="p">)</span>
<a name="ln-2942"></a>
<a name="ln-2943"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">=</span> <span class="n">WaterCooled</span>
<a name="ln-2944"></a>
<a name="ln-2945"></a>    <span class="c">! Condenser inlet/outlet node names are necessary</span>
<a name="ln-2946"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2947"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-2948"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; is blank.&#39;</span><span class="p">)</span>
<a name="ln-2949"></a>      <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-2950"></a>    <span class="k">END IF</span>
<a name="ln-2951"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2952"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-2953"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; is blank.&#39;</span><span class="p">)</span>
<a name="ln-2954"></a>      <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-2955"></a>    <span class="k">END IF</span>
<a name="ln-2956"></a>
<a name="ln-2957"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>    <span class="o">=</span> <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-2958"></a>             <span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Inlet</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-2959"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>   <span class="o">=</span> <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-2960"></a>             <span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Outlet</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-2961"></a>
<a name="ln-2962"></a>    <span class="k">CALL </span><span class="n">TestCompSet</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="s1">&#39;Condenser Water Nodes&#39;</span><span class="p">)</span>
<a name="ln-2963"></a>
<a name="ln-2964"></a>    <span class="k">SELECT CASE</span> <span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">9</span><span class="p">)))</span>
<a name="ln-2965"></a>    <span class="k">CASE</span> <span class="p">(</span> <span class="s1">&#39;CONSTANTFLOW&#39;</span> <span class="p">)</span>
<a name="ln-2966"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">=</span> <span class="n">ConstantFlow</span>
<a name="ln-2967"></a>    <span class="k">CASE</span> <span class="p">(</span> <span class="s1">&#39;VARIABLEFLOW&#39;</span> <span class="p">)</span>
<a name="ln-2968"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">=</span> <span class="n">LeavingSetpointModulated</span>
<a name="ln-2969"></a>      <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;,&#39;</span><span class="p">)</span>
<a name="ln-2970"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">9</span><span class="p">)))</span>
<a name="ln-2971"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Key choice is now called &quot;LeavingSetpointModulated&quot; and the simulation continues&#39;</span><span class="p">)</span>
<a name="ln-2972"></a>    <span class="k">CASE</span> <span class="p">(</span><span class="s1">&#39;LEAVINGSETPOINTMODULATED&#39;</span><span class="p">)</span>
<a name="ln-2973"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">=</span> <span class="n">LeavingSetpointModulated</span>
<a name="ln-2974"></a>    <span class="k">CASE</span> <span class="p">(</span><span class="s1">&#39;NOTMODULATED&#39;</span><span class="p">)</span>
<a name="ln-2975"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">=</span> <span class="n">NotModulated</span>
<a name="ln-2976"></a>    <span class="k">CASE </span><span class="n">DEFAULT</span>
<a name="ln-2977"></a>      <span class="k">CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;,&#39;</span><span class="p">)</span>
<a name="ln-2978"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">9</span><span class="p">)))</span>
<a name="ln-2979"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Available choices are ConstantFlow, NotModulated, or LeavingSetpointModulated&#39;</span><span class="p">)</span>
<a name="ln-2980"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Flow mode NotModulated is assumed and the simulation continues.&#39;</span><span class="p">)</span>
<a name="ln-2981"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">=</span> <span class="n">NotModulated</span>
<a name="ln-2982"></a>    <span class="k">END SELECT</span>
<a name="ln-2983"></a>
<a name="ln-2984"></a>
<a name="ln-2985"></a><span class="c">!   Chiller rated performance data</span>
<a name="ln-2986"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">RefCap</span>                 <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a name="ln-2987"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2988"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-2989"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="mi">2</span><span class="p">)))</span>
<a name="ln-2990"></a>      <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-2991"></a>    <span class="k">END IF</span>
<a name="ln-2992"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">RefCOP</span>                 <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<a name="ln-2993"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-2994"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-2995"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">)))</span>
<a name="ln-2996"></a>      <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-2997"></a>    <span class="k">END IF</span>
<a name="ln-2998"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">TempRefEvapOut</span>         <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a name="ln-2999"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">TempRefCondOut</span>         <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<a name="ln-3000"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span>        <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<a name="ln-3001"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span>        <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<a name="ln-3002"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span>         <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<a name="ln-3003"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span>         <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<a name="ln-3004"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">OptPartLoadRat</span>         <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<a name="ln-3005"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinUnLoadRat</span>           <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<a name="ln-3006"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">SizFac</span>                 <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span>
<a name="ln-3007"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">SizFac</span> <span class="o">&lt;=</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">SizFac</span> <span class="o">=</span> <span class="mf">1.0d0</span>
<a name="ln-3008"></a>
<a name="ln-3009"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3010"></a><span class="k">       CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-3011"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; [&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;] &gt; &#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-3012"></a>                              <span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; [&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;]&#39;</span><span class="p">)</span>
<a name="ln-3013"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Minimum part load ratio must be less than or equal to the &#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-3014"></a>                              <span class="s1">&#39;maximum part load ratio &#39;</span><span class="p">)</span>
<a name="ln-3015"></a>       <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-3016"></a>    <span class="k">END IF</span>
<a name="ln-3017"></a>
<a name="ln-3018"></a><span class="k">    IF</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinUnLoadRat</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3019"></a>       <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinUnLoadRat</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3020"></a><span class="k">       CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-3021"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span> <span class="p">)</span>
<a name="ln-3022"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be greater than or equal to the &#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-3023"></a>                              <span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">7</span><span class="p">)))</span>
<a name="ln-3024"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be less than or equal to the &#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-3025"></a>                              <span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">8</span><span class="p">)))</span>
<a name="ln-3026"></a>       <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-3027"></a>    <span class="k">END IF</span>
<a name="ln-3028"></a>
<a name="ln-3029"></a><span class="k">    IF</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">OptPartLoadRat</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3030"></a>       <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">OptPartLoadRat</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3031"></a><span class="k">       CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-3032"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span> <span class="p">)</span>
<a name="ln-3033"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be greater than or equal to the &#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-3034"></a>                              <span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">7</span><span class="p">)))</span>
<a name="ln-3035"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be less than or equal to the &#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-3036"></a>                              <span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">8</span><span class="p">)))</span>
<a name="ln-3037"></a>       <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-3038"></a>    <span class="k">END IF</span>
<a name="ln-3039"></a>
<a name="ln-3040"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span> <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<a name="ln-3041"></a>
<a name="ln-3042"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.0d0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3043"></a>       <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">1.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3044"></a><span class="k">       CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-3045"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">11</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span> <span class="p">)</span>
<a name="ln-3046"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">11</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be greater than or equal to zero&#39;</span> <span class="p">)</span>
<a name="ln-3047"></a>       <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cNumericFieldNames</span><span class="p">(</span><span class="mi">11</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; must be less than or equal to one&#39;</span> <span class="p">)</span>
<a name="ln-3048"></a>       <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-3049"></a>    <span class="k">END IF</span>
<a name="ln-3050"></a>
<a name="ln-3051"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">TempLowLimitEvapOut</span>    <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<a name="ln-3052"></a>
<a name="ln-3053"></a>   <span class="c">! These are the optional heat recovery inputs</span>
<a name="ln-3054"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span> <span class="o">=</span> <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<a name="ln-3055"></a>    <span class="k">IF</span> <span class="p">((</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span> <span class="o">&gt;</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="p">&amp;</span>
<a name="ln-3056"></a>        <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span> <span class="o">==</span> <span class="n">Autosize</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-3057"></a><span class="k">      </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-3058"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span>   <span class="o">=</span> <span class="p">&amp;</span>
<a name="ln-3059"></a>               <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">&amp;</span>
<a name="ln-3060"></a>               <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Inlet</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-3061"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3062"></a><span class="k">        CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-3063"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
<a name="ln-3064"></a>        <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-3065"></a>      <span class="k">END IF</span>
<a name="ln-3066"></a><span class="k">      </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span>   <span class="o">=</span> <span class="p">&amp;</span>
<a name="ln-3067"></a>               <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span><span class="n">ErrorsFound</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">&amp;</span>
<a name="ln-3068"></a>               <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Outlet</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-3069"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3070"></a><span class="k">        CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-3071"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">11</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">11</span><span class="p">)))</span>
<a name="ln-3072"></a>        <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-3073"></a>      <span class="k">END IF</span>
<a name="ln-3074"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3075"></a><span class="k">        CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-3076"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Heat Recovery requires a Water Cooled Condenser.&#39;</span><span class="p">)</span>
<a name="ln-3077"></a>        <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-3078"></a>      <span class="k">END IF</span>
<a name="ln-3079"></a>
<a name="ln-3080"></a><span class="k">      CALL </span><span class="n">TestCompSet</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span><span class="s1">&#39;Heat Recovery Nodes&#39;</span><span class="p">)</span>
<a name="ln-3081"></a>
<a name="ln-3082"></a>      <span class="k">If</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span> <span class="o">&gt;</span> <span class="mf">0.d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3083"></a><span class="k">        Call </span><span class="n">RegisterPlantCompDesignFlow</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3084"></a>                                  <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span> <span class="p">)</span>
<a name="ln-3085"></a>      <span class="n">ENDIF</span>
<a name="ln-3086"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">NumNums</span> <span class="o">&gt;</span> <span class="mi">14</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3087"></a><span class="k">        IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">lNumericFieldBlanks</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-3088"></a><span class="k">          </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecCapacityFraction</span> <span class="o">=</span>  <span class="n">rNumericArgs</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<a name="ln-3089"></a>        <span class="k">ELSE</span>
<a name="ln-3090"></a><span class="k">          </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecCapacityFraction</span> <span class="o">=</span> <span class="mf">1.d0</span>
<a name="ln-3091"></a>        <span class="n">ENDIf</span>
<a name="ln-3092"></a>      <span class="k">ELSE</span>
<a name="ln-3093"></a><span class="k">        </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecCapacityFraction</span> <span class="o">=</span> <span class="mf">1.d0</span>
<a name="ln-3094"></a>      <span class="n">ENDIF</span>
<a name="ln-3095"></a>
<a name="ln-3096"></a>      <span class="k">If</span> <span class="p">(</span><span class="n">NumAlphas</span> <span class="o">&gt;</span> <span class="mi">11</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3097"></a><span class="k">        IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-3098"></a><span class="k">          </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span> <span class="o">=</span> <span class="n">GetScheduleIndex</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<a name="ln-3099"></a>          <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3100"></a><span class="k">            CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-3101"></a>            <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Invalid &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaFieldNames</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">12</span><span class="p">)))</span>
<a name="ln-3102"></a>            <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-3103"></a>          <span class="n">ENDIF</span>
<a name="ln-3104"></a>        <span class="k">ELSE</span>
<a name="ln-3105"></a><span class="k">          </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-3106"></a>        <span class="n">ENDIF</span>
<a name="ln-3107"></a>      <span class="k">ELSE</span>
<a name="ln-3108"></a><span class="k">        </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-3109"></a>      <span class="n">ENDIF</span>
<a name="ln-3110"></a>
<a name="ln-3111"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">NumAlphas</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3112"></a><span class="k">        IF</span> <span class="p">(</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">13</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-3113"></a><span class="k">          </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span> <span class="o">=</span> <span class="p">&amp;</span>
<a name="ln-3114"></a>              <span class="n">GetOnlySingleNode</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">13</span><span class="p">),</span> <span class="n">ErrorsFound</span><span class="p">,</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">),</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">&amp;</span>
<a name="ln-3115"></a>                             <span class="n">NodeType_Water</span><span class="p">,</span><span class="n">NodeConnectionType_Sensor</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ObjectIsNotParent</span><span class="p">)</span>
<a name="ln-3116"></a>        <span class="k">ELSE</span>
<a name="ln-3117"></a><span class="k">          </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-3118"></a>        <span class="n">ENDIF</span>
<a name="ln-3119"></a>      <span class="k">ELSE</span>
<a name="ln-3120"></a><span class="k">        </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-3121"></a>      <span class="n">ENDIF</span>
<a name="ln-3122"></a>
<a name="ln-3123"></a>    <span class="k">ELSE</span>
<a name="ln-3124"></a><span class="k">      </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="o">=</span><span class="p">.</span><span class="n">False</span><span class="p">.</span>
<a name="ln-3125"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">DesignHeatRecMassFlowRate</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-3126"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span>   <span class="o">=</span> <span class="mi">0</span>
<a name="ln-3127"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span>   <span class="o">=</span> <span class="mi">0</span>
<a name="ln-3128"></a>      <span class="k">IF</span> <span class="p">((.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">lAlphaFieldBlanks</span><span class="p">(</span><span class="mi">11</span><span class="p">))</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3129"></a><span class="k">        CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="n">RoutineName</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cAlphaArgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<a name="ln-3130"></a>        <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Since Reference Heat Reclaim Volume Flow Rate = 0.0, heat recovery is inactive.&#39;</span><span class="p">)</span>
<a name="ln-3131"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;However, node names were specified for heat recovery inlet or outlet nodes.&#39;</span><span class="p">)</span>
<a name="ln-3132"></a>      <span class="k">END IF</span>
<a name="ln-3133"></a><span class="k">    END IF</span>
<a name="ln-3134"></a>
<a name="ln-3135"></a><span class="k">  END DO</span>
<a name="ln-3136"></a>
<a name="ln-3137"></a><span class="k">  IF</span> <span class="p">(</span><span class="n">ErrorsFound</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3138"></a><span class="k">    CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;Errors found in processing input for &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">cCurrentModuleObject</span><span class="p">))</span>
<a name="ln-3139"></a>  <span class="k">END IF</span>
<a name="ln-3140"></a>
<a name="ln-3141"></a><span class="k">  DO </span><span class="n">EIRChillerNum</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">NumElecReformEIRChillers</span>
<a name="ln-3142"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Part Load Ratio []&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3143"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerPartLoadRatio</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3144"></a>                <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3145"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Cycling Ratio []&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3146"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCyclingRatio</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3147"></a>                <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3148"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Electric Power [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3149"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Power</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3150"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Electric Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3151"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Energy</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3152"></a>                               <span class="n">ResourceTypeKey</span><span class="o">=</span><span class="s1">&#39;ELECTRICITY&#39;</span><span class="p">,</span><span class="n">EndUseKey</span><span class="o">=</span><span class="s1">&#39;Cooling&#39;</span><span class="p">,</span><span class="n">GroupKey</span><span class="o">=</span><span class="s1">&#39;Plant&#39;</span><span class="p">)</span>
<a name="ln-3153"></a>
<a name="ln-3154"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Evaporator Cooling Rate [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3155"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">QEvap</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3156"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Evaporator Cooling Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3157"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapEnergy</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3158"></a>                               <span class="n">ResourceTypeKey</span><span class="o">=</span><span class="s1">&#39;ENERGYTRANSFER&#39;</span><span class="p">,</span><span class="n">EndUseKey</span><span class="o">=</span><span class="s1">&#39;CHILLERS&#39;</span><span class="p">,</span><span class="n">GroupKey</span><span class="o">=</span><span class="s1">&#39;Plant&#39;</span><span class="p">)</span>
<a name="ln-3159"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller False Load Heat Transfer Rate [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3160"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerFalseLoadRate</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3161"></a>                <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3162"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller False Load Heat Transfer Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3163"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerFalseLoad</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3164"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Evaporator Inlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3165"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapInletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3166"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Evaporator Outlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3167"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EvapOutletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3168"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Evaporator Mass Flow Rate [kg/s]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3169"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Evapmdot</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3170"></a>
<a name="ln-3171"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Heat Transfer Rate [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3172"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">QCond</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3173"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Heat Transfer Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3174"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondEnergy</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3175"></a>                               <span class="n">ResourceTypeKey</span><span class="o">=</span><span class="s1">&#39;ENERGYTRANSFER&#39;</span><span class="p">,</span><span class="n">EndUseKey</span><span class="o">=</span><span class="s1">&#39;HEATREJECTION&#39;</span><span class="p">,</span><span class="n">GroupKey</span><span class="o">=</span><span class="s1">&#39;Plant&#39;</span><span class="p">)</span>
<a name="ln-3176"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller COP [W/W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3177"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ActualCOP</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3178"></a>
<a name="ln-3179"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Capacity Temperature Modifier Multiplier []&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3180"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3181"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller EIR Temperature Modifier Multiplier []&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3182"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3183"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller EIR Part Load Modifier Multiplier []&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3184"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3185"></a>
<a name="ln-3186"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Inlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3187"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondInletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3188"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Outlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3189"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">CondOutletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3190"></a>     <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Condenser Mass Flow Rate [kg/s]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3191"></a>          <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Condmdot</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3192"></a>
<a name="ln-3193"></a>     <span class="c">! If heat recovery is active then setup report variables</span>
<a name="ln-3194"></a>     <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3195"></a><span class="k">         CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Total Recovered Heat Rate [W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3196"></a>           <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">QHeatRecovery</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3197"></a>         <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Total Recovered Heat Energy [J]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3198"></a>           <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">EnergyHeatRecovery</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3199"></a>           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3200"></a>           <span class="n">ResourceTypeKey</span><span class="o">=</span><span class="s1">&#39;ENERGYTRANSFER&#39;</span><span class="p">,</span><span class="n">EndUseKey</span><span class="o">=</span><span class="s1">&#39;HEATRECOVERY&#39;</span><span class="p">,</span><span class="n">GroupKey</span><span class="o">=</span><span class="s1">&#39;Plant&#39;</span><span class="p">)</span>
<a name="ln-3201"></a>         <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Heat Recovery Inlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3202"></a>           <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecInletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3203"></a>           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3204"></a>         <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Heat Recovery Outlet Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3205"></a>           <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecOutletTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3206"></a>           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3207"></a>         <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Heat Recovery Mass Flow Rate [kg/s]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3208"></a>           <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">HeatRecMassFlow</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3209"></a>           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3210"></a>         <span class="k">CALL </span><span class="n">SetupOutputVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Effective Heat Rejection Temperature [C]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3211"></a>           <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">ChillerCondAvgTemp</span><span class="p">,</span><span class="s1">&#39;System&#39;</span><span class="p">,</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3212"></a>           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span>
<a name="ln-3213"></a>     <span class="k">END IF</span>
<a name="ln-3214"></a>
<a name="ln-3215"></a><span class="k">     IF</span> <span class="p">(</span><span class="n">AnyEnergyManagementSystemInModel</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3216"></a><span class="k">       CALL </span><span class="n">SetupEMSInternalVariable</span><span class="p">(</span><span class="s1">&#39;Chiller Nominal Capacity&#39;</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="s1">&#39;[W]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3217"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillerNum</span><span class="p">)%</span><span class="n">RefCap</span>  <span class="p">)</span>
<a name="ln-3218"></a>     <span class="n">ENDIF</span>
<a name="ln-3219"></a>
<a name="ln-3220"></a>  <span class="k">END DO</span>
<a name="ln-3221"></a>
<a name="ln-3222"></a><span class="k">RETURN</span>
<a name="ln-3223"></a>
<a name="ln-3224"></a><span class="k">END SUBROUTINE </span><span class="n">GetElecReformEIRChillerInput</span>
<a name="ln-3225"></a>
<a name="ln-3226"></a><span class="k">SUBROUTINE </span><span class="n">InitElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span> <span class="n">RunFlag</span><span class="p">,</span> <span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-3227"></a>
<a name="ln-3228"></a>          <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-3229"></a>          <span class="c">!       AUTHOR         Lixing Gu, FSEC</span>
<a name="ln-3230"></a>          <span class="c">!       DATE WRITTEN   July 2006</span>
<a name="ln-3231"></a>          <span class="c">!       MODIFIED       na</span>
<a name="ln-3232"></a>          <span class="c">!       RE-ENGINEERED  na</span>
<a name="ln-3233"></a>
<a name="ln-3234"></a>          <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-3235"></a>          <span class="c">!  This subroutine is for initializations of the Reformulated Electric EIR Chiller variables</span>
<a name="ln-3236"></a>
<a name="ln-3237"></a>          <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-3238"></a>          <span class="c">!  Uses the status flags to trigger initializations.</span>
<a name="ln-3239"></a>
<a name="ln-3240"></a>          <span class="c">! REFERENCES:</span>
<a name="ln-3241"></a>          <span class="c">!  na</span>
<a name="ln-3242"></a>
<a name="ln-3243"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-3244"></a>  <span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>     <span class="n">ONLY</span> <span class="p">:</span> <span class="n">BeginEnvrnFlag</span><span class="p">,</span> <span class="n">AnyEnergyManagementSystemInModel</span>
<a name="ln-3245"></a>  <span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>       <span class="n">ONLY</span> <span class="p">:</span> <span class="n">PlantLoop</span><span class="p">,</span> <span class="n">TypeOf_Chiller_ElectricReformEIR</span><span class="p">,</span> <span class="n">ScanPlantLoopsForObject</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3246"></a>                              <span class="n">PlantSizesOkayToFinalize</span><span class="p">,</span> <span class="n">PlantSizeNotComplete</span><span class="p">,</span> <span class="n">LoopFlowStatus_NeedyIfLoopOn</span>
<a name="ln-3247"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">InterConnectTwoPlantLoopSides</span><span class="p">,</span> <span class="n">InitComponentNodes</span><span class="p">,</span> <span class="n">SetComponentFlowRate</span>
<a name="ln-3248"></a>  <span class="k">USE </span><span class="n">DataEnvironment</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">StdBaroPress</span>
<a name="ln-3249"></a>  <span class="k">USE </span><span class="n">EMSManager</span><span class="p">,</span>      <span class="n">ONLY</span> <span class="p">:</span> <span class="n">iTemperatureSetpoint</span><span class="p">,</span> <span class="n">CheckIfNodeSetpointManagedByEMS</span>
<a name="ln-3250"></a>  <span class="k">USE </span><span class="n">DataInterfaces</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">ShowFatalError</span><span class="p">,</span> <span class="n">ShowSevereError</span><span class="p">,</span> <span class="n">ShowContinueError</span>
<a name="ln-3251"></a>  <span class="k">USE </span><span class="n">ScheduleManager</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">GetCurrentScheduleValue</span>
<a name="ln-3252"></a>
<a name="ln-3253"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-3254"></a>
<a name="ln-3255"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-3256"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span> <span class="p">(</span><span class="n">IN</span><span class="p">)</span> <span class="kd">::</span> <span class="n">EIRChillNum</span>         <span class="c">! Number of the current electric EIR chiller being simulated</span>
<a name="ln-3257"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">RunFlag</span>             <span class="c">! TRUE when chiller operating</span>
<a name="ln-3258"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span> <span class="kd">::</span> <span class="n">MyLoad</span>              <span class="c">! Current load put on chiller</span>
<a name="ln-3259"></a>
<a name="ln-3260"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-3261"></a>          <span class="c">! na</span>
<a name="ln-3262"></a>
<a name="ln-3263"></a>          <span class="c">! INTERFACE BLOCK SPECIFICATIONS:</span>
<a name="ln-3264"></a>          <span class="c">!  na</span>
<a name="ln-3265"></a>
<a name="ln-3266"></a>          <span class="c">! DERIVED TYPE DEFINITIONS:</span>
<a name="ln-3267"></a>          <span class="c">!  na</span>
<a name="ln-3268"></a>
<a name="ln-3269"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-3270"></a>  <span class="kt">LOGICAL</span><span class="p">,</span><span class="k">SAVE</span>                             <span class="kd">::</span> <span class="n">MyOneTimeFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">true</span><span class="p">.</span> <span class="c">! One time logic flag for allocating MyEnvrnFlag array</span>
<a name="ln-3271"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">ALLOCATABLE</span><span class="p">,</span> <span class="k">SAVE</span><span class="p">,</span> <span class="k">DIMENSION</span><span class="p">(:)</span> <span class="kd">::</span> <span class="n">MyFlag</span>
<a name="ln-3272"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">ALLOCATABLE</span><span class="p">,</span> <span class="k">SAVE</span><span class="p">,</span> <span class="k">DIMENSION</span><span class="p">(:)</span> <span class="kd">::</span> <span class="n">MyEnvrnFlag</span>            <span class="c">! Logical array to initialize when appropriate</span>
<a name="ln-3273"></a>  <span class="kt">INTEGER</span>                                  <span class="kd">::</span> <span class="n">EvapInletNode</span>          <span class="c">! Node number for evaporator water inlet node</span>
<a name="ln-3274"></a>  <span class="kt">INTEGER</span>                                  <span class="kd">::</span> <span class="n">EvapOutletNode</span>         <span class="c">! Node number for evaporator water outlet node</span>
<a name="ln-3275"></a>  <span class="kt">INTEGER</span>                                  <span class="kd">::</span> <span class="n">CondInletNode</span>          <span class="c">! Node number for condenser water inlet node</span>
<a name="ln-3276"></a>  <span class="kt">INTEGER</span>                                  <span class="kd">::</span> <span class="n">CondOutletNode</span>         <span class="c">! Node number for condenser water outlet node</span>
<a name="ln-3277"></a>  <span class="kt">INTEGER</span>                                  <span class="kd">::</span> <span class="n">HeatRecInNode</span>          <span class="c">! Node number for heat recovery water inlet node</span>
<a name="ln-3278"></a>  <span class="kt">INTEGER</span>                                  <span class="kd">::</span> <span class="n">HeatRecOutNode</span>         <span class="c">! Node number for heat recovery water outlet node</span>
<a name="ln-3279"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                                <span class="kd">::</span> <span class="n">rho</span>                    <span class="c">! local fluid density</span>
<a name="ln-3280"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                                <span class="kd">::</span> <span class="n">mdot</span>                   <span class="c">! local fluid mass flow rate</span>
<a name="ln-3281"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                                <span class="kd">::</span> <span class="n">mdotCond</span>               <span class="c">! local fluid mass flow rate for condenser</span>
<a name="ln-3282"></a>  <span class="kt">INTEGER</span>                                  <span class="kd">::</span> <span class="n">LoopNum</span>
<a name="ln-3283"></a>  <span class="kt">INTEGER</span>                                  <span class="kd">::</span> <span class="n">LoopSideNum</span>
<a name="ln-3284"></a>  <span class="kt">INTEGER</span>                                  <span class="kd">::</span> <span class="n">BranchIndex</span>
<a name="ln-3285"></a>  <span class="kt">INTEGER</span>                                  <span class="kd">::</span> <span class="n">CompIndex</span>
<a name="ln-3286"></a>  <span class="kt">LOGICAL</span>                                  <span class="kd">::</span> <span class="n">FatalError</span>
<a name="ln-3287"></a>  <span class="kt">LOGICAL</span>                                  <span class="kd">::</span> <span class="n">errFlag</span>
<a name="ln-3288"></a>  <span class="kt">LOGICAL</span>                                  <span class="kd">::</span> <span class="n">HeatRecRunFlag</span>
<a name="ln-3289"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                                <span class="kd">::</span> <span class="n">HeatRecHighInletLimit</span>
<a name="ln-3290"></a>          <span class="c">! FLOW:</span>
<a name="ln-3291"></a>
<a name="ln-3292"></a>  <span class="c">! Do the one time initializations</span>
<a name="ln-3293"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">MyOneTimeFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3294"></a><span class="k">    ALLOCATE</span><span class="p">(</span><span class="n">MyEnvrnFlag</span><span class="p">(</span><span class="n">NumElecReformEIRChillers</span><span class="p">))</span>
<a name="ln-3295"></a>    <span class="k">ALLOCATE</span><span class="p">(</span><span class="n">MyFlag</span><span class="p">(</span><span class="n">NumElecReformEIRChillers</span><span class="p">))</span>
<a name="ln-3296"></a>    <span class="n">MyEnvrnFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3297"></a>    <span class="n">MyFlag</span><span class="o">=</span><span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3298"></a>    <span class="n">MyOneTimeFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">false</span><span class="p">.</span>
<a name="ln-3299"></a>  <span class="k">END IF</span>
<a name="ln-3300"></a>
<a name="ln-3301"></a>  <span class="c">! Initialize condenser nodes</span>
<a name="ln-3302"></a>  <span class="n">EvapInletNode</span>  <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span>
<a name="ln-3303"></a>  <span class="n">EvapOutletNode</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span>
<a name="ln-3304"></a>  <span class="n">CondInletNode</span>  <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>
<a name="ln-3305"></a>  <span class="n">CondOutletNode</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>
<a name="ln-3306"></a>
<a name="ln-3307"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3308"></a><span class="k">    </span><span class="n">HeatRecInNode</span>  <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span>
<a name="ln-3309"></a>    <span class="n">HeatRecOutNode</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span>
<a name="ln-3310"></a>  <span class="n">ENDIF</span>
<a name="ln-3311"></a>
<a name="ln-3312"></a>  <span class="c">! Init more variables</span>
<a name="ln-3313"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">MyFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-3314"></a>    <span class="c">! Locate the chillers on the plant loops for later usage</span>
<a name="ln-3315"></a>    <span class="n">errFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-3316"></a>    <span class="k">CALL </span><span class="n">ScanPlantLoopsForObject</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3317"></a>                                   <span class="n">TypeOf_Chiller_ElectricReformEIR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3318"></a>                                   <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3319"></a>                                   <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3320"></a>                                   <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,&amp;</span>
<a name="ln-3321"></a>                                   <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3322"></a>                                   <span class="n">LowLimitTemp</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempLowLimitEvapOut</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3323"></a>                                   <span class="n">InletNodeNumber</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3324"></a>                                   <span class="n">errFlag</span><span class="o">=</span><span class="n">errFlag</span><span class="p">)</span>
<a name="ln-3325"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">/=</span> <span class="n">AirCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3326"></a><span class="k">      CALL </span><span class="n">ScanPlantLoopsForObject</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3327"></a>                                     <span class="n">TypeOf_Chiller_ElectricReformEIR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3328"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3329"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3330"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDBranchNum</span><span class="p">,&amp;</span>
<a name="ln-3331"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDCompNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3332"></a>                                     <span class="n">InletNodeNumber</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3333"></a>                                     <span class="n">errFlag</span><span class="o">=</span><span class="n">errFlag</span><span class="p">)</span>
<a name="ln-3334"></a>      <span class="k">CALL </span><span class="n">InterConnectTwoPlantLoopSides</span><span class="p">(</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>      <span class="p">&amp;</span>
<a name="ln-3335"></a>                                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3336"></a>                                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span>      <span class="p">&amp;</span>
<a name="ln-3337"></a>                                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3338"></a>                                          <span class="n">TypeOf_Chiller_ElectricReformEIR</span><span class="p">,</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span> <span class="p">)</span>
<a name="ln-3339"></a>    <span class="n">ENDIF</span>
<a name="ln-3340"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3341"></a><span class="k">      CALL </span><span class="n">ScanPlantLoopsForObject</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3342"></a>                                     <span class="n">TypeOf_Chiller_ElectricReformEIR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3343"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3344"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3345"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRBranchNum</span><span class="p">,&amp;</span>
<a name="ln-3346"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRCompNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3347"></a>                                     <span class="n">InletNodeNumber</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3348"></a>                                     <span class="n">errFlag</span><span class="o">=</span><span class="n">errFlag</span><span class="p">)</span>
<a name="ln-3349"></a>      <span class="k">CALL </span><span class="n">InterConnectTwoPlantLoopSides</span><span class="p">(</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>      <span class="p">&amp;</span>
<a name="ln-3350"></a>                                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3351"></a>                                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">,</span>      <span class="p">&amp;</span>
<a name="ln-3352"></a>                                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3353"></a>                                          <span class="n">TypeOf_Chiller_ElectricReformEIR</span> <span class="p">,</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.)</span>
<a name="ln-3354"></a>    <span class="n">ENDIF</span>
<a name="ln-3355"></a>
<a name="ln-3356"></a>    <span class="k">IF</span> <span class="p">((</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">/=</span> <span class="n">AirCooled</span><span class="p">)</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3357"></a>        <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span>  <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3358"></a><span class="k">      CALL </span><span class="n">InterConnectTwoPlantLoopSides</span><span class="p">(</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span>      <span class="p">&amp;</span>
<a name="ln-3359"></a>                                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3360"></a>                                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">,</span>      <span class="p">&amp;</span>
<a name="ln-3361"></a>                                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3362"></a>                                          <span class="n">TypeOf_Chiller_ElectricReformEIR</span> <span class="p">,</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="p">)</span>
<a name="ln-3363"></a>    <span class="n">ENDIF</span>
<a name="ln-3364"></a>
<a name="ln-3365"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">errFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3366"></a><span class="k">      CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;InitElecReformEIRChiller: Program terminated due to previous condition(s).&#39;</span><span class="p">)</span>
<a name="ln-3367"></a>    <span class="n">ENDIF</span>
<a name="ln-3368"></a>
<a name="ln-3369"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">ConstantFlow</span><span class="p">)</span> <span class="k">Then</span>
<a name="ln-3370"></a>      <span class="c">! reset flow priority</span>
<a name="ln-3371"></a>      <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">)%</span> <span class="p">&amp;</span>
<a name="ln-3372"></a>          <span class="n">Branch</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)%</span><span class="n">FlowPriority</span> <span class="p">&amp;</span>
<a name="ln-3373"></a>              <span class="o">=</span> <span class="n">LoopFlowStatus_NeedyIfLoopOn</span>
<a name="ln-3374"></a>    <span class="n">ENDIF</span>
<a name="ln-3375"></a>
<a name="ln-3376"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="k">Then</span>
<a name="ln-3377"></a>      <span class="c">! reset flow priority</span>
<a name="ln-3378"></a>      <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">)%</span> <span class="p">&amp;</span>
<a name="ln-3379"></a>          <span class="n">Branch</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)%</span><span class="n">FlowPriority</span> <span class="p">&amp;</span>
<a name="ln-3380"></a>              <span class="o">=</span> <span class="n">LoopFlowStatus_NeedyIfLoopOn</span>
<a name="ln-3381"></a>      <span class="c">! check if setpoint on outlet node</span>
<a name="ln-3382"></a>      <span class="k">IF</span> <span class="p">((</span><span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span> <span class="o">==</span> <span class="n">SensedNodeFlagValue</span><span class="p">)</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3383"></a>          <span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span> <span class="o">==</span> <span class="n">SensedNodeFlagValue</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-3384"></a><span class="k">        IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">AnyEnergyManagementSystemInModel</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3385"></a><span class="k">          IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowErrDone</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3386"></a><span class="k">            CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Missing temperature setpoint for LeavingSetpointModulated mode chiller named &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-3387"></a>                                          <span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="p">)</span>
<a name="ln-3388"></a>            <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  A temperature setpoint is needed at the outlet node of a chiller &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-3389"></a>                                             <span class="s1">&#39;in variable flow mode, use a SetpointManager&#39;</span><span class="p">)</span>
<a name="ln-3390"></a>            <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  The overall loop setpoint will be assumed for chiller. The simulation continues ... &#39;</span><span class="p">)</span>
<a name="ln-3391"></a>            <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowErrDone</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3392"></a>          <span class="n">ENDIF</span>
<a name="ln-3393"></a>        <span class="k">ELSE</span>
<a name="ln-3394"></a>         <span class="c">! need call to EMS to check node</span>
<a name="ln-3395"></a>          <span class="n">FatalError</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span> <span class="c">! but not really fatal yet, but should be.</span>
<a name="ln-3396"></a>          <span class="k">CALL </span><span class="n">CheckIfNodeSetpointManagedByEMS</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">,</span><span class="n">iTemperatureSetpoint</span><span class="p">,</span> <span class="n">FatalError</span><span class="p">)</span>
<a name="ln-3397"></a>          <span class="k">IF</span> <span class="p">(</span><span class="n">FatalError</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3398"></a><span class="k">            IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowErrDone</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3399"></a><span class="k">              CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Missing temperature setpoint for LeavingSetpointModulated mode chiller named &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-3400"></a>                                          <span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="p">)</span>
<a name="ln-3401"></a>              <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  A temperature setpoint is needed at the outlet node of a chiller evaporator &#39;</span> <span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-3402"></a>                                             <span class="s1">&#39;in variable flow mode&#39;</span><span class="p">)</span>
<a name="ln-3403"></a>              <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  use a Setpoint Manager to establish a setpoint at the chiller evaporator outlet node &#39;</span><span class="p">)</span>
<a name="ln-3404"></a>              <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  or use an EMS actuator to establish a setpoint at the outlet node &#39;</span><span class="p">)</span>
<a name="ln-3405"></a>              <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;  The overall loop setpoint will be assumed for chiller. The simulation continues ... &#39;</span><span class="p">)</span>
<a name="ln-3406"></a>              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowErrDone</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3407"></a>            <span class="n">ENDIF</span>
<a name="ln-3408"></a>          <span class="n">ENDIF</span>
<a name="ln-3409"></a>
<a name="ln-3410"></a>
<a name="ln-3411"></a>        <span class="n">ENDIF</span>
<a name="ln-3412"></a>        <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowSetToLoop</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3413"></a>        <span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span> <span class="o">=</span>                        <span class="p">&amp;</span>
<a name="ln-3414"></a>          <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-3415"></a>        <span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span> <span class="o">=</span>                        <span class="p">&amp;</span>
<a name="ln-3416"></a>          <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-3417"></a>      <span class="n">ENDIF</span>
<a name="ln-3418"></a>    <span class="n">ENDIF</span>
<a name="ln-3419"></a>    <span class="n">MyFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span><span class="o">=</span><span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-3420"></a>  <span class="n">ENDIF</span>
<a name="ln-3421"></a>
<a name="ln-3422"></a>  <span class="c">! Initialize Demand Side Variables</span>
<a name="ln-3423"></a><span class="c">!  IF((MyEnvrnFlag(EIRChillNum) .and. BeginEnvrnFlag) &amp;</span>
<a name="ln-3424"></a><span class="c">!     .OR. (Node(CondInletNode)%MassFlowrate &lt;= 0.0 .AND. RunFlag)) THEN</span>
<a name="ln-3425"></a>
<a name="ln-3426"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">MyEnvrnFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span> <span class="p">.</span><span class="nb">and</span><span class="p">.</span> <span class="n">BeginEnvrnFlag</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-3427"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">PlantSizeNotComplete</span><span class="p">)</span> <span class="k">CALL </span><span class="n">SizeElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span>
<a name="ln-3428"></a>    <span class="n">rho</span> <span class="o">=</span> <span class="n">GetDensityGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3429"></a>                                  <span class="n">InitConvTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3430"></a>                                  <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,&amp;</span>
<a name="ln-3431"></a>                                  <span class="s1">&#39;InitElecReformEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-3432"></a>
<a name="ln-3433"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapMassFlowRateMax</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span> <span class="o">*</span> <span class="n">rho</span>
<a name="ln-3434"></a>
<a name="ln-3435"></a>    <span class="k">CALL </span><span class="n">InitComponentNodes</span><span class="p">(</span><span class="mf">0.d0</span><span class="p">,</span>  <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapMassFlowRateMax</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3436"></a>                          <span class="n">EvapInletNode</span><span class="p">,</span>        <span class="p">&amp;</span>
<a name="ln-3437"></a>                          <span class="n">EvapOutletNode</span><span class="p">,</span>       <span class="p">&amp;</span>
<a name="ln-3438"></a>                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>               <span class="p">&amp;</span>
<a name="ln-3439"></a>                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span>           <span class="p">&amp;</span>
<a name="ln-3440"></a>                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span>             <span class="p">&amp;</span>
<a name="ln-3441"></a>                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)</span>
<a name="ln-3442"></a>
<a name="ln-3443"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3444"></a>
<a name="ln-3445"></a><span class="k">      </span><span class="n">rho</span> <span class="o">=</span> <span class="n">GetDensityGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3446"></a>                                  <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3447"></a>                                  <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,&amp;</span>
<a name="ln-3448"></a>                                  <span class="s1">&#39;InitElecReformEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-3449"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowRateMax</span> <span class="o">=</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span>
<a name="ln-3450"></a>      <span class="k">CALL </span><span class="n">InitComponentNodes</span><span class="p">(</span><span class="mf">0.d0</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowRateMax</span> <span class="p">,&amp;</span>
<a name="ln-3451"></a>                          <span class="n">CondInletNode</span><span class="p">,</span>        <span class="p">&amp;</span>
<a name="ln-3452"></a>                          <span class="n">CondOutletNode</span><span class="p">,</span>       <span class="p">&amp;</span>
<a name="ln-3453"></a>                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span>               <span class="p">&amp;</span>
<a name="ln-3454"></a>                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span>           <span class="p">&amp;</span>
<a name="ln-3455"></a>                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDBranchNum</span><span class="p">,</span>             <span class="p">&amp;</span>
<a name="ln-3456"></a>                          <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDCompNum</span><span class="p">)</span>
<a name="ln-3457"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span>
<a name="ln-3458"></a>    <span class="k">ELSE</span> <span class="c">! air or evap air condenser</span>
<a name="ln-3459"></a>     <span class="c">! Initialize maximum available condenser flow rate</span>
<a name="ln-3460"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>          <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span> <span class="o">*</span> <span class="p">&amp;</span>
<a name="ln-3461"></a>        <span class="n">PsyRhoAirFnPbTdbW</span><span class="p">(</span><span class="n">StdBaroPress</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span><span class="p">,</span><span class="mf">0.0D0</span><span class="p">,</span><span class="s1">&#39;InitElecReformEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-3462"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>         <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-3463"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowRateMaxAvail</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-3464"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowRateMax</span>       <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-3465"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">MassFlowRateMax</span>      <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-3466"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowRateMinAvail</span>  <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-3467"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowRateMin</span>       <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-3468"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">MassFlowRateMinAvail</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-3469"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">MassFlowRateMin</span>      <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-3470"></a>      <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span>
<a name="ln-3471"></a>
<a name="ln-3472"></a>    <span class="n">ENDIF</span>
<a name="ln-3473"></a>
<a name="ln-3474"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3475"></a><span class="k">      </span><span class="n">rho</span> <span class="o">=</span> <span class="n">GetDensityGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3476"></a>                                  <span class="n">InitConvTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3477"></a>                                  <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,&amp;</span>
<a name="ln-3478"></a>                                  <span class="s1">&#39;InitElecReformEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-3479"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecMassFlowRate</span> <span class="o">=</span> <span class="n">rho</span> <span class="o">*</span> <span class="p">&amp;</span>
<a name="ln-3480"></a>                                      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span>
<a name="ln-3481"></a>      <span class="k">CALL </span><span class="n">InitComponentNodes</span><span class="p">(</span><span class="mf">0.0D0</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecMassFlowRate</span> <span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3482"></a>                         <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span><span class="p">,</span>        <span class="p">&amp;</span>
<a name="ln-3483"></a>                         <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span><span class="p">,</span>       <span class="p">&amp;</span>
<a name="ln-3484"></a>                         <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">,</span>               <span class="p">&amp;</span>
<a name="ln-3485"></a>                         <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span><span class="p">,</span>           <span class="p">&amp;</span>
<a name="ln-3486"></a>                         <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRBranchNum</span><span class="p">,</span>             <span class="p">&amp;</span>
<a name="ln-3487"></a>                         <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRCompNum</span><span class="p">)</span>
<a name="ln-3488"></a>      <span class="c">! overall capacity limit</span>
<a name="ln-3489"></a>      <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecMaxCapacityLimit</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecCapacityFraction</span> <span class="p">&amp;</span>
<a name="ln-3490"></a>                              <span class="o">*</span>  <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span> <span class="o">+</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span> <span class="p">&amp;</span>
<a name="ln-3491"></a>                                                                              <span class="o">/</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCOP</span><span class="p">)</span>
<a name="ln-3492"></a>    <span class="n">ENDIF</span>
<a name="ln-3493"></a>
<a name="ln-3494"></a>    <span class="n">MyEnvrnFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-3495"></a>  <span class="k">END IF</span>
<a name="ln-3496"></a><span class="k">  IF</span> <span class="p">(.</span><span class="nb">not</span><span class="p">.</span> <span class="n">BeginEnvrnFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3497"></a><span class="k">    </span><span class="n">MyEnvrnFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<a name="ln-3498"></a>  <span class="k">END IF</span>
<a name="ln-3499"></a>
<a name="ln-3500"></a><span class="k">  IF</span> <span class="p">((</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="p">&amp;</span>
<a name="ln-3501"></a>       <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ModulatedFlowSetToLoop</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3502"></a>  <span class="c">! fix for clumsy old input that worked because loop setpoint was spread.</span>
<a name="ln-3503"></a>  <span class="c">!  could be removed with transition, testing , model change, period of being obsolete.</span>
<a name="ln-3504"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span> <span class="o">=</span>                        <span class="p">&amp;</span>
<a name="ln-3505"></a>         <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-3506"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span> <span class="o">=</span>                        <span class="p">&amp;</span>
<a name="ln-3507"></a>         <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-3508"></a>  <span class="n">ENDIF</span>
<a name="ln-3509"></a>
<a name="ln-3510"></a>  <span class="k">IF</span> <span class="p">((</span><span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.d0</span><span class="p">)</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">RunFlag</span><span class="p">)</span>  <span class="k">THEN</span>
<a name="ln-3511"></a><span class="k">    </span><span class="n">mdot</span>     <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapMassFlowRateMax</span>
<a name="ln-3512"></a>    <span class="n">mdotCond</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowRateMax</span>
<a name="ln-3513"></a>  <span class="k">ELSE</span>
<a name="ln-3514"></a><span class="k">    </span><span class="n">mdot</span>     <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-3515"></a>    <span class="n">mdotCond</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-3516"></a>  <span class="n">ENDIF</span>
<a name="ln-3517"></a>
<a name="ln-3518"></a>  <span class="k">CALL </span><span class="n">SetComponentFlowRate</span><span class="p">(</span> <span class="n">mdot</span><span class="p">,</span> <span class="n">EvapInletNode</span><span class="p">,</span> <span class="n">EvapOutletNode</span><span class="p">,</span>            <span class="p">&amp;</span>
<a name="ln-3519"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-3520"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3521"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-3522"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)</span>
<a name="ln-3523"></a>
<a name="ln-3524"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3525"></a><span class="k">    CALL </span><span class="n">SetComponentFlowRate</span><span class="p">(</span> <span class="n">mdotCond</span><span class="p">,</span> <span class="n">CondInletNode</span><span class="p">,</span> <span class="n">CondOutletNode</span><span class="p">,</span>            <span class="p">&amp;</span>
<a name="ln-3526"></a>                                <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-3527"></a>                                <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3528"></a>                                <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDBranchNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-3529"></a>                                <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDCompNum</span><span class="p">)</span>
<a name="ln-3530"></a>  <span class="n">ENDIF</span>
<a name="ln-3531"></a>  <span class="c">! Initialize heat recovery flow rates at node</span>
<a name="ln-3532"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3533"></a><span class="k">    </span><span class="n">LoopNum</span>      <span class="o">=</span>  <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span>
<a name="ln-3534"></a>    <span class="n">LoopSideNum</span>  <span class="o">=</span>  <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopSideNum</span>
<a name="ln-3535"></a>    <span class="n">BranchIndex</span>  <span class="o">=</span>  <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRBranchNum</span>
<a name="ln-3536"></a>    <span class="n">CompIndex</span>    <span class="o">=</span>  <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRCompNum</span>
<a name="ln-3537"></a>
<a name="ln-3538"></a>    <span class="c">! check if inlet limit active and if exceeded.</span>
<a name="ln-3539"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3540"></a><span class="k">      </span><span class="n">HeatRecHighInletLimit</span> <span class="o">=</span>  <span class="n">GetCurrentScheduleValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span><span class="p">)</span>
<a name="ln-3541"></a>      <span class="k">IF</span> <span class="p">(</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">&gt;</span> <span class="n">HeatRecHighInletLimit</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! shut down heat recovery</span>
<a name="ln-3542"></a>        <span class="n">HeatRecRunFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-3543"></a>      <span class="k">ELSE</span>
<a name="ln-3544"></a><span class="k">        </span><span class="n">HeatRecRunFlag</span> <span class="o">=</span> <span class="n">RunFlag</span>
<a name="ln-3545"></a>      <span class="n">ENDIF</span>
<a name="ln-3546"></a>    <span class="k">ELSE</span>
<a name="ln-3547"></a><span class="k">        </span><span class="n">HeatRecRunFlag</span> <span class="o">=</span> <span class="n">RunFlag</span>
<a name="ln-3548"></a>    <span class="n">ENDIF</span>
<a name="ln-3549"></a>
<a name="ln-3550"></a>    <span class="k">If</span> <span class="p">(</span> <span class="n">HeatRecRunFlag</span><span class="p">)</span> <span class="k">Then</span>
<a name="ln-3551"></a><span class="k">      </span><span class="n">mdot</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecMassFlowRate</span>
<a name="ln-3552"></a>    <span class="k">ELSE</span>
<a name="ln-3553"></a><span class="k">      </span><span class="n">mdot</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-3554"></a>    <span class="n">ENDIF</span>
<a name="ln-3555"></a>
<a name="ln-3556"></a>    <span class="k">CALL </span><span class="n">SetComponentFlowRate</span><span class="p">(</span><span class="n">mdot</span><span class="p">,</span><span class="n">HeatRecInNode</span><span class="p">,</span><span class="n">HeatRecOutNode</span><span class="p">,</span><span class="n">LoopNum</span><span class="p">,</span><span class="n">LoopSideNum</span><span class="p">,</span><span class="n">BranchIndex</span><span class="p">,</span><span class="n">CompIndex</span><span class="p">)</span>
<a name="ln-3557"></a>
<a name="ln-3558"></a>  <span class="k">END IF</span>
<a name="ln-3559"></a>
<a name="ln-3560"></a><span class="k">  RETURN</span>
<a name="ln-3561"></a>
<a name="ln-3562"></a><span class="k">END SUBROUTINE </span><span class="n">InitElecReformEIRChiller</span>
<a name="ln-3563"></a>
<a name="ln-3564"></a><span class="k">SUBROUTINE </span><span class="n">SizeElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span>
<a name="ln-3565"></a>
<a name="ln-3566"></a>          <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-3567"></a>          <span class="c">!       AUTHOR         Richard Raustad, FSEC</span>
<a name="ln-3568"></a>          <span class="c">!       DATE WRITTEN   June 2004</span>
<a name="ln-3569"></a>          <span class="c">!       MODIFIED       July 2006, L. Gu, modified for reformulated EIR chiller</span>
<a name="ln-3570"></a>          <span class="c">!       RE-ENGINEERED  na</span>
<a name="ln-3571"></a>
<a name="ln-3572"></a>          <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-3573"></a>          <span class="c">!  This subroutine is for sizing Reformulated Electric EIR Chiller Components for which capacities and flow rates</span>
<a name="ln-3574"></a>          <span class="c">!  have not been specified in the input.</span>
<a name="ln-3575"></a>
<a name="ln-3576"></a>          <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-3577"></a>          <span class="c">!  Obtains evaporator flow rate from the plant sizing array. Calculates reference capacity from</span>
<a name="ln-3578"></a>          <span class="c">!  the evaporator flow rate and the chilled water loop design delta T. The condenser flow rate</span>
<a name="ln-3579"></a>          <span class="c">!  is calculated from the reference capacity, the COP, and the condenser loop design delta T.</span>
<a name="ln-3580"></a>
<a name="ln-3581"></a>          <span class="c">! REFERENCES:</span>
<a name="ln-3582"></a>          <span class="c">!  na</span>
<a name="ln-3583"></a>
<a name="ln-3584"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-3585"></a>  <span class="k">USE </span><span class="n">DataSizing</span>
<a name="ln-3586"></a>  <span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>    <span class="n">ONLY</span><span class="p">:</span> <span class="n">PlantLoop</span><span class="p">,</span> <span class="n">PlantSizesOkayToFinalize</span><span class="p">,</span> <span class="n">TypeOf_Chiller_ElectricReformEIR</span>
<a name="ln-3587"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">RegisterPlantCompDesignFlow</span>
<a name="ln-3588"></a>  <span class="k">USE </span><span class="n">ReportSizingManager</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">ReportSizingOutput</span>
<a name="ln-3589"></a>  <span class="k">USE </span><span class="n">CurveManager</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">CurveValue</span><span class="p">,</span> <span class="n">GetCurveMinMaxValues</span>
<a name="ln-3590"></a>  <span class="k">USE </span><span class="n">OutputReportPredefined</span>
<a name="ln-3591"></a>  <span class="k">USE </span><span class="n">ReportSizingManager</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">ReportSizingOutput</span>
<a name="ln-3592"></a>  <span class="k">USE </span><span class="n">StandardRatings</span><span class="p">,</span>   <span class="n">ONLY</span><span class="p">:</span> <span class="n">CalcChillerIPLV</span>
<a name="ln-3593"></a>
<a name="ln-3594"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-3595"></a>
<a name="ln-3596"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-3597"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span> <span class="kd">::</span> <span class="n">EIRChillNum</span>
<a name="ln-3598"></a>
<a name="ln-3599"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-3600"></a>          <span class="c">!  na</span>
<a name="ln-3601"></a>
<a name="ln-3602"></a>          <span class="c">! INTERFACE BLOCK SPECIFICATIONS:</span>
<a name="ln-3603"></a>          <span class="c">!  na</span>
<a name="ln-3604"></a>
<a name="ln-3605"></a>          <span class="c">! DERIVED TYPE DEFINITIONS:</span>
<a name="ln-3606"></a>          <span class="c">!  na</span>
<a name="ln-3607"></a>
<a name="ln-3608"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-3609"></a>  <span class="kt">INTEGER</span>             <span class="kd">::</span> <span class="n">PltSizNum</span>            <span class="c">! Plant Sizing index corresponding to CurLoopNum</span>
<a name="ln-3610"></a>  <span class="kt">INTEGER</span>             <span class="kd">::</span> <span class="n">PltSizCondNum</span>        <span class="c">! Plant Sizing index for condenser loop</span>
<a name="ln-3611"></a>  <span class="kt">LOGICAL</span>             <span class="kd">::</span> <span class="n">ErrorsFound</span>          <span class="c">! If errors detected in input</span>
<a name="ln-3612"></a>  <span class="kt">LOGICAL</span>             <span class="kd">::</span> <span class="n">LoopErrorsFound</span>      <span class="c">! Plant loop errors found</span>
<a name="ln-3613"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">SizingEvapOutletTemp</span> <span class="c">! Plant Sizing outlet temperature for CurLoopNum [C]</span>
<a name="ln-3614"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">SizingCondOutletTemp</span> <span class="c">! Plant Sizing outlet temperature for condenser loop [C]</span>
<a name="ln-3615"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">RefCAPFT</span>             <span class="c">! Capacity as a function of temperature curve output used for sizing</span>
<a name="ln-3616"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="n">MaxNameLength</span><span class="p">)</span> <span class="kd">::</span> <span class="n">equipName</span>                <span class="c">! Name of chiller</span>
<a name="ln-3617"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                   <span class="kd">::</span> <span class="n">CurveVal</span>                  <span class="c">! Used to verify EIR-FT/CAP-FT curves = 1 at reference conditions</span>
<a name="ln-3618"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                   <span class="kd">::</span> <span class="n">CondTemp</span>                  <span class="c">! Used to verify EIRFPLR curve is &gt; than 0 at reference conditions</span>
<a name="ln-3619"></a>  <span class="kt">LOGICAL</span>                     <span class="kd">::</span> <span class="n">FoundNegValue</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>   <span class="c">! Used to evaluate EIRFPLR curve objects</span>
<a name="ln-3620"></a>  <span class="kt">INTEGER</span>                     <span class="kd">::</span> <span class="n">CurveCheck</span> <span class="o">=</span> <span class="mi">0</span>            <span class="c">! Used to evaluate EIRFPLR curve objects</span>
<a name="ln-3621"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">DIMENSION</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CurveValArray</span>             <span class="c">! Used to evaluate EIRFPLR curve objects</span>
<a name="ln-3622"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">DIMENSION</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CondTempArray</span>             <span class="c">! Used to evaluate EIRFPLR curve objects</span>
<a name="ln-3623"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                   <span class="kd">::</span> <span class="n">CurveValTmp</span>               <span class="c">! Used to evaluate EIRFPLR curve objects</span>
<a name="ln-3624"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                   <span class="kd">::</span> <span class="n">Density</span>                   <span class="c">! Density of condenser water used in warning messages</span>
<a name="ln-3625"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                   <span class="kd">::</span> <span class="n">SpecificHeat</span>              <span class="c">! Specific heat of condenser water used in warning messages</span>
<a name="ln-3626"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                   <span class="kd">::</span> <span class="n">CondenserCapacity</span>         <span class="c">! Full load (reference) condenser capacity used in warning messages</span>
<a name="ln-3627"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">132</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">StringVar</span>                 <span class="c">! Used for EIRFPLR warning messages</span>
<a name="ln-3628"></a>  <span class="kt">INTEGER</span>                     <span class="kd">::</span> <span class="n">CurveValPtr</span>               <span class="c">! Index to EIRFPLR curve output</span>
<a name="ln-3629"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                   <span class="kd">::</span> <span class="n">DeltaTCond</span>                <span class="c">! Full load delta T at condenser, used for checking curve objects</span>
<a name="ln-3630"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                   <span class="kd">::</span> <span class="n">PLRTemp</span>                   <span class="c">! Temporary variable used for warning messages</span>
<a name="ln-3631"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                   <span class="kd">::</span> <span class="n">rho</span>
<a name="ln-3632"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>                   <span class="kd">::</span> <span class="n">Cp</span>
<a name="ln-3633"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">tmpNomCap</span> <span class="c">! local nominal capacity cooling power</span>
<a name="ln-3634"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">tmpEvapVolFlowRate</span> <span class="c">! local evaporator design volume flow rate</span>
<a name="ln-3635"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">tmpCondVolFlowRate</span> <span class="c">! local condenser design volume flow rate</span>
<a name="ln-3636"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>           <span class="kd">::</span> <span class="n">tmpHeatRecVolFlowRate</span> <span class="c">! local heat recovery design volume flow rate</span>
<a name="ln-3637"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">SAVE</span>       <span class="kd">::</span> <span class="n">MyOneTimeFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3638"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">ALLOCATABLE</span><span class="p">,</span> <span class="k">SAVE</span><span class="p">,</span> <span class="k">DIMENSION</span><span class="p">(:)</span> <span class="kd">::</span> <span class="n">MyFlag</span>   <span class="c">! TRUE in order to calculate IPLV</span>
<a name="ln-3639"></a>
<a name="ln-3640"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">MyOneTimeFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3641"></a><span class="k">    ALLOCATE</span><span class="p">(</span><span class="n">MyFlag</span><span class="p">(</span><span class="n">NumElecReformEIRChillers</span><span class="p">))</span>
<a name="ln-3642"></a>    <span class="n">MyFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3643"></a>    <span class="n">MyOneTimeFlag</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-3644"></a>  <span class="k">END IF</span>
<a name="ln-3645"></a>
<a name="ln-3646"></a><span class="k">  </span><span class="n">PltSizNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-3647"></a>  <span class="n">PltSizCondNum</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-3648"></a>  <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-3649"></a>  <span class="n">tmpNomCap</span>          <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span>
<a name="ln-3650"></a>  <span class="n">tmpEvapVolFlowRate</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span>
<a name="ln-3651"></a>  <span class="n">tmpCondVolFlowRate</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span>
<a name="ln-3652"></a>
<a name="ln-3653"></a>
<a name="ln-3654"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span> <span class="o">==</span> <span class="n">AutoSize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3655"></a><span class="k">    </span><span class="n">PltSizCondNum</span> <span class="o">=</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">PlantSizNum</span>
<a name="ln-3656"></a>  <span class="k">END IF</span>
<a name="ln-3657"></a>
<a name="ln-3658"></a>  <span class="c">! find the appropriate Plant Sizing object</span>
<a name="ln-3659"></a>  <span class="n">PltSizNum</span> <span class="o">=</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">PlantSizNum</span>
<a name="ln-3660"></a>
<a name="ln-3661"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span> <span class="o">==</span> <span class="n">AutoSize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3662"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">PltSizNum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3663"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizNum</span><span class="p">)%</span><span class="n">DesVolFlowRate</span> <span class="o">&gt;=</span> <span class="n">SmallWaterVolFlow</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3664"></a><span class="k">        </span><span class="n">tmpEvapVolFlowRate</span> <span class="o">=</span> <span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizNum</span><span class="p">)%</span><span class="n">DesVolFlowRate</span> <span class="o">*</span>   <span class="p">&amp;</span>
<a name="ln-3665"></a>                               <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">SizFac</span>
<a name="ln-3666"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span> <span class="o">=</span> <span class="n">tmpEvapVolFlowRate</span>
<a name="ln-3667"></a>      <span class="k">ELSE</span>
<a name="ln-3668"></a><span class="k">        </span><span class="n">tmpEvapVolFlowRate</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-3669"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span> <span class="o">=</span> <span class="n">tmpEvapVolFlowRate</span>
<a name="ln-3670"></a>      <span class="k">END IF</span>
<a name="ln-3671"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="k">CALL </span><span class="n">ReportSizingOutput</span><span class="p">(</span><span class="s1">&#39;Chiller:Electric:ReformulatedEIR&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3672"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3673"></a>                              <span class="s1">&#39;Reference Chilled Water Flow Rate [m3/s]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3674"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span><span class="p">)</span>
<a name="ln-3675"></a>    <span class="k">ELSE</span>
<a name="ln-3676"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;Autosizing of Reformulated Electric Chiller evap flow rate requires a loop Sizing:Plant object&#39;</span><span class="p">)</span>
<a name="ln-3677"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Occurs in Reformulated Electric Chiller object=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">))</span>
<a name="ln-3678"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3679"></a>    <span class="k">END IF</span>
<a name="ln-3680"></a><span class="k">  END IF</span>
<a name="ln-3681"></a>
<a name="ln-3682"></a><span class="k">  CALL </span><span class="n">RegisterPlantCompDesignFlow</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span><span class="p">,</span><span class="n">tmpEvapVolFlowRate</span><span class="p">)</span>
<a name="ln-3683"></a>
<a name="ln-3684"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span>  <span class="o">==</span> <span class="n">AutoSize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3685"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">PltSizNum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3686"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizNum</span><span class="p">)%</span><span class="n">DesVolFlowRate</span> <span class="o">&gt;=</span> <span class="n">SmallWaterVolFlow</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3687"></a><span class="k">        IF</span><span class="p">(</span><span class="n">PltSizCondNum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-3688"></a><span class="k">          </span><span class="n">SizingEvapOutletTemp</span> <span class="o">=</span> <span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizNum</span><span class="p">)%</span><span class="n">ExitTemp</span>
<a name="ln-3689"></a>          <span class="n">SizingCondOutletTemp</span> <span class="o">=</span> <span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizCondNum</span><span class="p">)%</span><span class="n">ExitTemp</span> <span class="o">+</span> <span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizCondNum</span><span class="p">)%</span><span class="n">DeltaT</span>
<a name="ln-3690"></a>        <span class="k">ELSE</span>
<a name="ln-3691"></a><span class="k">          </span><span class="n">SizingEvapOutletTemp</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefEvapOut</span>
<a name="ln-3692"></a>          <span class="n">SizingCondOutletTemp</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondOut</span>
<a name="ln-3693"></a>        <span class="k">END IF</span>
<a name="ln-3694"></a><span class="k">        </span><span class="n">Cp</span>  <span class="o">=</span> <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3695"></a>                                    <span class="n">InitConvTemp</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-3696"></a>                                    <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3697"></a>                                    <span class="s1">&#39;SizeElecReformEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-3698"></a>
<a name="ln-3699"></a>        <span class="n">rho</span>  <span class="o">=</span> <span class="n">GetDensityGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3700"></a>                                <span class="n">InitConvTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3701"></a>                                <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,&amp;</span>
<a name="ln-3702"></a>                                <span class="s1">&#39;SizeElecReformEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-3703"></a>
<a name="ln-3704"></a>        <span class="n">RefCapFT</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span><span class="p">,</span> <span class="n">SizingEvapOutletTemp</span><span class="p">,</span><span class="n">SizingCondOutletTemp</span><span class="p">)</span>
<a name="ln-3705"></a>        <span class="n">tmpNomCap</span> <span class="o">=</span> <span class="p">(</span><span class="n">Cp</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizNum</span><span class="p">)%</span><span class="n">DeltaT</span>  <span class="o">*</span> <span class="n">tmpEvapVolFlowRate</span><span class="p">)</span> <span class="o">/</span> <span class="n">RefCapFT</span>
<a name="ln-3706"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span> <span class="o">=</span> <span class="n">tmpNomCap</span>
<a name="ln-3707"></a>      <span class="k">ELSE</span>
<a name="ln-3708"></a><span class="k">        </span><span class="n">tmpNomCap</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-3709"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span> <span class="o">=</span> <span class="n">tmpNomCap</span>
<a name="ln-3710"></a>      <span class="k">END IF</span>
<a name="ln-3711"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span>   <span class="p">&amp;</span>
<a name="ln-3712"></a>         <span class="k">CALL </span><span class="n">ReportSizingOutput</span><span class="p">(</span><span class="s1">&#39;Chiller:Electric:ReformulatedEIR&#39;</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3713"></a>                              <span class="s1">&#39;Reference Capacity [W]&#39;</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="p">)</span>
<a name="ln-3714"></a>    <span class="k">ELSE</span>
<a name="ln-3715"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;Autosizing of Reformulated Electric Chiller reference capacity requires a loop Sizing:Plant object&#39;</span><span class="p">)</span>
<a name="ln-3716"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Occurs in Reformulated Electric Chiller object=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">))</span>
<a name="ln-3717"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3718"></a>    <span class="k">END IF</span>
<a name="ln-3719"></a><span class="k">  END IF</span>
<a name="ln-3720"></a>
<a name="ln-3721"></a><span class="k">  IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span> <span class="o">==</span> <span class="n">AutoSize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3722"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">PltSizCondNum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3723"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizNum</span><span class="p">)%</span><span class="n">DesVolFlowRate</span> <span class="o">&gt;=</span> <span class="n">SmallWaterVolFlow</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3724"></a><span class="k">        </span><span class="n">rho</span>  <span class="o">=</span> <span class="n">GetDensityGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3725"></a>                                <span class="n">InitConvTemp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3726"></a>                                <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3727"></a>                                <span class="s1">&#39;SizeElecReformEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-3728"></a>
<a name="ln-3729"></a>        <span class="n">Cp</span>  <span class="o">=</span> <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3730"></a>                                    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span><span class="p">,</span>                   <span class="p">&amp;</span>
<a name="ln-3731"></a>                                    <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3732"></a>                                    <span class="s1">&#39;SizeElecReformEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-3733"></a>        <span class="n">tmpCondVolFlowRate</span> <span class="o">=</span> <span class="n">tmpNomCap</span> <span class="o">*</span> <span class="p">&amp;</span>
<a name="ln-3734"></a>            <span class="p">(</span><span class="mf">1.0d0</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.0d0</span><span class="o">/</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCOP</span><span class="p">)</span> <span class="o">*</span>   <span class="p">&amp;</span>
<a name="ln-3735"></a>               <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span><span class="p">)</span> <span class="o">/</span> <span class="p">&amp;</span>
<a name="ln-3736"></a>            <span class="p">(</span> <span class="n">PlantSizData</span><span class="p">(</span><span class="n">PltSizCondNum</span><span class="p">)%</span><span class="n">DeltaT</span> <span class="o">*</span> <span class="n">Cp</span> <span class="o">*</span> <span class="n">rho</span><span class="p">)</span>
<a name="ln-3737"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span> <span class="o">=</span> <span class="n">tmpCondVolFlowRate</span>
<a name="ln-3738"></a>
<a name="ln-3739"></a>      <span class="k">ELSE</span>
<a name="ln-3740"></a><span class="k">        </span><span class="n">tmpCondVolFlowRate</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-3741"></a>        <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span> <span class="o">=</span> <span class="n">tmpCondVolFlowRate</span>
<a name="ln-3742"></a>      <span class="k">END IF</span>
<a name="ln-3743"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span>   <span class="p">&amp;</span>
<a name="ln-3744"></a>         <span class="k">CALL </span><span class="n">ReportSizingOutput</span><span class="p">(</span><span class="s1">&#39;Chiller:Electric:ReformulatedEIR&#39;</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3745"></a>                              <span class="s1">&#39;Reference Condenser Water Flow Rate [m3/s]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3746"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span><span class="p">)</span>
<a name="ln-3747"></a>    <span class="k">ELSE</span>
<a name="ln-3748"></a><span class="k">      CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;Autosizing of Reformulated Electric EIR Chiller condenser flow rate requires a condenser&#39;</span><span class="p">)</span>
<a name="ln-3749"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;loop Sizing:Plant object&#39;</span><span class="p">)</span>
<a name="ln-3750"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Occurs in Reformulated Electric EIR Chiller object=&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">))</span>
<a name="ln-3751"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3752"></a>    <span class="k">END IF</span>
<a name="ln-3753"></a><span class="k">  END IF</span>
<a name="ln-3754"></a>
<a name="ln-3755"></a>  <span class="c">! save the reference condenser water volumetric flow rate for use by the condenser water loop sizing algorithms</span>
<a name="ln-3756"></a>  <span class="k">CALL </span><span class="n">RegisterPlantCompDesignFlow</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span><span class="p">,</span><span class="n">tmpCondVolFlowRate</span><span class="p">)</span>
<a name="ln-3757"></a>
<a name="ln-3758"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3759"></a><span class="k">    </span><span class="n">tmpHeatRecVolFlowRate</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span>
<a name="ln-3760"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span> <span class="o">==</span> <span class="n">Autosize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3761"></a><span class="k">      </span><span class="n">tmpHeatRecVolFlowRate</span> <span class="o">=</span> <span class="n">tmpCondVolFlowRate</span> <span class="o">*</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecCapacityFraction</span>
<a name="ln-3762"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3763"></a><span class="k">        </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span> <span class="o">=</span> <span class="n">tmpHeatRecVolFlowRate</span>
<a name="ln-3764"></a>        <span class="k">CALL </span><span class="n">ReportSizingOutput</span><span class="p">(</span><span class="s1">&#39;Chiller:Electric:ReformulatedEIR&#39;</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3765"></a>                              <span class="s1">&#39;Design Heat Recovery Fluid Flow Rate [m3/s]&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3766"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DesignHeatRecVolFlowRate</span><span class="p">)</span>
<a name="ln-3767"></a>      <span class="n">ENDIF</span>
<a name="ln-3768"></a>    <span class="n">ENDIF</span>
<a name="ln-3769"></a>
<a name="ln-3770"></a>    <span class="c">! save the reference heat recovery fluid volumetric flow rate</span>
<a name="ln-3771"></a>    <span class="k">CALL </span><span class="n">RegisterPlantCompDesignFlow</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span><span class="p">,</span><span class="n">tmpHeatRecVolFlowRate</span><span class="p">)</span>
<a name="ln-3772"></a>  <span class="n">ENDIF</span>
<a name="ln-3773"></a>
<a name="ln-3774"></a>
<a name="ln-3775"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">PlantSizesOkayToFinalize</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3776"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">MyFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-3777"></a><span class="k">      CALL </span><span class="n">CalcChillerIPLV</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3778"></a>                           <span class="n">TypeOf_Chiller_ElectricReformEIR</span><span class="p">,</span>           <span class="p">&amp;</span>
<a name="ln-3779"></a>                           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3780"></a>                           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCOP</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3781"></a>                           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3782"></a>                           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3783"></a>                           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3784"></a>                           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3785"></a>                           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MinUnLoadRat</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3786"></a>                           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapVolFlowRate</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3787"></a>                           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3788"></a>                           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span><span class="p">)</span>
<a name="ln-3789"></a>     <span class="n">MyFlag</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-3790"></a>   <span class="n">ENDIF</span>
<a name="ln-3791"></a>   <span class="c">!create predefined report</span>
<a name="ln-3792"></a>    <span class="n">equipName</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span>
<a name="ln-3793"></a>    <span class="k">CALL </span><span class="n">PreDefTableEntry</span><span class="p">(</span><span class="n">pdchMechType</span><span class="p">,</span><span class="n">equipName</span><span class="p">,</span><span class="s1">&#39;Chiller:Electric:ReformulatedEIR&#39;</span><span class="p">)</span>
<a name="ln-3794"></a>    <span class="k">CALL </span><span class="n">PreDefTableEntry</span><span class="p">(</span><span class="n">pdchMechNomEff</span><span class="p">,</span><span class="n">equipName</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCOP</span><span class="p">)</span>
<a name="ln-3795"></a>    <span class="k">CALL </span><span class="n">PreDefTableEntry</span><span class="p">(</span><span class="n">pdchMechNomCap</span><span class="p">,</span><span class="n">equipName</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span><span class="p">)</span>
<a name="ln-3796"></a>  <span class="n">ENDIF</span>
<a name="ln-3797"></a>
<a name="ln-3798"></a><span class="c">! Only check performance curves if Capacity and volumetric flow rate are greater than 0</span>
<a name="ln-3799"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">0.0D0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3800"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">0.0D0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3801"></a><span class="c">!   Check the CAP-FT, EIR-FT, and PLR curves at reference conditions and warn user if different from 1.0 by more than +-10%</span>
<a name="ln-3802"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFT</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-3803"></a><span class="k">      </span><span class="n">CurveVal</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3804"></a>                            <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefEvapOut</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondOut</span><span class="p">)</span>
<a name="ln-3805"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">CurveVal</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">1.10d0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">CurveVal</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.90d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3806"></a><span class="k">        CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Capacity ratio as a function of temperature curve output is not equal to 1.0&#39;</span><span class="p">)</span>
<a name="ln-3807"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;(+ or - 10%) at reference conditions for Chiller:Electric:ReformulatedEIR = &#39;</span> <span class="p">&amp;</span>
<a name="ln-3808"></a>                                <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">equipName</span><span class="p">))</span>
<a name="ln-3809"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Curve output at reference conditions = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CurveVal</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<a name="ln-3810"></a>      <span class="k">END IF</span>
<a name="ln-3811"></a><span class="k">      CALL </span><span class="n">GetCurveMinMaxValues</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3812"></a>             <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTXTempMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTXTempMax</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3813"></a>             <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTYTempMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTYTempMax</span><span class="p">)</span>
<a name="ln-3814"></a>    <span class="k">END IF</span>
<a name="ln-3815"></a>
<a name="ln-3816"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3817"></a><span class="k">      </span><span class="n">CurveVal</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3818"></a>                            <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefEvapOut</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondOut</span><span class="p">)</span>
<a name="ln-3819"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">CurveVal</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">1.10d0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">CurveVal</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.90d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-3820"></a><span class="k">        CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Energy input ratio as a function of temperature curve output is not equal to 1.0&#39;</span><span class="p">)</span>
<a name="ln-3821"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;(+ or - 10%) at reference conditions for Chiller:Electric:ReformulatedEIR = &#39;</span> <span class="p">&amp;</span>
<a name="ln-3822"></a>                               <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">equipName</span><span class="p">))</span>
<a name="ln-3823"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Curve output at reference conditions = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CurveVal</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<a name="ln-3824"></a>      <span class="k">END IF</span>
<a name="ln-3825"></a><span class="k">      CALL </span><span class="n">GetCurveMinMaxValues</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3826"></a>             <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTXTempMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTXTempMax</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3827"></a>             <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTYTempMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTYTempMax</span><span class="p">)</span>
<a name="ln-3828"></a>    <span class="k">END IF</span>
<a name="ln-3829"></a>
<a name="ln-3830"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3831"></a><span class="k">      </span><span class="n">CurveVal</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3832"></a>                 <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondOut</span><span class="p">,</span><span class="mf">1.0d0</span><span class="p">)</span>
<a name="ln-3833"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">CurveVal</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">1.10d0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">CurveVal</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.90d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-3834"></a><span class="k">        CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Energy input ratio as a function of part-load ratio curve output is not equal to 1.0&#39;</span><span class="p">)</span>
<a name="ln-3835"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;(+ or - 10%) at reference conditions for Chiller:Electric:ReformulatedEIR = &#39;</span> <span class="p">&amp;</span>
<a name="ln-3836"></a>                              <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">equipName</span><span class="p">))</span>
<a name="ln-3837"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Curve output at reference conditions = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CurveVal</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<a name="ln-3838"></a>      <span class="k">END IF</span>
<a name="ln-3839"></a><span class="k">      CALL </span><span class="n">GetCurveMinMaxValues</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3840"></a>             <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRTempMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRTempMax</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3841"></a>             <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMax</span><span class="p">)</span>
<a name="ln-3842"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMin</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3843"></a>            <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMin</span> <span class="p">.</span><span class="n">GE</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3844"></a>            <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMax</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3845"></a>            <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMin</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3846"></a><span class="k">        CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;Invalid minimum value of PLR = &#39;</span> <span class="p">&amp;</span>
<a name="ln-3847"></a>                             <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMin</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="p">&amp;</span>
<a name="ln-3848"></a>                             <span class="o">//</span><span class="s1">&#39; in bicubic curve = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRName</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; which is used&#39;</span><span class="p">)</span>
<a name="ln-3849"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;by Chiller:Electric:ReformulatedEIR = &#39;</span><span class="o">//</span> <span class="nb">TRIM</span><span class="p">(</span><span class="n">equipName</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<a name="ln-3850"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;The minimum value of PLR [y] must be from zero to 1, and less than the maximum value of PLR.&#39;</span><span class="p">)</span>
<a name="ln-3851"></a>        <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-3852"></a>      <span class="k">END IF</span>
<a name="ln-3853"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMax</span> <span class="o">&gt;</span> <span class="mf">1.1</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3854"></a>            <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMax</span> <span class="p">.</span><span class="n">LE</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3855"></a>              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMin</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-3856"></a>              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMax</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3857"></a><span class="k">        CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;Invalid maximum value of PLR = &#39;</span> <span class="p">&amp;</span>
<a name="ln-3858"></a>                             <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMax</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="p">&amp;</span>
<a name="ln-3859"></a>                             <span class="o">//</span><span class="s1">&#39; in bicubic curve = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRName</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39; which is used&#39;</span><span class="p">)</span>
<a name="ln-3860"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;by Chiller:Electric:ReformulatedEIR = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">equipName</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<a name="ln-3861"></a>        <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;The maximum value of PLR [y] must be from zero to 1.1, and greater than the minimum value &#39;</span> <span class="p">&amp;</span>
<a name="ln-3862"></a>                                 <span class="o">//</span><span class="s1">&#39;of PLR.&#39;</span><span class="p">)</span>
<a name="ln-3863"></a>        <span class="n">ErrorsFound</span><span class="o">=</span><span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-3864"></a>      <span class="k">END IF</span>
<a name="ln-3865"></a><span class="k">    END IF</span>
<a name="ln-3866"></a>
<a name="ln-3867"></a><span class="c">!  Initialize condenser reference inlet temperature (not a user input)</span>
<a name="ln-3868"></a>    <span class="n">Density</span>  <span class="o">=</span> <span class="n">GetDensityGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3869"></a>                                  <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondOut</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3870"></a>                                  <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,&amp;</span>
<a name="ln-3871"></a>                                  <span class="s1">&#39;SizeElecReformEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-3872"></a>
<a name="ln-3873"></a>    <span class="n">SpecificHeat</span>  <span class="o">=</span> <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-3874"></a>                                 <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondOut</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-3875"></a>                                 <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3876"></a>                                 <span class="s1">&#39;SizeElecReformEIRChiller&#39;</span><span class="p">)</span>
<a name="ln-3877"></a>    <span class="n">CondenserCapacity</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span> <span class="o">*</span> <span class="p">&amp;</span>
<a name="ln-3878"></a>           <span class="p">(</span><span class="mf">1.0d0</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.0d0</span><span class="o">/</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCOP</span><span class="p">)</span><span class="o">*</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span><span class="p">)</span>
<a name="ln-3879"></a>    <span class="n">DeltaTCond</span> <span class="o">=</span> <span class="p">(</span><span class="n">CondenserCapacity</span><span class="p">)</span> <span class="o">/</span> <span class="p">&amp;</span>
<a name="ln-3880"></a>                <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondVolFlowRate</span> <span class="o">*</span> <span class="n">Density</span> <span class="o">*</span> <span class="n">SpecificHeat</span><span class="p">)</span>
<a name="ln-3881"></a>    <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondOut</span> <span class="o">-</span> <span class="n">DeltaTCond</span>
<a name="ln-3882"></a>
<a name="ln-3883"></a><span class="c">!     Check EIRFPLR curve output. Calculate condenser inlet temp based on reference condenser outlet temp,</span>
<a name="ln-3884"></a><span class="c">!     chiller capacity, and mass flow rate. Starting with the calculated condenser inlet temp and PLR = 0,</span>
<a name="ln-3885"></a><span class="c">!     calculate the condenser outlet temp proportional to PLR and test the EIRFPLR curve output for negative numbers.</span>
<a name="ln-3886"></a>    <span class="n">FoundNegValue</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-3887"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3888"></a><span class="k">      </span><span class="n">CurveValArray</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-3889"></a>      <span class="n">CondTempArray</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-3890"></a>      <span class="k">DO </span><span class="n">CurveCheck</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span>
<a name="ln-3891"></a>        <span class="n">PLRTemp</span> <span class="o">=</span> <span class="n">CurveCheck</span><span class="o">/</span><span class="mi">1</span><span class="mf">0.0d0</span>
<a name="ln-3892"></a>        <span class="n">CondTemp</span>    <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempRefCondIn</span> <span class="o">+</span> <span class="p">(</span><span class="n">DeltaTCond</span><span class="o">*</span><span class="n">PLRTemp</span><span class="p">)</span>
<a name="ln-3893"></a>        <span class="n">CondTemp</span>    <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="n">CondTemp</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRTempMax</span><span class="p">)</span>
<a name="ln-3894"></a>        <span class="n">CondTemp</span>    <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="n">CondTemp</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRTempMin</span><span class="p">)</span>
<a name="ln-3895"></a>        <span class="k">IF</span><span class="p">(</span><span class="n">PLRTemp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMin</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-3896"></a><span class="k">          </span><span class="n">CurveValTmp</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3897"></a>                       <span class="n">CondTemp</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMin</span><span class="p">)</span>
<a name="ln-3898"></a>        <span class="k">ELSE</span>
<a name="ln-3899"></a><span class="k">          </span><span class="n">CurveValTmp</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span> <span class="n">CondTemp</span><span class="p">,</span> <span class="n">PLRTemp</span><span class="p">)</span>
<a name="ln-3900"></a>        <span class="k">END IF</span>
<a name="ln-3901"></a><span class="k">        IF</span><span class="p">(</span><span class="n">CurveValTmp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="n">FoundNegValue</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3902"></a>        <span class="n">CurveValArray</span><span class="p">(</span><span class="n">CurveCheck</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="nb">INT</span><span class="p">(</span><span class="n">CurveValTmp</span><span class="o">*</span><span class="mi">10</span><span class="mf">0.0d0</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="mf">0.0d0</span>
<a name="ln-3903"></a>        <span class="n">CondTempArray</span><span class="p">(</span><span class="n">CurveCheck</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="nb">INT</span><span class="p">(</span><span class="n">CondTemp</span><span class="o">*</span><span class="mi">10</span><span class="mf">0.0d0</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="mf">0.0d0</span>
<a name="ln-3904"></a>      <span class="k">END DO</span>
<a name="ln-3905"></a><span class="k">    END IF</span>
<a name="ln-3906"></a>
<a name="ln-3907"></a><span class="c">!     Output warning message if negative values are found in the EIRFPLR curve output. Results in Fatal error.</span>
<a name="ln-3908"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">FoundNegValue</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-3909"></a><span class="k">      CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Energy input to cooing output ratio function of part-load ratio curve shows negative values &#39;</span><span class="p">)</span>
<a name="ln-3910"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;for  Chiller:Electric:ReformulatedEIR = &#39;</span><span class="o">//</span> <span class="nb">TRIM</span><span class="p">(</span><span class="n">equipName</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<a name="ln-3911"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;EIR as a function of PLR curve output at various part-load ratios and condenser &#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-3912"></a>                            <span class="s1">&#39;water temperatures shown below:&#39;</span><span class="p">)</span>
<a name="ln-3913"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;PLR           =    0.00   0.10   0.20   0.30   0.40   0.50   0.60   0.70   0.80   0.90   1.00&#39;</span><span class="p">)</span>
<a name="ln-3914"></a>      <span class="k">WRITE</span><span class="p">(</span><span class="n">StringVar</span><span class="p">,</span><span class="mi">530</span><span class="p">)(</span><span class="n">CondTempArray</span><span class="p">(</span><span class="n">CurveValPtr</span><span class="p">),</span> <span class="n">CurveValPtr</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<a name="ln-3915"></a><span class="mi">530</span>     <span class="k">FORMAT</span><span class="p">(</span><span class="s1">&#39;Cond Temp (C) = &#39;</span><span class="p">,</span><span class="mi">11</span><span class="p">(</span><span class="n">F7</span><span class="p">.</span><span class="mi">2</span><span class="p">))</span>
<a name="ln-3916"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">StringVar</span><span class="p">))</span>
<a name="ln-3917"></a>      <span class="k">WRITE</span><span class="p">(</span><span class="n">StringVar</span><span class="p">,</span><span class="mi">531</span><span class="p">)(</span><span class="n">CurveValArray</span><span class="p">(</span><span class="n">CurveValPtr</span><span class="p">),</span> <span class="n">CurveValPtr</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<a name="ln-3918"></a><span class="mi">531</span>     <span class="k">FORMAT</span><span class="p">(</span><span class="s1">&#39;Curve Output  = &#39;</span><span class="p">,</span><span class="mi">11</span><span class="p">(</span><span class="n">F7</span><span class="p">.</span><span class="mi">2</span><span class="p">))</span>
<a name="ln-3919"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">StringVar</span><span class="p">))</span>
<a name="ln-3920"></a>      <span class="n">ErrorsFound</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-3921"></a>    <span class="k">END IF</span>
<a name="ln-3922"></a><span class="k">  ELSE</span> <span class="c">! just get curve min/max values if capacity or cond volume flow rate = 0</span>
<a name="ln-3923"></a>    <span class="k">CALL </span><span class="n">GetCurveMinMaxValues</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3924"></a>           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTXTempMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTXTempMax</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3925"></a>           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTYTempMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTYTempMax</span><span class="p">)</span>
<a name="ln-3926"></a>    <span class="k">CALL </span><span class="n">GetCurveMinMaxValues</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3927"></a>           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTXTempMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTXTempMax</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3928"></a>           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTYTempMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTYTempMax</span><span class="p">)</span>
<a name="ln-3929"></a>    <span class="k">CALL </span><span class="n">GetCurveMinMaxValues</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3930"></a>           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRTempMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRTempMax</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3931"></a>           <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMin</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMax</span><span class="p">)</span>
<a name="ln-3932"></a>  <span class="k">END IF</span>
<a name="ln-3933"></a>
<a name="ln-3934"></a><span class="k">  IF</span> <span class="p">(</span><span class="n">ErrorsFound</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-3935"></a><span class="k">    CALL </span><span class="n">ShowFatalError</span><span class="p">(</span><span class="s1">&#39;Preceding sizing errors cause program termination&#39;</span><span class="p">)</span>
<a name="ln-3936"></a>  <span class="k">END IF</span>
<a name="ln-3937"></a>
<a name="ln-3938"></a><span class="k">  RETURN</span>
<a name="ln-3939"></a>
<a name="ln-3940"></a><span class="k">END SUBROUTINE </span><span class="n">SizeElecReformEIRChiller</span>
<a name="ln-3941"></a>
<a name="ln-3942"></a><span class="k">SUBROUTINE </span><span class="n">ControlReformEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">)</span>
<a name="ln-3943"></a>
<a name="ln-3944"></a>          <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-3945"></a>          <span class="c">!       AUTHOR         Lixing Gu, FSEC</span>
<a name="ln-3946"></a>          <span class="c">!       DATE WRITTEN   July 2006</span>
<a name="ln-3947"></a>          <span class="c">!       MODIFIED       na</span>
<a name="ln-3948"></a>          <span class="c">!       RE-ENGINEERED  na</span>
<a name="ln-3949"></a>
<a name="ln-3950"></a>          <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-3951"></a>          <span class="c">! Simulate a vapor compression chiller using the reformulated model developed by Mark Hydeman</span>
<a name="ln-3952"></a>
<a name="ln-3953"></a>          <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-3954"></a>          <span class="c">! Use empirical curve fits to model performance at off-design conditions. This subroutine</span>
<a name="ln-3955"></a>          <span class="c">! calls Subroutines CalcReformEIRChillerModel and SolveRegulaFalsi to obtain solution.</span>
<a name="ln-3956"></a>          <span class="c">! The actual chiller performance calculations are in Subroutine CalcReformEIRChillerModel.</span>
<a name="ln-3957"></a>
<a name="ln-3958"></a>          <span class="c">! REFERENCES:</span>
<a name="ln-3959"></a>          <span class="c">! 1. Hydeman, M., P. Sreedharan, N. Webb, and S. Blanc. 2002. &quot;Development and Testing of a Reformulated</span>
<a name="ln-3960"></a>          <span class="c">!    Regression-Based Electric Chiller Model&quot;. ASHRAE Transactions, HI-02-18-2, Vol 108, Part 2, pp. 1118-1127.</span>
<a name="ln-3961"></a>
<a name="ln-3962"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-3963"></a>
<a name="ln-3964"></a> <span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>     <span class="n">ONLY</span> <span class="p">:</span> <span class="n">WarmupFlag</span>
<a name="ln-3965"></a> <span class="k">USE </span><span class="n">DataInterfaces</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">ShowFatalError</span><span class="p">,</span> <span class="n">ShowSevereError</span><span class="p">,</span> <span class="n">ShowWarningError</span><span class="p">,</span> <span class="n">ShowContinueErrorTimeStamp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-3966"></a>                             <span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">,</span> <span class="n">ShowContinueError</span>
<a name="ln-3967"></a> <span class="k">USE </span><span class="n">DataHVACGlobals</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">SmallLoad</span>
<a name="ln-3968"></a> <span class="k">USE </span><span class="n">CurveManager</span><span class="p">,</span>    <span class="n">ONLY</span> <span class="p">:</span> <span class="n">GetCurveMinMaxValues</span>
<a name="ln-3969"></a> <span class="k">USE </span><span class="n">DataBranchAirLoopPlant</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">ControlType_SeriesActive</span>
<a name="ln-3970"></a> <span class="k">USE </span><span class="n">General</span><span class="p">,</span>         <span class="n">ONLY</span> <span class="p">:</span> <span class="n">SolveRegulaFalsi</span>
<a name="ln-3971"></a>
<a name="ln-3972"></a> <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-3973"></a>
<a name="ln-3974"></a>         <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-3975"></a>
<a name="ln-3976"></a> <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">EIRChillNum</span>     <span class="c">! Chiller number</span>
<a name="ln-3977"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">MyLoad</span>          <span class="c">! Operating load [W]</span>
<a name="ln-3978"></a> <span class="kt">LOGICAL</span>                <span class="kd">::</span> <span class="n">FirstIteration</span>  <span class="c">! TRUE when first iteration of timestep</span>
<a name="ln-3979"></a> <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">RunFlag</span>         <span class="c">! TRUE when chiller operating</span>
<a name="ln-3980"></a> <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">EquipFlowCtrl</span>   <span class="c">! Flow control mode for the equipment</span>
<a name="ln-3981"></a>
<a name="ln-3982"></a>         <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-3983"></a>
<a name="ln-3984"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">Acc</span> <span class="o">=</span> <span class="mf">0.0001D0</span>    <span class="c">! Accuracy control for SolveRegulaFalsi</span>
<a name="ln-3985"></a> <span class="kt">INTEGER</span><span class="p">,</span><span class="k">PARAMETER</span>          <span class="kd">::</span> <span class="n">MaxIter</span> <span class="o">=</span> <span class="mi">500</span>   <span class="c">! Iteration control for SolveRegulaFalsi</span>
<a name="ln-3986"></a>
<a name="ln-3987"></a>         <span class="c">! INTERFACE BLOCK SPECIFICATIONS:</span>
<a name="ln-3988"></a>         <span class="c">!  na</span>
<a name="ln-3989"></a>
<a name="ln-3990"></a>         <span class="c">! DERIVED TYPE DEFINITIONS:</span>
<a name="ln-3991"></a>         <span class="c">!  na</span>
<a name="ln-3992"></a>
<a name="ln-3993"></a>         <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-3994"></a>
<a name="ln-3995"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">CAPFTYTmin</span>            <span class="c">! Minimum condenser leaving temperature allowed by CAPFT curve [C]</span>
<a name="ln-3996"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">CAPFTYTmax</span>            <span class="c">! Maximum condenser leaving temperature allowed by CAPFT curve [C]</span>
<a name="ln-3997"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EIRFTYTmin</span>            <span class="c">! Minimum condenser leaving temperature allowed by EIRFT curve [C]</span>
<a name="ln-3998"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EIRFTYTmax</span>            <span class="c">! Maximum condenser leaving temperature allowed by EIRFT curve [C]</span>
<a name="ln-3999"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EIRFPLRTmin</span>           <span class="c">! Minimum condenser leaving temperature allowed by EIRFPLR curve [C]</span>
<a name="ln-4000"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EIRFPLRTmax</span>           <span class="c">! Maximum condenser leaving temperature allowed by EIRFPLR curve [C]</span>
<a name="ln-4001"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">Tmin</span>                  <span class="c">! Minimum condenser leaving temperature allowed by curve objects [C]</span>
<a name="ln-4002"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">Tmax</span>                  <span class="c">! Maximum condenser leaving temperature allowed by curve objects [C]</span>
<a name="ln-4003"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">Par</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>                <span class="c">! Pass parameters for RegulaFalsi solver</span>
<a name="ln-4004"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">FalsiCondOutTemp</span>      <span class="c">! RegulaFalsi condenser outlet temperature result [C]</span>
<a name="ln-4005"></a> <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">SolFla</span>                <span class="c">! Feedback flag from SolveRegulaFalsi</span>
<a name="ln-4006"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">CondTempMin</span>     <span class="c">! Condenser outlet temperature when using Tmin as input to CalcReformEIRChillerModel [C]</span>
<a name="ln-4007"></a> <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">CondTempMax</span>     <span class="c">! Condenser outlet temperature when using Tmax as input to CalcReformEIRChillerModel [C]</span>
<a name="ln-4008"></a>
<a name="ln-4009"></a> <span class="k">IF</span> <span class="p">(</span><span class="n">MyLoad</span> <span class="o">&gt;=</span> <span class="mf">0.d0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">RunFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4010"></a><span class="k">   CALL </span><span class="n">CalcReformEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4011"></a>                                  <span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span><span class="p">)%</span><span class="n">Temp</span><span class="p">)</span>
<a name="ln-4012"></a> <span class="k">ELSE</span>
<a name="ln-4013"></a>
<a name="ln-4014"></a><span class="c">!  Find min/max condenser outlet temperature used by curve objects</span>
<a name="ln-4015"></a>   <span class="n">CAPFTYTmin</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTYTempMin</span>
<a name="ln-4016"></a>   <span class="n">EIRFTYTmin</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTYTempMin</span>
<a name="ln-4017"></a>   <span class="n">EIRFPLRTmin</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRTempMin</span>
<a name="ln-4018"></a>   <span class="n">Tmin</span> <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="n">CAPFTYTmin</span><span class="p">,</span> <span class="n">EIRFTYTmin</span><span class="p">,</span> <span class="n">EIRFPLRTmin</span><span class="p">)</span>
<a name="ln-4019"></a>
<a name="ln-4020"></a>   <span class="n">CAPFTYTmax</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTYTempMax</span>
<a name="ln-4021"></a>   <span class="n">EIRFTYTmax</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTYTempMax</span>
<a name="ln-4022"></a>   <span class="n">EIRFPLRTmax</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRTempMax</span>
<a name="ln-4023"></a>   <span class="n">Tmax</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="n">CAPFTYTmax</span><span class="p">,</span> <span class="n">EIRFTYTmax</span><span class="p">,</span> <span class="n">EIRFPLRTmax</span><span class="p">)</span>
<a name="ln-4024"></a>
<a name="ln-4025"></a><span class="c">!  Check that condenser outlet temperature is within curve object limits prior to calling RegulaFalsi</span>
<a name="ln-4026"></a>   <span class="k">CALL </span><span class="n">CalcReformEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">,</span><span class="n">Tmin</span><span class="p">)</span>
<a name="ln-4027"></a>   <span class="n">CondTempMin</span> <span class="o">=</span> <span class="n">CondOutletTemp</span>
<a name="ln-4028"></a>   <span class="k">CALL </span><span class="n">CalcReformEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">,</span><span class="n">Tmax</span><span class="p">)</span>
<a name="ln-4029"></a>   <span class="n">CondTempMax</span> <span class="o">=</span> <span class="n">CondOutletTemp</span>
<a name="ln-4030"></a>
<a name="ln-4031"></a>   <span class="k">IF</span><span class="p">(</span><span class="n">CondTempMin</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">Tmin</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">CondTempMax</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">Tmax</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-4032"></a>
<a name="ln-4033"></a><span class="c">!    Initialize iteration parameters for RegulaFalsi function</span>
<a name="ln-4034"></a>     <span class="n">Par</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">EIRChillNum</span>
<a name="ln-4035"></a>     <span class="n">Par</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">MyLoad</span>
<a name="ln-4036"></a>     <span class="k">IF</span> <span class="p">(</span><span class="n">Runflag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4037"></a><span class="k">       </span><span class="n">Par</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mf">1.0d0</span>
<a name="ln-4038"></a>     <span class="k">ELSE</span>
<a name="ln-4039"></a><span class="k">       </span><span class="n">Par</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4040"></a>     <span class="k">END IF</span>
<a name="ln-4041"></a><span class="k">     IF</span> <span class="p">(</span><span class="n">FirstIteration</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4042"></a><span class="k">       </span><span class="n">Par</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="mf">1.0d0</span>
<a name="ln-4043"></a>     <span class="k">ELSE</span>
<a name="ln-4044"></a><span class="k">       </span><span class="n">Par</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4045"></a>     <span class="k">END IF</span>
<a name="ln-4046"></a>     <span class="c">!Par(5) = FlowLock !DSU</span>
<a name="ln-4047"></a>     <span class="n">Par</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">=</span> <span class="n">EquipFlowCtrl</span>
<a name="ln-4048"></a>
<a name="ln-4049"></a>     <span class="k">CALL </span><span class="n">SolveRegulaFalsi</span><span class="p">(</span><span class="n">Acc</span><span class="p">,</span> <span class="n">MaxIter</span><span class="p">,</span> <span class="n">SolFla</span><span class="p">,</span> <span class="n">FalsiCondOutTemp</span><span class="p">,</span> <span class="n">CondOutTempResidual</span><span class="p">,</span> <span class="n">Tmin</span><span class="p">,</span> <span class="n">Tmax</span><span class="p">,</span> <span class="n">Par</span><span class="p">)</span>
<a name="ln-4050"></a>
<a name="ln-4051"></a>     <span class="k">IF</span> <span class="p">(</span><span class="n">SolFla</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4052"></a><span class="k">       IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4053"></a><span class="k">         </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">IterLimitExceededNum</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">IterLimitExceededNum</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-4054"></a>         <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">IterLimitExceededNum</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4055"></a><span class="k">           CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-4056"></a>             <span class="s1">&#39;: Iteration limit exceeded calculating condenser outlet temperature and non-converged temperature is used&#39;</span><span class="p">)</span>
<a name="ln-4057"></a>         <span class="k">ELSE</span>
<a name="ln-4058"></a><span class="k">           CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-4059"></a>              <span class="s1">&#39;: Iteration limit exceeded calculating condenser outlet temperature.&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4060"></a>              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">IterLimitErrIndex</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">)</span>
<a name="ln-4061"></a>         <span class="k">END IF</span>
<a name="ln-4062"></a><span class="k">       END IF</span>
<a name="ln-4063"></a><span class="k">     ELSE IF</span> <span class="p">(</span><span class="n">SolFla</span> <span class="o">==</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4064"></a><span class="k">       IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4065"></a><span class="k">         </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">IterFailed</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">IterFailed</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-4066"></a>         <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">IterFailed</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4067"></a><span class="k">           CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-4068"></a>             <span class="s1">&#39;: Solution found when calculating condenser outlet temperature.&#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-4069"></a>             <span class="s1">&#39; The inlet temperature will used and the simulation continues...&#39;</span><span class="p">)</span>
<a name="ln-4070"></a>           <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39;Please check minimum and maximum values of x in EIRFPLR Curve &#39;</span> <span class="p">&amp;</span>
<a name="ln-4071"></a>                                  <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRName</span><span class="p">))</span>
<a name="ln-4072"></a>         <span class="k">ELSE</span>
<a name="ln-4073"></a><span class="k">           CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-4074"></a>             <span class="s1">&#39;: Solution is not found in calculating condenser outlet temperature.&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4075"></a>             <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">IterFailedIndex</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">)</span>
<a name="ln-4076"></a>         <span class="k">END IF</span>
<a name="ln-4077"></a><span class="k">       END IF</span>
<a name="ln-4078"></a><span class="k">       CALL </span><span class="n">CalcReformEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4079"></a>            <span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span><span class="p">)%</span><span class="n">Temp</span><span class="p">)</span>
<a name="ln-4080"></a>     <span class="k">END IF</span>
<a name="ln-4081"></a><span class="k">   ELSE</span>
<a name="ln-4082"></a><span class="c">!    If iteration is not possible, average the min/max condenser outlet temperature and manually determine solution</span>
<a name="ln-4083"></a>     <span class="k">CALL </span><span class="n">CalcReformEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">,(</span><span class="n">CondTempMin</span><span class="o">+</span><span class="n">CondTempMax</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0d0</span><span class="p">)</span>
<a name="ln-4084"></a>     <span class="k">CALL </span><span class="n">CalcReformEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">)</span>
<a name="ln-4085"></a>   <span class="k">END IF</span>
<a name="ln-4086"></a>
<a name="ln-4087"></a><span class="c">!  Call subroutine to evaluate all performance curve min/max values against evaporator/condenser outlet temps and PLR</span>
<a name="ln-4088"></a>   <span class="k">CALL </span><span class="n">CheckMinMaxCurveBoundaries</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span> <span class="n">FirstIteration</span><span class="p">)</span>
<a name="ln-4089"></a>
<a name="ln-4090"></a> <span class="k">END IF</span>
<a name="ln-4091"></a>
<a name="ln-4092"></a><span class="k"> RETURN</span>
<a name="ln-4093"></a>
<a name="ln-4094"></a><span class="k">END SUBROUTINE </span><span class="n">ControlReformEIRChillerModel</span>
<a name="ln-4095"></a>
<a name="ln-4096"></a><span class="k">SUBROUTINE </span><span class="n">ReformEIRChillerHeatRecovery</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">QCond</span><span class="p">,</span><span class="n">CondMassFlow</span><span class="p">,</span><span class="n">CondInletTemp</span><span class="p">,</span><span class="n">QHeatRec</span><span class="p">)</span>
<a name="ln-4097"></a>            <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-4098"></a>            <span class="c">!       AUTHOR:          Lixing Gu, FSEC</span>
<a name="ln-4099"></a>            <span class="c">!       DATE WRITTEN:    July 2006</span>
<a name="ln-4100"></a>            <span class="c">!       MODIFIED:        na</span>
<a name="ln-4101"></a>
<a name="ln-4102"></a>            <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-4103"></a>            <span class="c">!  Calculate the heat recovered from the chiller condenser</span>
<a name="ln-4104"></a>
<a name="ln-4105"></a>            <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-4106"></a>            <span class="c">!  na</span>
<a name="ln-4107"></a>
<a name="ln-4108"></a>            <span class="c">! REFERENCES:</span>
<a name="ln-4109"></a>            <span class="c">!  na</span>
<a name="ln-4110"></a>
<a name="ln-4111"></a>            <span class="c">! USE STATEMENTS:</span>
<a name="ln-4112"></a>  <span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">SingleSetPoint</span><span class="p">,</span> <span class="n">DualSetPointDeadBand</span><span class="p">,</span> <span class="n">PlantLoop</span>
<a name="ln-4113"></a>  <span class="k">USE </span><span class="n">ScheduleManager</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">GetCurrentScheduleValue</span>
<a name="ln-4114"></a>
<a name="ln-4115"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-4116"></a>
<a name="ln-4117"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-4118"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span> <span class="p">(</span><span class="n">IN</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">EIRChillNum</span>   <span class="c">! Number of the current electric EIR chiller being simulated</span>
<a name="ln-4119"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span>       <span class="kd">::</span> <span class="n">QCond</span>         <span class="c">! Current condenser load [W]</span>
<a name="ln-4120"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">OUT</span><span class="p">)</span>         <span class="kd">::</span> <span class="n">QHeatRec</span>      <span class="c">! Amount of heat recovered [W]</span>
<a name="ln-4121"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">CondMassFlow</span>  <span class="c">! Current condenser mass flow [kg/s]</span>
<a name="ln-4122"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>          <span class="kd">::</span> <span class="n">CondInletTemp</span> <span class="c">! Current condenser inlet temp [C]</span>
<a name="ln-4123"></a>
<a name="ln-4124"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-4125"></a>          <span class="c">!  na</span>
<a name="ln-4126"></a>
<a name="ln-4127"></a>          <span class="c">! DERIVED TYPE DEFINITIONS:</span>
<a name="ln-4128"></a>          <span class="c">!  na</span>
<a name="ln-4129"></a>
<a name="ln-4130"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-4131"></a>  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">CondInletNode</span>       <span class="c">! Condenser inlet node number</span>
<a name="ln-4132"></a>  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">CondOutletNode</span>      <span class="c">! Condenser outlet node number</span>
<a name="ln-4133"></a>  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">HeatRecInNode</span>       <span class="c">! Node number for heat recovery water inlet node</span>
<a name="ln-4134"></a>  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">HeatRecOutNode</span>      <span class="c">! Node number for heat recovery water outlet node</span>
<a name="ln-4135"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">QTotal</span>              <span class="c">! Total condenser heat [W]</span>
<a name="ln-4136"></a><span class="c">!  REAL(r64)    :: QCondTmp            ! Total condenser heat based on average temperatures [W]</span>
<a name="ln-4137"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecInletTemp</span>    <span class="c">! Heat reclaim inlet temp [C]</span>
<a name="ln-4138"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecMassFlowRate</span> <span class="c">! Heat reclaim mass flow rate [m3/s]</span>
<a name="ln-4139"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">FracHeatRec</span>         <span class="c">! Fraction of condenser heat reclaimed</span>
<a name="ln-4140"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">TAvgIn</span>              <span class="c">! Average inlet temperature of heat reclaim inlet and condenser inlet [C]</span>
<a name="ln-4141"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">TAvgOut</span>             <span class="c">! Average outlet temperature [C]</span>
<a name="ln-4142"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CpHeatRec</span>           <span class="c">! Heat reclaim water inlet specific heat [J/kg-K]</span>
<a name="ln-4143"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">CpCond</span>              <span class="c">! Condenser water inlet specific heat [J/kg-K]</span>
<a name="ln-4144"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">QHeatRecToSetpoint</span>
<a name="ln-4145"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">THeatRecSetpoint</span>
<a name="ln-4146"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">HeatRecHighInletLimit</span>
<a name="ln-4147"></a>
<a name="ln-4148"></a>
<a name="ln-4149"></a>  <span class="c">! Begin routine</span>
<a name="ln-4150"></a>  <span class="n">HeatRecInNode</span>  <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span>
<a name="ln-4151"></a>  <span class="n">HeatRecOutNode</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span>
<a name="ln-4152"></a>  <span class="n">CondInletNode</span>  <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>
<a name="ln-4153"></a>  <span class="n">CondOutletNode</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>
<a name="ln-4154"></a>
<a name="ln-4155"></a>   <span class="c">! inlet node to the heat recovery heat exchanger</span>
<a name="ln-4156"></a>  <span class="n">HeatRecInletTemp</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4157"></a>  <span class="n">HeatRecMassFlowRate</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>
<a name="ln-4158"></a>
<a name="ln-4159"></a>  <span class="n">CpHeatRec</span> <span class="o">=</span>  <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-4160"></a>                                     <span class="n">HeatRecInletTemp</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-4161"></a>                                     <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4162"></a>                                     <span class="s1">&#39;EIRChillerHeatRecovery&#39;</span><span class="p">)</span>
<a name="ln-4163"></a>  <span class="n">CpCond</span> <span class="o">=</span>  <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-4164"></a>                                  <span class="n">CondInletTemp</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-4165"></a>                                  <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4166"></a>                                  <span class="s1">&#39;EIRChillerHeatRecovery&#39;</span><span class="p">)</span>
<a name="ln-4167"></a>
<a name="ln-4168"></a>
<a name="ln-4169"></a>  <span class="c">! Before we modify the QCondenser, the total or original value is transferred to QTot</span>
<a name="ln-4170"></a>  <span class="n">QTotal</span> <span class="o">=</span> <span class="n">QCond</span>
<a name="ln-4171"></a>
<a name="ln-4172"></a>
<a name="ln-4173"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! use original algorithm that blends temps</span>
<a name="ln-4174"></a>    <span class="n">TAvgIn</span> <span class="o">=</span> <span class="p">(</span><span class="n">HeatRecMassFlowRate</span><span class="o">*</span><span class="n">CpHeatRec</span><span class="o">*</span><span class="n">HeatRecInletTemp</span> <span class="o">+</span> <span class="n">CondMassFlow</span><span class="o">*</span><span class="n">CpCond</span><span class="o">*</span><span class="n">CondInletTemp</span><span class="p">)</span><span class="o">/</span>  <span class="p">&amp;</span>
<a name="ln-4175"></a>               <span class="p">(</span><span class="n">HeatRecMassFlowRate</span><span class="o">*</span><span class="n">CpHeatRec</span> <span class="o">+</span> <span class="n">CondMassFlow</span><span class="o">*</span><span class="n">CpCond</span><span class="p">)</span>
<a name="ln-4176"></a>
<a name="ln-4177"></a>    <span class="n">TAvgOut</span> <span class="o">=</span> <span class="n">QTotal</span><span class="o">/</span><span class="p">(</span><span class="n">HeatRecMassFlowRate</span><span class="o">*</span><span class="n">CpHeatRec</span> <span class="o">+</span> <span class="n">CondMassFlow</span><span class="o">*</span><span class="n">CpCond</span><span class="p">)</span> <span class="o">+</span> <span class="n">TAvgIn</span>
<a name="ln-4178"></a>
<a name="ln-4179"></a>    <span class="n">QHeatRec</span> <span class="o">=</span> <span class="n">HeatRecMassFlowRate</span> <span class="o">*</span> <span class="n">CpHeatRec</span> <span class="o">*</span> <span class="p">(</span><span class="n">TAvgOut</span> <span class="o">-</span> <span class="n">HeatRecInletTemp</span><span class="p">)</span>
<a name="ln-4180"></a>    <span class="n">QHeatRec</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="n">QHeatRec</span><span class="p">,</span> <span class="mf">0.d0</span><span class="p">)</span> <span class="c">! ensure non negative</span>
<a name="ln-4181"></a>   <span class="c">!check if heat flow too large for physical size of bundle</span>
<a name="ln-4182"></a>    <span class="n">QHeatRec</span> <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="n">QHeatRec</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecMaxCapacityLimit</span><span class="p">)</span>
<a name="ln-4183"></a>  <span class="k">ELSE</span> <span class="c">! use new algorithm to meet setpoint</span>
<a name="ln-4184"></a>    <span class="k">SELECT CASE</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HRLoopNum</span><span class="p">)%</span><span class="n">LoopDemandCalcScheme</span><span class="p">)</span>
<a name="ln-4185"></a>
<a name="ln-4186"></a>    <span class="k">CASE</span> <span class="p">(</span><span class="n">SingleSetPoint</span><span class="p">)</span>
<a name="ln-4187"></a>      <span class="n">THeatRecSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-4188"></a>    <span class="k">CASE</span> <span class="p">(</span><span class="n">DualSetPointDeadBand</span><span class="p">)</span>
<a name="ln-4189"></a>      <span class="n">THeatRecSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecSetpointNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-4190"></a>    <span class="k">END SELECT</span>
<a name="ln-4191"></a>
<a name="ln-4192"></a><span class="k">    </span><span class="n">QHeatRecToSetpoint</span> <span class="o">=</span> <span class="n">HeatRecMassFlowRate</span> <span class="o">*</span>  <span class="n">CpHeatRec</span> <span class="o">*</span> <span class="p">(</span><span class="n">THeatRecSetpoint</span> <span class="o">-</span> <span class="n">HeatRecInletTemp</span><span class="p">)</span>
<a name="ln-4193"></a>    <span class="n">QHeatRecToSetpoint</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="n">QHeatRecToSetpoint</span><span class="p">,</span> <span class="mf">0.d0</span><span class="p">)</span>
<a name="ln-4194"></a>    <span class="n">QHeatRec</span> <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="n">QTotal</span><span class="p">,</span> <span class="n">QHeatRecToSetpoint</span><span class="p">)</span>
<a name="ln-4195"></a>     <span class="c">!check if heat flow too large for physical size of bundle</span>
<a name="ln-4196"></a>    <span class="n">QHeatRec</span> <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="n">QHeatRec</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecMaxCapacityLimit</span><span class="p">)</span>
<a name="ln-4197"></a>  <span class="n">ENDIF</span>
<a name="ln-4198"></a>
<a name="ln-4199"></a>   <span class="c">! check if limit on inlet is present and exceeded.</span>
<a name="ln-4200"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4201"></a><span class="k">    </span><span class="n">HeatRecHighInletLimit</span> <span class="o">=</span>  <span class="n">GetCurrentScheduleValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecInletLimitSchedNum</span><span class="p">)</span>
<a name="ln-4202"></a>    <span class="k">IF</span> <span class="p">(</span> <span class="n">HeatRecInletTemp</span> <span class="o">&gt;</span> <span class="n">HeatRecHighInletLimit</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! shut down heat recovery</span>
<a name="ln-4203"></a>      <span class="n">QHeatRec</span> <span class="o">=</span> <span class="mf">0.d0</span>
<a name="ln-4204"></a>    <span class="n">ENDIF</span>
<a name="ln-4205"></a>  <span class="n">ENDIF</span>
<a name="ln-4206"></a>
<a name="ln-4207"></a>  <span class="n">QCond</span> <span class="o">=</span> <span class="n">QTotal</span> <span class="o">-</span> <span class="n">QHeatRec</span>
<a name="ln-4208"></a>
<a name="ln-4209"></a>  <span class="c">! Calculate a new Heat Recovery Coil Outlet Temp</span>
<a name="ln-4210"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">HeatRecMassFlowRate</span> <span class="o">&gt;</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4211"></a><span class="k">    </span><span class="n">HeatRecOutletTemp</span> <span class="o">=</span> <span class="n">QHeatRec</span><span class="o">/</span><span class="p">(</span><span class="n">HeatRecMassFlowRate</span><span class="o">*</span><span class="n">CpHeatRec</span><span class="p">)</span> <span class="o">+</span> <span class="n">HeatRecInletTemp</span>
<a name="ln-4212"></a>  <span class="k">ELSE</span>
<a name="ln-4213"></a><span class="k">    </span><span class="n">HeatRecOutletTemp</span> <span class="o">=</span> <span class="n">HeatRecInletTemp</span>
<a name="ln-4214"></a>  <span class="k">END IF</span>
<a name="ln-4215"></a>
<a name="ln-4216"></a><span class="k">  RETURN</span>
<a name="ln-4217"></a>
<a name="ln-4218"></a><span class="k">END SUBROUTINE </span><span class="n">ReformEIRChillerHeatRecovery</span>
<a name="ln-4219"></a>
<a name="ln-4220"></a><span class="k">SUBROUTINE </span><span class="n">UpdateReformEIRChillerRecords</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">RunFlag</span><span class="p">,</span><span class="n">Num</span><span class="p">)</span>
<a name="ln-4221"></a>            <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-4222"></a>            <span class="c">!       AUTHOR:          Lixing Gu, FSEC</span>
<a name="ln-4223"></a>            <span class="c">!       DATE WRITTEN:    July 2006</span>
<a name="ln-4224"></a>
<a name="ln-4225"></a>            <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-4226"></a>            <span class="c">!  Reporting</span>
<a name="ln-4227"></a>
<a name="ln-4228"></a>            <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-4229"></a>            <span class="c">!  na</span>
<a name="ln-4230"></a>
<a name="ln-4231"></a>            <span class="c">! REFERENCES:</span>
<a name="ln-4232"></a>            <span class="c">!  na</span>
<a name="ln-4233"></a>
<a name="ln-4234"></a>            <span class="c">! USE STATEMENTS:</span>
<a name="ln-4235"></a>
<a name="ln-4236"></a>  <span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>     <span class="n">ONLY</span> <span class="p">:</span> <span class="n">SecInHour</span>
<a name="ln-4237"></a>  <span class="k">USE </span><span class="n">DataHVACGlobals</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">TimeStepSys</span>
<a name="ln-4238"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">SafeCopyPlantNode</span>
<a name="ln-4239"></a>
<a name="ln-4240"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-4241"></a>
<a name="ln-4242"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-4243"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span><span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">MyLoad</span>    <span class="c">! Current load [W]</span>
<a name="ln-4244"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">RunFlag</span>   <span class="c">! TRUE if chiller operating</span>
<a name="ln-4245"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>      <span class="kd">::</span> <span class="n">Num</span>       <span class="c">! Chiller number</span>
<a name="ln-4246"></a>
<a name="ln-4247"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-4248"></a>          <span class="c">!  na</span>
<a name="ln-4249"></a>
<a name="ln-4250"></a>          <span class="c">! DERIVED TYPE DEFINITIONS</span>
<a name="ln-4251"></a>          <span class="c">!  na</span>
<a name="ln-4252"></a>
<a name="ln-4253"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-4254"></a>  <span class="kt">INTEGER</span>  <span class="kd">::</span> <span class="n">EvapInletNode</span>         <span class="c">! Evaporator inlet node number</span>
<a name="ln-4255"></a>  <span class="kt">INTEGER</span>  <span class="kd">::</span> <span class="n">EvapOutletNode</span>        <span class="c">! Evaporator outlet node number</span>
<a name="ln-4256"></a>  <span class="kt">INTEGER</span>  <span class="kd">::</span> <span class="n">CondInletNode</span>         <span class="c">! Condenser inlet node number</span>
<a name="ln-4257"></a>  <span class="kt">INTEGER</span>  <span class="kd">::</span> <span class="n">CondOutletNode</span>        <span class="c">! Condenser outlet node number</span>
<a name="ln-4258"></a>  <span class="kt">INTEGER</span>  <span class="kd">::</span> <span class="n">HeatRecInNode</span>         <span class="c">! Node number for the heat recovery water inlet node</span>
<a name="ln-4259"></a>  <span class="kt">INTEGER</span>  <span class="kd">::</span> <span class="n">HeatRecOutNode</span>        <span class="c">! Node number for the heat recovery water outlet node</span>
<a name="ln-4260"></a>
<a name="ln-4261"></a>
<a name="ln-4262"></a>  <span class="n">EvapInletNode</span>  <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span>
<a name="ln-4263"></a>  <span class="n">EvapOutletNode</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span>
<a name="ln-4264"></a>  <span class="n">CondInletNode</span>  <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>
<a name="ln-4265"></a>  <span class="n">CondOutletNode</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>
<a name="ln-4266"></a>  <span class="n">HeatRecInNode</span>  <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecInletNodeNum</span>
<a name="ln-4267"></a>  <span class="n">HeatRecOutNode</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecOutletNodeNum</span>
<a name="ln-4268"></a>
<a name="ln-4269"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">MyLoad</span> <span class="o">&gt;=</span> <span class="mf">0.d0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">RunFlag</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! Chiller not running so pass inlet states to outlet states</span>
<a name="ln-4270"></a>    <span class="c">! Set node temperatures</span>
<a name="ln-4271"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">Temp</span>     <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4272"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">Temp</span>     <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4273"></a>
<a name="ln-4274"></a>
<a name="ln-4275"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerPartLoadRatio</span>  <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4276"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerCyclingRatio</span>   <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4277"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerFalseLoadRate</span>  <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4278"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerFalseLoad</span>      <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4279"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Power</span>                 <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4280"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QEvap</span>                 <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4281"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QCond</span>                 <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4282"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Energy</span>                <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4283"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapEnergy</span>            <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4284"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondEnergy</span>            <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4285"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapInletTemp</span>         <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4286"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondInletTemp</span>         <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4287"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondOutletTemp</span>        <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4288"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapOutletTemp</span>        <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4289"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Evapmdot</span>              <span class="o">=</span> <span class="n">EvapMassFlowRate</span>  <span class="c">! could still be flow if in series</span>
<a name="ln-4290"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Condmdot</span>              <span class="o">=</span> <span class="n">CondMassFlowRate</span>  <span class="c">! could still be flow if in series</span>
<a name="ln-4291"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ActualCOP</span>             <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4292"></a>
<a name="ln-4293"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4294"></a>
<a name="ln-4295"></a><span class="k">       CALL </span><span class="n">SafeCopyPlantNode</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">,</span> <span class="n">HeatRecOutNode</span><span class="p">)</span>
<a name="ln-4296"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QHeatRecovery</span>      <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4297"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EnergyHeatRecovery</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4298"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecInletTemp</span>   <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4299"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecOutletTemp</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecOutNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4300"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecMassFlow</span>    <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>
<a name="ln-4301"></a>
<a name="ln-4302"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerCondAvgTemp</span> <span class="o">=</span> <span class="n">AvgCondSinkTemp</span>
<a name="ln-4303"></a>    <span class="k">END IF</span>
<a name="ln-4304"></a>
<a name="ln-4305"></a><span class="k">  ELSE</span> <span class="c">! Chiller is running, so pass calculated values</span>
<a name="ln-4306"></a>    <span class="c">! Set node temperatures</span>
<a name="ln-4307"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">Temp</span>     <span class="o">=</span> <span class="n">EvapOutletTemp</span>
<a name="ln-4308"></a>    <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">Temp</span>     <span class="o">=</span> <span class="n">CondOutletTemp</span>
<a name="ln-4309"></a>    <span class="c">! Set node flow rates;  for these load based models</span>
<a name="ln-4310"></a>    <span class="c">! assume that sufficient evaporator flow rate is available</span>
<a name="ln-4311"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerPartLoadRatio</span>  <span class="o">=</span> <span class="n">ChillerPartLoadRatio</span>
<a name="ln-4312"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerCyclingRatio</span>   <span class="o">=</span> <span class="n">ChillerCyclingRatio</span>
<a name="ln-4313"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerFalseLoadRate</span>  <span class="o">=</span> <span class="n">ChillerFalseLoadRate</span>
<a name="ln-4314"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerFalseLoad</span>      <span class="o">=</span> <span class="n">ChillerFalseLoadRate</span><span class="o">*</span><span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-4315"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Power</span>                 <span class="o">=</span> <span class="n">Power</span>
<a name="ln-4316"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QEvap</span>                 <span class="o">=</span> <span class="n">QEvaporator</span>
<a name="ln-4317"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QCond</span>                 <span class="o">=</span> <span class="n">QCondenser</span>
<a name="ln-4318"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Energy</span>                <span class="o">=</span> <span class="n">Power</span><span class="o">*</span><span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-4319"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapEnergy</span>            <span class="o">=</span> <span class="n">QEvaporator</span><span class="o">*</span><span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-4320"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondEnergy</span>            <span class="o">=</span> <span class="n">QCondenser</span><span class="o">*</span><span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-4321"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapInletTemp</span>         <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4322"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondInletTemp</span>         <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4323"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">CondOutletTemp</span>        <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondOutletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4324"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EvapOutletTemp</span>        <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4325"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Evapmdot</span>              <span class="o">=</span> <span class="n">EvapMassFlowRate</span>
<a name="ln-4326"></a>    <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">Condmdot</span>              <span class="o">=</span> <span class="n">CondMassFlowRate</span>
<a name="ln-4327"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">Power</span> <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4328"></a><span class="k">       </span><span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ActualCOP</span>          <span class="o">=</span> <span class="p">(</span><span class="n">QEvaporator</span><span class="o">+</span><span class="n">ChillerFalseLoadRate</span><span class="p">)</span><span class="o">/</span><span class="n">Power</span>
<a name="ln-4329"></a>    <span class="k">ELSE</span>
<a name="ln-4330"></a><span class="k">       </span><span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ActualCOP</span>          <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4331"></a>    <span class="k">END IF</span>
<a name="ln-4332"></a>
<a name="ln-4333"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4334"></a>
<a name="ln-4335"></a><span class="k">       CALL </span><span class="n">SafeCopyPlantNode</span><span class="p">(</span> <span class="n">HeatRecInNode</span><span class="p">,</span> <span class="n">HeatRecOutNode</span><span class="p">)</span>
<a name="ln-4336"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">QHeatRecovery</span>      <span class="o">=</span> <span class="n">QHeatRecovered</span>
<a name="ln-4337"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">EnergyHeatRecovery</span> <span class="o">=</span> <span class="n">QHeatRecovered</span><span class="o">*</span><span class="n">TimeStepSys</span><span class="o">*</span><span class="n">SecInHour</span>
<a name="ln-4338"></a>       <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecOutNode</span><span class="p">)%</span><span class="n">Temp</span>                          <span class="o">=</span> <span class="n">HeatRecOutletTemp</span>
<a name="ln-4339"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecInletTemp</span>   <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4340"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecOutletTemp</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecOutNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4341"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">HeatRecMassFlow</span>    <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">HeatRecInNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>
<a name="ln-4342"></a>
<a name="ln-4343"></a>       <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerCondAvgTemp</span> <span class="o">=</span> <span class="n">AvgCondSinkTemp</span>
<a name="ln-4344"></a>    <span class="k">END IF</span>
<a name="ln-4345"></a>
<a name="ln-4346"></a><span class="k">  END IF</span>
<a name="ln-4347"></a>
<a name="ln-4348"></a><span class="k">  </span><span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerCapFT</span>        <span class="o">=</span> <span class="n">ChillerCapFT</span>
<a name="ln-4349"></a>  <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerEIRFT</span>        <span class="o">=</span> <span class="n">ChillerEIRFT</span>
<a name="ln-4350"></a>  <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">Num</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span>      <span class="o">=</span> <span class="n">ChillerEIRFPLR</span>
<a name="ln-4351"></a>
<a name="ln-4352"></a>
<a name="ln-4353"></a>  <span class="k">RETURN</span>
<a name="ln-4354"></a>
<a name="ln-4355"></a><span class="k">END SUBROUTINE </span><span class="n">UpdateReformEIRChillerRecords</span>
<a name="ln-4356"></a>
<a name="ln-4357"></a><span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span> <span class="k">FUNCTION </span><span class="n">CondOutTempResidual</span><span class="p">(</span><span class="n">FalsiCondOutTemp</span><span class="p">,</span> <span class="n">Par</span><span class="p">)</span>
<a name="ln-4358"></a>
<a name="ln-4359"></a>          <span class="c">! FUNCTION INFORMATION:</span>
<a name="ln-4360"></a>          <span class="c">!       AUTHOR         Richard Raustad</span>
<a name="ln-4361"></a>          <span class="c">!       DATE WRITTEN   May 2006</span>
<a name="ln-4362"></a>          <span class="c">!       MODIFIED       L.Gu, May 2006</span>
<a name="ln-4363"></a>          <span class="c">!       RE-ENGINEERED</span>
<a name="ln-4364"></a>
<a name="ln-4365"></a>          <span class="c">! PURPOSE OF THIS FUNCTION:</span>
<a name="ln-4366"></a>          <span class="c">!  Calculates residual function (desired condenser outlet temperature)</span>
<a name="ln-4367"></a>          <span class="c">!  Reformulated EIR chiller requires condenser outlet temperature to calculate capacity and power.</span>
<a name="ln-4368"></a>
<a name="ln-4369"></a>          <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-4370"></a>          <span class="c">!  Regula Falsi solver is used to calculate condenser outlet temperature.</span>
<a name="ln-4371"></a>
<a name="ln-4372"></a>          <span class="c">! REFERENCES:</span>
<a name="ln-4373"></a>          <span class="c">!  na</span>
<a name="ln-4374"></a>
<a name="ln-4375"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-4376"></a>          <span class="c">!  na</span>
<a name="ln-4377"></a>
<a name="ln-4378"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-4379"></a>
<a name="ln-4380"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-4381"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>     <span class="kd">::</span> <span class="n">FalsiCondOutTemp</span>        <span class="c">! RegulaFalsi condenser outlet temperature result [C]</span>
<a name="ln-4382"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">),</span> <span class="k">DIMENSION</span><span class="p">(:),</span> <span class="k">OPTIONAL</span> <span class="kd">::</span> <span class="n">Par</span> <span class="c">! Parameter array used to interface with RegulaFalsi solver</span>
<a name="ln-4383"></a>
<a name="ln-4384"></a>          <span class="c">! FUNCTION PARAMETER DEFINITIONS:</span>
<a name="ln-4385"></a>          <span class="c">!  na</span>
<a name="ln-4386"></a>
<a name="ln-4387"></a>          <span class="c">! INTERFACE BLOCK SPECIFICATIONS:</span>
<a name="ln-4388"></a>          <span class="c">!  na</span>
<a name="ln-4389"></a>
<a name="ln-4390"></a>          <span class="c">! DERIVED TYPE DEFINITIONS:</span>
<a name="ln-4391"></a>          <span class="c">!  na</span>
<a name="ln-4392"></a>
<a name="ln-4393"></a>          <span class="c">! FUNCTION LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-4394"></a>  <span class="kt">INTEGER</span>              <span class="kd">::</span> <span class="n">EIRChillNum</span>         <span class="c">! Chiller number</span>
<a name="ln-4395"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>            <span class="kd">::</span> <span class="n">MyLoad</span>              <span class="c">! Operating load [W]</span>
<a name="ln-4396"></a>  <span class="kt">LOGICAL</span>              <span class="kd">::</span> <span class="n">FirstIteration</span>      <span class="c">! TRUE when first iteration of timestep</span>
<a name="ln-4397"></a>  <span class="kt">LOGICAL</span>              <span class="kd">::</span> <span class="n">RunFlag</span>             <span class="c">! TRUE when chiller operating</span>
<a name="ln-4398"></a>  <span class="kt">INTEGER</span>              <span class="kd">::</span> <span class="n">EquipFlowCtrl</span>       <span class="c">! Flow control mode for the equipment</span>
<a name="ln-4399"></a>
<a name="ln-4400"></a><span class="c">! FalsiCondOutTemp = Value used by RegulaFalsi during iteration (used to evaluate CAPFT, EIRFT, and EIRFPLR curves)</span>
<a name="ln-4401"></a><span class="c">!</span>
<a name="ln-4402"></a><span class="c">! CondOutletTemp = Value calculated by CalcReformEIRChillerModel subroutine as shown below</span>
<a name="ln-4403"></a><span class="c">! CondOutletTemp = QCondenser/CondMassFlowRate/CPCW(CondInletTemp) + CondInletTemp</span>
<a name="ln-4404"></a>
<a name="ln-4405"></a>
<a name="ln-4406"></a>  <span class="n">EIRChillNum</span> <span class="o">=</span> <span class="nb">INT</span><span class="p">(</span><span class="n">Par</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<a name="ln-4407"></a>  <span class="n">MyLoad</span> <span class="o">=</span> <span class="n">Par</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<a name="ln-4408"></a>  <span class="k">IF</span> <span class="p">(</span><span class="nb">INT</span><span class="p">(</span><span class="n">Par</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4409"></a><span class="k">    </span><span class="n">Runflag</span> <span class="o">=</span> <span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-4410"></a>  <span class="k">ELSE</span>
<a name="ln-4411"></a><span class="k">    </span><span class="n">Runflag</span> <span class="o">=</span> <span class="p">.</span><span class="n">False</span><span class="p">.</span>
<a name="ln-4412"></a>  <span class="k">END IF</span>
<a name="ln-4413"></a><span class="k">  IF</span> <span class="p">(</span><span class="nb">INT</span><span class="p">(</span><span class="n">Par</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4414"></a><span class="k">    </span><span class="n">FirstIteration</span> <span class="o">=</span> <span class="p">.</span><span class="n">True</span><span class="p">.</span>
<a name="ln-4415"></a>  <span class="k">ELSE</span>
<a name="ln-4416"></a><span class="k">    </span><span class="n">FirstIteration</span> <span class="o">=</span> <span class="p">.</span><span class="n">False</span><span class="p">.</span>
<a name="ln-4417"></a>  <span class="k">END IF</span>
<a name="ln-4418"></a>  <span class="c">!FlowLock = INT(Par(5))   !DSU</span>
<a name="ln-4419"></a>  <span class="n">EquipFlowCtrl</span> <span class="o">=</span> <span class="nb">INT</span><span class="p">(</span><span class="n">Par</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<a name="ln-4420"></a>
<a name="ln-4421"></a>  <span class="k">CALL </span><span class="n">CalcReformEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">,</span><span class="n">FalsiCondOutTemp</span><span class="p">)</span>
<a name="ln-4422"></a>  <span class="n">CondOutTempResidual</span> <span class="o">=</span> <span class="n">FalsiCondOutTemp</span> <span class="o">-</span> <span class="n">CondOutletTemp</span> <span class="c">! CondOutletTemp is module level variable, final value used for reporting</span>
<a name="ln-4423"></a>
<a name="ln-4424"></a>  <span class="k">RETURN</span>
<a name="ln-4425"></a>
<a name="ln-4426"></a><span class="k">END FUNCTION </span><span class="n">CondOutTempResidual</span>
<a name="ln-4427"></a>
<a name="ln-4428"></a><span class="k">SUBROUTINE </span><span class="n">CalcReformEIRChillerModel</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">MyLoad</span><span class="p">,</span><span class="n">Runflag</span><span class="p">,</span><span class="n">FirstIteration</span><span class="p">,</span><span class="n">EquipFlowCtrl</span><span class="p">,</span><span class="n">FalsiCondOutTemp</span><span class="p">)</span>
<a name="ln-4429"></a>
<a name="ln-4430"></a>          <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-4431"></a>          <span class="c">!       AUTHOR         Lixing Gu, FSEC</span>
<a name="ln-4432"></a>          <span class="c">!       DATE WRITTEN   July 2006</span>
<a name="ln-4433"></a>          <span class="c">!       MODIFIED       na</span>
<a name="ln-4434"></a>          <span class="c">!       RE-ENGINEERED  na</span>
<a name="ln-4435"></a>
<a name="ln-4436"></a>          <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-4437"></a>          <span class="c">!  Simulate a vapor compression chiller using the reformulated model developed by Mark Hydeman</span>
<a name="ln-4438"></a>
<a name="ln-4439"></a>          <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-4440"></a>          <span class="c">!  Use empirical curve fits to model performance at off-design conditions</span>
<a name="ln-4441"></a>
<a name="ln-4442"></a>          <span class="c">! REFERENCES:</span>
<a name="ln-4443"></a>          <span class="c">! 1. Hydeman, M., P. Sreedharan, N. Webb, and S. Blanc. 2002. &quot;Development and Testing of a Reformulated</span>
<a name="ln-4444"></a>          <span class="c">!    Regression-Based Electric Chiller Model&quot;. ASHRAE Transactions, HI-02-18-2, Vol 108, Part 2, pp. 1118-1127.</span>
<a name="ln-4445"></a>
<a name="ln-4446"></a>          <span class="c">! USE STATEMENTS:</span>
<a name="ln-4447"></a>  <span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>     <span class="n">ONLY</span> <span class="p">:</span> <span class="n">WarmupFlag</span><span class="p">,</span> <span class="n">CurrentTime</span>
<a name="ln-4448"></a>  <span class="k">USE </span><span class="n">DataInterfaces</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">ShowFatalError</span><span class="p">,</span> <span class="n">ShowSevereError</span><span class="p">,</span> <span class="n">ShowWarningError</span><span class="p">,</span> <span class="n">ShowContinueErrorTimeStamp</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4449"></a>                              <span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">,</span> <span class="n">ShowContinueError</span>
<a name="ln-4450"></a>  <span class="k">USE </span><span class="n">DataHVACGlobals</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">SmallLoad</span><span class="p">,</span> <span class="n">SysTimeElapsed</span><span class="p">,</span> <span class="n">TimeStepSys</span>
<a name="ln-4451"></a>  <span class="k">USE </span><span class="n">General</span><span class="p">,</span>         <span class="n">ONLY</span> <span class="p">:</span> <span class="n">RoundSigDigits</span><span class="p">,</span> <span class="n">CreateSysTimeIntervalString</span>
<a name="ln-4452"></a>  <span class="k">USE </span><span class="n">CurveManager</span><span class="p">,</span>    <span class="n">ONLY</span> <span class="p">:</span> <span class="n">CurveValue</span>
<a name="ln-4453"></a>  <span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>       <span class="n">ONLY</span> <span class="p">:</span> <span class="n">DeltaTemptol</span><span class="p">,</span><span class="n">PlantLoop</span><span class="p">,</span> <span class="n">SimPlantEquipTypes</span><span class="p">,</span> <span class="n">TypeOf_Chiller_ElectricReformEIR</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-4454"></a>                              <span class="n">CompSetPtBasedSchemeType</span><span class="p">,</span> <span class="n">CriteriaType_MassFlowRate</span><span class="p">,</span> <span class="n">SingleSetpoint</span><span class="p">,</span> <span class="n">DualSetpointDeadband</span>
<a name="ln-4455"></a>  <span class="k">USE </span><span class="n">DataBranchAirLoopPlant</span><span class="p">,</span> <span class="n">ONLY</span><span class="p">:</span> <span class="n">ControlType_SeriesActive</span><span class="p">,</span> <span class="n">MassFlowTolerance</span>
<a name="ln-4456"></a>  <span class="k">USE </span><span class="n">DataEnvironment</span><span class="p">,</span> <span class="n">ONLY</span> <span class="p">:</span> <span class="n">EnvironmentName</span><span class="p">,</span> <span class="n">CurMnDy</span>
<a name="ln-4457"></a>  <span class="k">USE </span><span class="n">PlantUtilities</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">SetComponentFlowRate</span><span class="p">,</span> <span class="n">PullCompInterconnectTrigger</span>
<a name="ln-4458"></a>
<a name="ln-4459"></a>
<a name="ln-4460"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-4461"></a>
<a name="ln-4462"></a>
<a name="ln-4463"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-4464"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">EIRChillNum</span>      <span class="c">! Chiller number</span>
<a name="ln-4465"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">MyLoad</span>           <span class="c">! Operating load [W]</span>
<a name="ln-4466"></a>  <span class="kt">LOGICAL</span>                <span class="kd">::</span> <span class="n">FirstIteration</span>   <span class="c">! TRUE when first iteration of timestep !unused1208</span>
<a name="ln-4467"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">RunFlag</span>          <span class="c">! TRUE when chiller operating</span>
<a name="ln-4468"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>    <span class="kd">::</span> <span class="n">EquipFlowCtrl</span>    <span class="c">! Flow control mode for the equipment</span>
<a name="ln-4469"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">FalsiCondOutTemp</span> <span class="c">! RegulaFalsi condenser outlet temperature result [C]</span>
<a name="ln-4470"></a>
<a name="ln-4471"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-4472"></a>
<a name="ln-4473"></a>  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span> <span class="k">PARAMETER</span> <span class="kd">::</span> <span class="n">OutputFormat</span>  <span class="o">=</span><span class="s1">&#39;(F6.2)&#39;</span>
<a name="ln-4474"></a>
<a name="ln-4475"></a>          <span class="c">! INTERFACE BLOCK SPECIFICATIONS</span>
<a name="ln-4476"></a>          <span class="c">!  na</span>
<a name="ln-4477"></a>
<a name="ln-4478"></a>          <span class="c">! DERIVED TYPE DEFINITIONS</span>
<a name="ln-4479"></a>          <span class="c">!  na</span>
<a name="ln-4480"></a>
<a name="ln-4481"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-4482"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">FRAC</span>                  <span class="c">! Chiller cycling ratio</span>
<a name="ln-4483"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">MinPartLoadRat</span>        <span class="c">! Minimum allowed operating fraction of full load</span>
<a name="ln-4484"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">MinUnloadRat</span>          <span class="c">! Minimum allowed unloading fraction of full load</span>
<a name="ln-4485"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">MaxPartLoadRat</span>        <span class="c">! Maximum allowed operating fraction of full load</span>
<a name="ln-4486"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EvapInletTemp</span>         <span class="c">! Evaporator inlet temperature [C]</span>
<a name="ln-4487"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">CondInletTemp</span>         <span class="c">! Condenser inlet temperature [C]</span>
<a name="ln-4488"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EvapOutletTempSetpoint</span> <span class="c">! Evaporator outlet temperature setpoint [C]</span>
<a name="ln-4489"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">AvailChillerCap</span>       <span class="c">! Chiller available capacity [W]</span>
<a name="ln-4490"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">ChillerRefCap</span>         <span class="c">! Chiller reference capacity [W]</span>
<a name="ln-4491"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EvapDeltaTemp</span>         <span class="c">! Evaporator temperature difference [C]</span>
<a name="ln-4492"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">ReferenceCOP</span>          <span class="c">! Reference coefficient of performance, from user input</span>
<a name="ln-4493"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">PartLoadRat</span>           <span class="c">! Operating part load ratio</span>
<a name="ln-4494"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">TempLowLimitEout</span>      <span class="c">! Evaporator low temp. limit cut off [C]</span>
<a name="ln-4495"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">EvapMassFlowRateMax</span>   <span class="c">! Maximum evaporator mass flow rate converted from volume flow rate [kg/s]</span>
<a name="ln-4496"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">EvapInletNode</span>         <span class="c">! evaporator inlet node number</span>
<a name="ln-4497"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">EvapOutletNode</span>        <span class="c">! evaporator outlet node number</span>
<a name="ln-4498"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">CondInletNode</span>         <span class="c">! condenser inlet node number</span>
<a name="ln-4499"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">CondOutletNode</span>        <span class="c">! condenser outlet node number</span>
<a name="ln-4500"></a><span class="c">!  LOGICAL, SAVE          :: PossibleSubCooling</span>
<a name="ln-4501"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">TempLoad</span>              <span class="c">! actual load to be met by chiller. This value is compared to MyLoad</span>
<a name="ln-4502"></a>                                                  <span class="c">! and reset when necessary since this chiller can cycle, the load passed</span>
<a name="ln-4503"></a>                                                  <span class="c">! should be the actual load.  Instead the minimum PLR * RefCap is</span>
<a name="ln-4504"></a>                                                  <span class="c">! passed in.</span>
<a name="ln-4505"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">PlantLoopNum</span>          <span class="c">! Plant loop which contains the current chiller</span>
<a name="ln-4506"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">LoopSideNum</span>           <span class="c">! Plant loop side which contains the current chiller (usually supply side)</span>
<a name="ln-4507"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">BranchNum</span>
<a name="ln-4508"></a>  <span class="kt">INTEGER</span>                <span class="kd">::</span> <span class="n">CompNum</span>
<a name="ln-4509"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>              <span class="kd">::</span> <span class="n">Cp</span>                    <span class="c">! Local fluid specific heat</span>
<a name="ln-4510"></a>
<a name="ln-4511"></a>
<a name="ln-4512"></a><span class="c">!  REAL(r64),SAVE         :: TimeStepSysLast=0.0     ! last system time step (used to check for downshifting)</span>
<a name="ln-4513"></a><span class="c">!  REAL(r64)              :: CurrentEndTime          ! end time of time step for current simulation time step</span>
<a name="ln-4514"></a><span class="c">!  REAL(r64),SAVE         :: CurrentEndTimeLast=0.0  ! end time of time step for last simulation time step</span>
<a name="ln-4515"></a><span class="c">!  CHARACTER(len=6)       :: OutputChar = &#39; &#39;        ! character string for warning messages</span>
<a name="ln-4516"></a>
<a name="ln-4517"></a><span class="c">! Set module level inlet and outlet nodes and initialize other local variables</span>
<a name="ln-4518"></a>  <span class="n">ChillerPartLoadRatio</span>       <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4519"></a>  <span class="n">ChillerCyclingRatio</span>        <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4520"></a>  <span class="n">ChillerFalseLoadRate</span>       <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4521"></a>  <span class="n">EvapMassFlowRate</span>           <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4522"></a>  <span class="n">CondMassFlowRate</span>           <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4523"></a>  <span class="n">Power</span>                      <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4524"></a>  <span class="n">QCondenser</span>                 <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4525"></a>  <span class="n">QEvaporator</span>                <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4526"></a>  <span class="n">QHeatRecovered</span>             <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4527"></a><span class="c">!  CondenserFanPower          = 0.0</span>
<a name="ln-4528"></a>  <span class="n">EvapInletNode</span>  <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapInletNodeNum</span>
<a name="ln-4529"></a>  <span class="n">EvapOutletNode</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span>
<a name="ln-4530"></a>  <span class="n">CondInletNode</span>  <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondInletNodeNum</span>
<a name="ln-4531"></a>  <span class="n">CondOutletNode</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondOutletNodeNum</span>
<a name="ln-4532"></a>  <span class="n">PlantLoopNum</span>        <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span>
<a name="ln-4533"></a>  <span class="n">LoopSideNum</span>         <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span>
<a name="ln-4534"></a>  <span class="n">BranchNum</span>         <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span>
<a name="ln-4535"></a>  <span class="n">CompNum</span>         <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span>
<a name="ln-4536"></a>
<a name="ln-4537"></a><span class="c">! Set performance curve outputs to 0.0 when chiller is off</span>
<a name="ln-4538"></a>  <span class="n">ChillerCapFT</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4539"></a>  <span class="n">ChillerEIRFT</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4540"></a>  <span class="n">ChillerEIRFPLR</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4541"></a>
<a name="ln-4542"></a><span class="c">! Set module-level chiller evap and condenser inlet temperature variables</span>
<a name="ln-4543"></a>  <span class="n">EvapInletTemp</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4544"></a>  <span class="n">CondInletTemp</span>  <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4545"></a>
<a name="ln-4546"></a><span class="c">! This chiller is currenlty has only a water-cooled condenser</span>
<a name="ln-4547"></a><span class="c">!</span>
<a name="ln-4548"></a><span class="c">!! calculate end time of current time step</span>
<a name="ln-4549"></a><span class="c">!  CurrentEndTime = CurrentTime + SysTimeElapsed</span>
<a name="ln-4550"></a><span class="c">!</span>
<a name="ln-4551"></a><span class="c">!! Print warning messages only when valid and only for the first ocurrance. Let summary provide statistics.</span>
<a name="ln-4552"></a><span class="c">!! Wait for next time step to print warnings. If simulation iterates, print out</span>
<a name="ln-4553"></a><span class="c">!! the warning for the last iteration only. Must wait for next time step to accomplish this.</span>
<a name="ln-4554"></a><span class="c">!! If a warning occurs and the simulation down shifts, the warning is not valid.</span>
<a name="ln-4555"></a><span class="c">!  IF(CurrentEndTime .GT. CurrentEndTimeLast .AND. TimeStepSys .GE. TimeStepSysLast)THEN</span>
<a name="ln-4556"></a><span class="c">!    IF(ElecReformEIRChiller(EIRChillNum)%PrintMessage)THEN</span>
<a name="ln-4557"></a><span class="c">!          ElecReformEIRChiller(EIRChillNum)%MsgErrorCount = &amp;</span>
<a name="ln-4558"></a><span class="c">!                         ElecReformEIRChiller(EIRChillNum)%MsgErrorCount + 1</span>
<a name="ln-4559"></a><span class="c">!!     Show single warning and pass additional info to ShowRecurringWarningErrorAtEnd</span>
<a name="ln-4560"></a><span class="c">!      IF (ElecReformEIRChiller(EIRChillNum)%MsgErrorCount &lt; 2) THEN</span>
<a name="ln-4561"></a><span class="c">!         CALL ShowWarningError(TRIM(ElecReformEIRChiller(EIRChillNum)%MsgBuffer1)//&#39;.&#39;)</span>
<a name="ln-4562"></a><span class="c">!         CALL ShowContinueError(TRIM(ElecReformEIRChiller(EIRChillNum)%MsgBuffer2))</span>
<a name="ln-4563"></a><span class="c">!      ELSE</span>
<a name="ln-4564"></a><span class="c">!        CALL ShowRecurringWarningErrorAtEnd(TRIM(ElecReformEIRChiller(EIRChillNum)%MsgBuffer1)//&#39; error continues.&#39;, &amp;</span>
<a name="ln-4565"></a><span class="c">!           ElecReformEIRChiller(EIRChillNum)%ErrCount1,ReportMaxOf=ElecReformEIRChiller(EIRChillNum)%MsgDataLast,  &amp;</span>
<a name="ln-4566"></a><span class="c">!           ReportMinOf=ElecReformEIRChiller(EIRChillNum)%MsgDataLast,ReportMaxUnits=&#39;[C]&#39;,ReportMinUnits=&#39;[C]&#39;)</span>
<a name="ln-4567"></a><span class="c">!      END IF</span>
<a name="ln-4568"></a><span class="c">!    END IF</span>
<a name="ln-4569"></a><span class="c">!  END IF</span>
<a name="ln-4570"></a><span class="c">!</span>
<a name="ln-4571"></a><span class="c">!! save last system time step and last end time of current time step (used to determine if warning is valid)</span>
<a name="ln-4572"></a><span class="c">!  TimeStepSysLast    = TimeStepSys</span>
<a name="ln-4573"></a><span class="c">!  CurrentEndTimeLast = CurrentEndTime</span>
<a name="ln-4574"></a>
<a name="ln-4575"></a>   <span class="c">! If no loop demand or chiller OFF, return</span>
<a name="ln-4576"></a>   <span class="c">! If chiller load is 0 or chiller is not running then leave the subroutine. Before leaving</span>
<a name="ln-4577"></a>   <span class="c">!  if the component control is SERIESACTIVE we set the component flow to inlet flow so that</span>
<a name="ln-4578"></a>   <span class="c">!  flow resolver will not shut down the branch</span>
<a name="ln-4579"></a>   <span class="k">IF</span><span class="p">(</span><span class="n">MyLoad</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">RunFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4580"></a><span class="k">    IF</span><span class="p">(</span><span class="n">EquipFlowCtrl</span> <span class="o">==</span> <span class="n">ControlType_SeriesActive</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4581"></a><span class="k">      </span><span class="n">EvapMassFlowRate</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-4582"></a>    <span class="k">END IF</span>
<a name="ln-4583"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4584"></a><span class="k">      IF</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span> <span class="p">&amp;</span>
<a name="ln-4585"></a>            <span class="n">LoopSide</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">)%</span> <span class="p">&amp;</span>
<a name="ln-4586"></a>              <span class="n">Branch</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDBranchNum</span><span class="p">)%</span>  <span class="p">&amp;</span>
<a name="ln-4587"></a>                <span class="n">Comp</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDCompNum</span><span class="p">)%</span><span class="n">FlowCtrl</span> <span class="o">==</span> <span class="n">ControlType_SeriesActive</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4588"></a><span class="k">        </span><span class="n">CondMassFlowRate</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">CondInletNode</span><span class="p">)%</span><span class="n">MassFlowrate</span>
<a name="ln-4589"></a>      <span class="n">ENDIF</span>
<a name="ln-4590"></a>    <span class="n">ENDIF</span>
<a name="ln-4591"></a>
<a name="ln-4592"></a>
<a name="ln-4593"></a>    <span class="k">RETURN</span>
<a name="ln-4594"></a><span class="k">   END IF</span>
<a name="ln-4595"></a>
<a name="ln-4596"></a>  <span class="c">! LOAD LOCAL VARIABLES FROM DATA STRUCTURE (for code readability)</span>
<a name="ln-4597"></a>  <span class="n">MinPartLoadRat</span>      <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MinPartLoadRat</span>
<a name="ln-4598"></a>  <span class="n">MaxPartLoadRat</span>      <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MaxPartLoadRat</span>
<a name="ln-4599"></a>  <span class="n">MinUnloadRat</span>        <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">MinUnLoadRat</span>
<a name="ln-4600"></a>  <span class="n">ChillerRefCap</span>       <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCap</span>
<a name="ln-4601"></a>  <span class="n">ReferenceCOP</span>        <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">RefCOP</span>
<a name="ln-4602"></a>  <span class="n">EvapOutletTemp</span>      <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4603"></a>  <span class="n">TempLowLimitEout</span>    <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">TempLowLimitEvapOut</span>
<a name="ln-4604"></a>  <span class="n">EvapMassFlowRateMax</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapMassFlowRateMax</span>
<a name="ln-4605"></a>
<a name="ln-4606"></a>  <span class="c">! Set mass flow rates</span>
<a name="ln-4607"></a>
<a name="ln-4608"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondenserType</span> <span class="o">==</span> <span class="n">WaterCooled</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4609"></a><span class="k">    </span><span class="n">CondMassFlowRate</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowRateMax</span>
<a name="ln-4610"></a>    <span class="k">CALL </span><span class="n">SetComponentFlowRate</span><span class="p">(</span><span class="n">CondMassFlowRate</span><span class="p">,</span> <span class="n">CondInletNode</span><span class="p">,</span> <span class="n">CondOutletNode</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4611"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4612"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4613"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDBranchNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4614"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDCompNum</span><span class="p">)</span>
<a name="ln-4615"></a>    <span class="k">CALL </span><span class="n">PullCompInterconnectTrigger</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4616"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4617"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4618"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4619"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondMassFlowIndex</span><span class="p">,</span>              <span class="p">&amp;</span>
<a name="ln-4620"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4621"></a>                                     <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopSideNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-4622"></a>                                     <span class="n">CriteriaType_MassFlowRate</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4623"></a>                                     <span class="n">CondMassFlowRate</span><span class="p">)</span>
<a name="ln-4624"></a>
<a name="ln-4625"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">CondMassFlowRate</span> <span class="o">&lt;</span> <span class="n">MassFlowTolerance</span><span class="p">)</span> <span class="k">RETURN</span>
<a name="ln-4626"></a>
<a name="ln-4627"></a><span class="k">  END IF</span>
<a name="ln-4628"></a><span class="k">  </span><span class="n">FRAC</span>    <span class="o">=</span> <span class="mf">1.0d0</span>
<a name="ln-4629"></a>
<a name="ln-4630"></a>  <span class="k">SELECT CASE</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopDemandCalcScheme</span><span class="p">)</span>
<a name="ln-4631"></a>  <span class="k">CASE</span> <span class="p">(</span><span class="n">SingleSetpoint</span><span class="p">)</span>
<a name="ln-4632"></a>    <span class="k">IF</span> <span class="p">((</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-4633"></a>        <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">Branch</span><span class="p">(</span><span class="n">BranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">CompNum</span><span class="p">)%</span><span class="n">CurOpSchemeType</span> <span class="p">&amp;</span>
<a name="ln-4634"></a>                 <span class="o">==</span> <span class="n">CompSetPtBasedSchemeType</span><span class="p">)</span>          <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-4635"></a>        <span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span> <span class="o">/=</span> <span class="n">SensedNodeFlagValue</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4636"></a>         <span class="c">! there will be a valid setpoint on outlet</span>
<a name="ln-4637"></a>      <span class="n">EvapOutletTempSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-4638"></a>    <span class="k">ELSE</span> <span class="c">! use plant loop overall setpoint</span>
<a name="ln-4639"></a>      <span class="n">EvapOutletTempSetpoint</span><span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-4640"></a>    <span class="n">ENDIF</span>
<a name="ln-4641"></a>  <span class="k">CASE</span> <span class="p">(</span><span class="n">DualSetpointDeadband</span><span class="p">)</span>
<a name="ln-4642"></a>    <span class="k">IF</span> <span class="p">((</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-4643"></a>        <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">Branch</span><span class="p">(</span><span class="n">BranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">CompNum</span><span class="p">)%</span><span class="n">CurOpSchemeType</span> <span class="p">&amp;</span>
<a name="ln-4644"></a>                 <span class="o">==</span> <span class="n">CompSetPtBasedSchemeType</span><span class="p">)</span>          <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-4645"></a>        <span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span> <span class="o">/=</span> <span class="n">SensedNodeFlagValue</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4646"></a>         <span class="c">! there will be a valid setpoint on outlet</span>
<a name="ln-4647"></a>      <span class="n">EvapOutletTempSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-4648"></a>    <span class="k">ELSE</span> <span class="c">! use plant loop overall setpoint</span>
<a name="ln-4649"></a>      <span class="n">EvapOutletTempSetpoint</span><span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-4650"></a>    <span class="n">ENDIF</span>
<a name="ln-4651"></a>  <span class="k">END SELECT</span>
<a name="ln-4652"></a>
<a name="ln-4653"></a>  <span class="c">! correct temperature if using heat recovery</span>
<a name="ln-4654"></a>  <span class="c">! use report values for latest valid calculation, lagged somewhat</span>
<a name="ln-4655"></a>  <span class="k">IF</span> <span class="p">(</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4656"></a><span class="k">    If</span> <span class="p">(</span> <span class="p">(</span><span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QHeatRecovery</span> <span class="p">&amp;</span>
<a name="ln-4657"></a>           <span class="o">+</span>  <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QCond</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.d0</span><span class="p">)</span> <span class="k">THEN</span> <span class="c">! protect div by zero</span>
<a name="ln-4658"></a>      <span class="n">AvgCondSinkTemp</span> <span class="o">=</span> <span class="p">(</span><span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QHeatRecovery</span> <span class="p">&amp;</span>
<a name="ln-4659"></a>                            <span class="o">*</span> <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecOutletTemp</span> <span class="p">&amp;</span>
<a name="ln-4660"></a>                          <span class="o">+</span> <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QCond</span>  <span class="p">&amp;</span>
<a name="ln-4661"></a>                            <span class="o">*</span> <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CondOutletTemp</span><span class="p">)</span> <span class="p">&amp;</span>
<a name="ln-4662"></a>                          <span class="o">/</span> <span class="p">(</span><span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QHeatRecovery</span>   <span class="p">&amp;</span>
<a name="ln-4663"></a>                                 <span class="o">+</span> <span class="n">ElecReformEIRChillerReport</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">QCond</span><span class="p">)</span>
<a name="ln-4664"></a>    <span class="k">ELSE</span>
<a name="ln-4665"></a><span class="k">      </span><span class="n">AvgCondSinkTemp</span> <span class="o">=</span> <span class="n">FalsiCondOutTemp</span>
<a name="ln-4666"></a>    <span class="n">ENDIF</span>
<a name="ln-4667"></a>  <span class="k">ELSE</span>
<a name="ln-4668"></a><span class="k">    </span><span class="n">AvgCondSinkTemp</span> <span class="o">=</span> <span class="n">FalsiCondOutTemp</span>
<a name="ln-4669"></a>  <span class="n">ENDIF</span>
<a name="ln-4670"></a>
<a name="ln-4671"></a>  <span class="c">! Get capacity curve info with respect to CW setpoint and leaving condenser water temps</span>
<a name="ln-4672"></a>  <span class="n">ChillerCapFT</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4673"></a>                            <span class="n">EvapOutletTempSetpoint</span><span class="p">,</span><span class="n">AvgCondSinkTemp</span><span class="p">))</span>
<a name="ln-4674"></a>
<a name="ln-4675"></a>  <span class="c">! Available chiller capacity as a function of temperature</span>
<a name="ln-4676"></a>  <span class="n">AvailChillerCap</span> <span class="o">=</span> <span class="n">ChillerRefCap</span><span class="o">*</span><span class="n">ChillerCapFT</span>
<a name="ln-4677"></a>
<a name="ln-4678"></a><span class="c">!  IF (PlantLoop(PlantLoopNum)%Loopside(LoopSideNum)%FlowLock .EQ. 0) THEN</span>
<a name="ln-4679"></a><span class="c">!    EvapMassFlowRate = MIN(EvapMassFlowRateMax,Node(EvapInletNode)%MassFlowRateMaxAvail)    !CRBranchPump</span>
<a name="ln-4680"></a><span class="c">!    EvapMassFlowRate = MAX(EvapMassFlowRate,Node(EvapInletNode)%MassFlowRateMinAvail)       !CRBranchPump</span>
<a name="ln-4681"></a><span class="c">!!   Some other component set the flow to 0. No reason to continue with calculations.</span>
<a name="ln-4682"></a><span class="c">!    IF(EvapMassFlowRate == 0.0d0)THEN</span>
<a name="ln-4683"></a><span class="c">!      MyLoad = 0.0d0</span>
<a name="ln-4684"></a><span class="c">!!      ElecReformEIRChiller(EIRChillNum)%PrintMessage = .FALSE.</span>
<a name="ln-4685"></a><span class="c">!      RETURN</span>
<a name="ln-4686"></a><span class="c">!    END IF</span>
<a name="ln-4687"></a><span class="c">!  ELSE</span>
<a name="ln-4688"></a>  <span class="n">EvapMassFlowRate</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>
<a name="ln-4689"></a><span class="c">!   Some other component set the flow to 0. No reason to continue with calculations.</span>
<a name="ln-4690"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">EvapMassFlowRate</span> <span class="o">==</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-4691"></a><span class="k">    </span><span class="n">MyLoad</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4692"></a><span class="c">!      ElecReformEIRChiller(EIRChillNum)%PrintMessage = .FALSE.</span>
<a name="ln-4693"></a>    <span class="k">RETURN</span>
<a name="ln-4694"></a><span class="k">  END IF</span>
<a name="ln-4695"></a><span class="c">!  END IF</span>
<a name="ln-4696"></a>
<a name="ln-4697"></a><span class="c">! This chiller is currenlty has only a water-cooled condenser</span>
<a name="ln-4698"></a>
<a name="ln-4699"></a>
<a name="ln-4700"></a>  <span class="c">! Calculate water side load</span>
<a name="ln-4701"></a>  <span class="n">Cp</span>  <span class="o">=</span> <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-4702"></a>                              <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-4703"></a>                              <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4704"></a>                              <span class="s1">&#39;CalcElecReformEIRChillerModel&#39;</span><span class="p">)</span>
<a name="ln-4705"></a><span class="c">! problem here if no setpoint on outlet</span>
<a name="ln-4706"></a><span class="c">! CR 9132 changed from actual node flow rate to maximum available to avoid issue of limiting capacity</span>
<a name="ln-4707"></a>
<a name="ln-4708"></a>  <span class="n">TempLoad</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">MassFlowRateMaxAvail</span> <span class="o">*</span> <span class="n">Cp</span> <span class="o">*</span> <span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapOutletTempSetpoint</span><span class="p">)</span>
<a name="ln-4709"></a>
<a name="ln-4710"></a>  <span class="n">TempLoad</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,</span><span class="n">TempLoad</span><span class="p">)</span>
<a name="ln-4711"></a>
<a name="ln-4712"></a>  <span class="c">! MyLoad is capped at minimum PLR * RefCap, adjust load to actual water side load because this chiller can cycle</span>
<a name="ln-4713"></a>  <span class="k">IF</span> <span class="p">(</span><span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">TempLoad</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4714"></a><span class="k">    </span><span class="n">MyLoad</span> <span class="o">=</span> <span class="nb">SIGN</span><span class="p">(</span><span class="n">TempLoad</span><span class="p">,</span> <span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-4715"></a>  <span class="k">END IF</span>
<a name="ln-4716"></a>
<a name="ln-4717"></a>  <span class="c">! Part load ratio based on load and available chiller capacity, cap at max part load ratio</span>
<a name="ln-4718"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">AvailChillerCap</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-4719"></a><span class="k">    </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,</span> <span class="nb">MIN</span><span class="p">(</span><span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span><span class="o">/</span><span class="n">AvailChillerCap</span><span class="p">,</span><span class="n">MaxPartLoadRat</span><span class="p">))</span>
<a name="ln-4720"></a>  <span class="k">ELSE</span>
<a name="ln-4721"></a><span class="k">    </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4722"></a>  <span class="k">END IF</span>
<a name="ln-4723"></a>
<a name="ln-4724"></a>  <span class="c">! Set evaporator heat transfer rate</span>
<a name="ln-4725"></a>  <span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">AvailChillerCap</span> <span class="o">*</span> <span class="n">PartLoadRat</span>
<a name="ln-4726"></a>  <span class="n">ChillerPartLoadRatio</span> <span class="o">=</span> <span class="n">PartLoadRat</span>
<a name="ln-4727"></a>  <span class="c">! If FlowLock is False (0), the chiller sets the plant loop mdot</span>
<a name="ln-4728"></a>  <span class="c">! If FlowLock is True (1),  the new resolved plant loop mdot is used</span>
<a name="ln-4729"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4730"></a><span class="k">    IF</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">Branch</span><span class="p">(</span><span class="n">BranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">CompNum</span><span class="p">)%</span><span class="n">CurOpSchemeType</span> <span class="o">==</span>   <span class="p">&amp;</span>
<a name="ln-4731"></a>           <span class="n">CompSetPtBasedSchemeType</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4732"></a><span class="k">      </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PossibleSubCooling</span> <span class="o">=</span> <span class="p">.</span><span class="n">FALSE</span><span class="p">.</span>
<a name="ln-4733"></a>    <span class="k">ELSE</span>
<a name="ln-4734"></a><span class="k">      </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PossibleSubCooling</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-4735"></a>    <span class="n">ENDIF</span>
<a name="ln-4736"></a>       <span class="c">! Either set the flow to the Constant value or caluclate the flow for the variable volume case</span>
<a name="ln-4737"></a>       <span class="k">IF</span><span class="p">(</span>     <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">ConstantFlow</span><span class="p">)</span>  <span class="p">&amp;</span>
<a name="ln-4738"></a>          <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">NotModulated</span> <span class="p">))</span> <span class="k">THEN</span>
<a name="ln-4739"></a>          <span class="c">! Set the evaporator mass flow rate to design</span>
<a name="ln-4740"></a>          <span class="c">! Start by assuming max (design) flow</span>
<a name="ln-4741"></a>          <span class="n">EvapMassFlowRate</span> <span class="o">=</span> <span class="n">EvapMassFlowRateMax</span>
<a name="ln-4742"></a>          <span class="c">! Use SetComponentFlowRate to decide actual flow</span>
<a name="ln-4743"></a>          <span class="k">Call </span><span class="n">SetComponentFlowRate</span><span class="p">(</span> <span class="n">EvapMassFlowRate</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-4744"></a>                              <span class="n">EvapInletNode</span> <span class="p">,</span> <span class="n">EvapOutletNode</span>  <span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4745"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-4746"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4747"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-4748"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)</span>
<a name="ln-4749"></a>          <span class="k">IF</span> <span class="p">(</span><span class="n">EvapMassFlowRate</span> <span class="o">/=</span> <span class="mf">0.0D0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4750"></a><span class="k">            </span><span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">QEvaporator</span><span class="o">/</span><span class="n">EvapMassFlowRate</span><span class="o">/</span><span class="n">Cp</span>
<a name="ln-4751"></a>          <span class="k">ELSE</span>
<a name="ln-4752"></a><span class="k">            </span><span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="mf">0.0D0</span>
<a name="ln-4753"></a>          <span class="n">ENDIF</span>
<a name="ln-4754"></a>          <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapDeltaTemp</span>
<a name="ln-4755"></a>       <span class="n">ELSEIF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4756"></a><span class="k">          SELECT CASE</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopDemandCalcScheme</span><span class="p">)</span>
<a name="ln-4757"></a>          <span class="k">CASE</span> <span class="p">(</span><span class="n">SingleSetpoint</span><span class="p">)</span>
<a name="ln-4758"></a>            <span class="c">! Calculate the Delta Temp from the inlet temp to the chiller outlet setpoint</span>
<a name="ln-4759"></a>            <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-4760"></a>          <span class="k">CASE</span> <span class="p">(</span><span class="n">DualSetpointDeadband</span><span class="p">)</span>
<a name="ln-4761"></a>            <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-4762"></a>          <span class="k">END SELECT</span>
<a name="ln-4763"></a>
<a name="ln-4764"></a><span class="k">          IF</span> <span class="p">(</span><span class="n">EvapDeltaTemp</span> <span class="o">/=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4765"></a><span class="k">            </span><span class="n">EvapMassFlowRate</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,(</span><span class="n">QEvaporator</span><span class="o">/</span><span class="n">Cp</span><span class="o">/</span><span class="n">EvapDeltaTemp</span><span class="p">))</span>
<a name="ln-4766"></a>            <span class="k">IF</span><span class="p">((</span><span class="n">EvapMassFlowRate</span> <span class="o">-</span> <span class="n">EvapMassFlowRateMax</span><span class="p">)</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">MassFlowTolerance</span><span class="p">)</span> <span class="p">&amp;</span>
<a name="ln-4767"></a>                  <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PossibleSubCooling</span> <span class="o">=</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.</span>
<a name="ln-4768"></a>            <span class="c">!Check to see if the Maximum is exceeded, if so set to maximum</span>
<a name="ln-4769"></a>            <span class="n">EvapMassFlowRate</span> <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="n">EvapMassFlowRateMax</span><span class="p">,</span> <span class="n">EvapMassFlowRate</span><span class="p">)</span>
<a name="ln-4770"></a>            <span class="c">! Use SetComponentFlowRate to decide actual flow</span>
<a name="ln-4771"></a>            <span class="k">Call </span><span class="n">SetComponentFlowRate</span><span class="p">(</span> <span class="n">EvapMassFlowRate</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-4772"></a>                              <span class="n">EvapInletNode</span> <span class="p">,</span> <span class="n">EvapOutletNode</span>  <span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4773"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-4774"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4775"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-4776"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)</span>
<a name="ln-4777"></a>            <span class="c">! Should we recalculate this with the corrected setpoint?</span>
<a name="ln-4778"></a>            <span class="k">SELECT CASE</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopDemandCalcScheme</span><span class="p">)</span>
<a name="ln-4779"></a>            <span class="k">CASE</span> <span class="p">(</span><span class="n">SingleSetpoint</span><span class="p">)</span>
<a name="ln-4780"></a>              <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-4781"></a>            <span class="k">CASE</span> <span class="p">(</span><span class="n">DualSetpointDeadband</span><span class="p">)</span>
<a name="ln-4782"></a>              <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-4783"></a>            <span class="k">END SELECT</span>
<a name="ln-4784"></a><span class="k">            </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,(</span><span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span><span class="p">))</span>
<a name="ln-4785"></a>          <span class="k">ELSE</span>
<a name="ln-4786"></a>            <span class="c">! Try to request zero flow</span>
<a name="ln-4787"></a>            <span class="n">EvapMassFlowRate</span><span class="o">=</span><span class="mf">0.0d0</span>
<a name="ln-4788"></a>            <span class="c">! Use SetComponentFlowRate to decide actual flow</span>
<a name="ln-4789"></a>            <span class="k">CALL </span><span class="n">SetComponentFlowRate</span><span class="p">(</span> <span class="n">EvapMassFlowRate</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-4790"></a>                              <span class="n">EvapInletNode</span> <span class="p">,</span> <span class="n">EvapOutletNode</span>  <span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4791"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-4792"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4793"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-4794"></a>                              <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)</span>
<a name="ln-4795"></a>            <span class="c">! No deltaT since component is not running</span>
<a name="ln-4796"></a>            <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4797"></a>            <span class="n">QEvaporator</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4798"></a>            <span class="n">PartLoadRat</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4799"></a>            <span class="n">ChillerPartLoadRatio</span> <span class="o">=</span> <span class="n">PartLoadRat</span>
<a name="ln-4800"></a>
<a name="ln-4801"></a>            <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DeltaTErrCount</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4802"></a><span class="k">              </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DeltaTErrCount</span><span class="o">=</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DeltaTErrCount</span><span class="o">+</span><span class="mi">1</span>
<a name="ln-4803"></a>              <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;Evaporator DeltaTemp = 0 in mass flow calculation (Tevapin = Tevapout setpoint temp).&#39;</span><span class="p">)</span>
<a name="ln-4804"></a>              <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<a name="ln-4805"></a>            <span class="k">ELSE IF</span> <span class="p">(.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4806"></a><span class="k">              </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-4807"></a>              <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span> <span class="p">&amp;</span>
<a name="ln-4808"></a>                                        <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="o">//</span><span class="p">&amp;</span>
<a name="ln-4809"></a>                  <span class="s1">&#39; Evaporator DeltaTemp = 0 in mass flow calculation warning continues...&#39;</span> <span class="p">&amp;</span>
<a name="ln-4810"></a>                  <span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">DeltaTErrCountIndex</span><span class="p">,</span> <span class="n">EvapDeltaTemp</span><span class="p">,</span> <span class="n">EvapDeltaTemp</span><span class="p">)</span>
<a name="ln-4811"></a>            <span class="k">END IF</span>
<a name="ln-4812"></a>
<a name="ln-4813"></a><span class="k">          END IF</span>
<a name="ln-4814"></a><span class="k">       END IF</span>  <span class="c">!End of Constant Variable Flow If Block</span>
<a name="ln-4815"></a>
<a name="ln-4816"></a>  <span class="k">ELSE</span>  <span class="c">! If FlowLock is True</span>
<a name="ln-4817"></a>      <span class="n">EvapMassFlowRate</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">MassFlowRate</span>
<a name="ln-4818"></a>      <span class="k">Call </span><span class="n">SetComponentFlowRate</span><span class="p">(</span> <span class="n">EvapMassFlowRate</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-4819"></a>                                 <span class="n">EvapInletNode</span> <span class="p">,</span> <span class="n">EvapOutletNode</span>  <span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4820"></a>                                 <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span><span class="p">,</span>     <span class="p">&amp;</span>
<a name="ln-4821"></a>                                 <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4822"></a>                                 <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span><span class="p">,</span>   <span class="p">&amp;</span>
<a name="ln-4823"></a>                                 <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span><span class="p">)</span>
<a name="ln-4824"></a><span class="c">!       Some other component set the flow to 0. No reason to continue with calculations.</span>
<a name="ln-4825"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">EvapMassFlowRate</span> <span class="o">==</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-4826"></a><span class="k">        </span><span class="n">MyLoad</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4827"></a><span class="c">!        ElecReformEIRChiller(EIRChillNum)%PrintMessage = .FALSE.</span>
<a name="ln-4828"></a>        <span class="k">RETURN</span>
<a name="ln-4829"></a><span class="k">      END IF</span>
<a name="ln-4830"></a><span class="k">      IF</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">PossibleSubCooling</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4831"></a><span class="k">       </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-4832"></a>       <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">QEvaporator</span><span class="o">/</span><span class="n">EvapMassFlowRate</span><span class="o">/</span><span class="n">Cp</span>
<a name="ln-4833"></a>       <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapDeltaTemp</span>
<a name="ln-4834"></a>      <span class="k">ELSE</span>
<a name="ln-4835"></a><span class="k">       </span><span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapOutletTempSetpoint</span>
<a name="ln-4836"></a>       <span class="n">QEvaporator</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,(</span><span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span><span class="p">))</span>
<a name="ln-4837"></a>       <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">EvapOutletTempSetpoint</span>
<a name="ln-4838"></a>      <span class="k">END IF</span>
<a name="ln-4839"></a><span class="k">      IF</span><span class="p">(</span><span class="n">EvapOutletTemp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">TempLowLimitEout</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4840"></a><span class="k">       IF</span><span class="p">((</span><span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">TempLowLimitEout</span><span class="p">)</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">DeltaTemptol</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4841"></a><span class="k">        </span><span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">TempLowLimitEout</span>
<a name="ln-4842"></a>        <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapOutletTemp</span>
<a name="ln-4843"></a>        <span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span>
<a name="ln-4844"></a>       <span class="k">ELSE</span>
<a name="ln-4845"></a><span class="k">        </span><span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4846"></a>        <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapOutletTemp</span>
<a name="ln-4847"></a>        <span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span>
<a name="ln-4848"></a>       <span class="k">END IF</span>
<a name="ln-4849"></a><span class="k">      END IF</span>
<a name="ln-4850"></a><span class="k">      IF</span><span class="p">(</span><span class="n">EvapOutletTemp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempMin</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4851"></a><span class="k">       IF</span><span class="p">((</span><span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempMin</span><span class="p">)</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">DeltaTemptol</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4852"></a><span class="k">        </span><span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempMin</span>
<a name="ln-4853"></a>        <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapOutletTemp</span>
<a name="ln-4854"></a>        <span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span>
<a name="ln-4855"></a>       <span class="k">ELSE</span>
<a name="ln-4856"></a><span class="k">        </span><span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4857"></a>        <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapOutletTemp</span>
<a name="ln-4858"></a>        <span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">EvapMassFlowRate</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">EvapDeltaTemp</span>
<a name="ln-4859"></a>       <span class="k">END IF</span>
<a name="ln-4860"></a><span class="k">      END IF</span>
<a name="ln-4861"></a>      <span class="c">! If load exceeds the distributed load set to the distributed load</span>
<a name="ln-4862"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">QEvaporator</span> <span class="o">&gt;</span> <span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">))</span> <span class="k">THEN</span>
<a name="ln-4863"></a><span class="k">        IF</span><span class="p">(</span><span class="n">EvapMassFlowRate</span> <span class="o">&gt;</span> <span class="n">MassFlowTolerance</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4864"></a><span class="k">            </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="nb">ABS</span><span class="p">(</span><span class="n">MyLoad</span><span class="p">)</span>
<a name="ln-4865"></a>            <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">QEvaporator</span><span class="o">/</span><span class="n">EvapMassFlowRate</span><span class="o">/</span><span class="n">Cp</span>
<a name="ln-4866"></a>            <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapDeltaTemp</span>
<a name="ln-4867"></a>        <span class="k">ELSE</span>
<a name="ln-4868"></a><span class="k">            </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4869"></a>            <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4870"></a>        <span class="k">END IF</span>
<a name="ln-4871"></a><span class="k">      END IF</span>
<a name="ln-4872"></a>
<a name="ln-4873"></a>      <span class="c">! Checks QEvaporator on the basis of the machine limits.</span>
<a name="ln-4874"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">QEvaporator</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">AvailChillerCap</span> <span class="o">*</span> <span class="n">MaxPartLoadRat</span><span class="p">))</span><span class="k">THEN</span>
<a name="ln-4875"></a><span class="k">        IF</span><span class="p">(</span><span class="n">EvapMassFlowRate</span> <span class="o">&gt;</span> <span class="n">MassFlowTolerance</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4876"></a><span class="k">           </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="n">AvailChillerCap</span> <span class="o">*</span> <span class="n">MaxPartLoadRat</span>
<a name="ln-4877"></a>           <span class="n">EvapDeltaTemp</span> <span class="o">=</span> <span class="n">QEvaporator</span><span class="o">/</span><span class="n">EvapMassFlowRate</span><span class="o">/</span><span class="n">Cp</span>
<a name="ln-4878"></a>           <span class="c">! evaporator outlet temperature is allowed to float upwards (recalculate AvailChillerCap? iterate?)</span>
<a name="ln-4879"></a>           <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span> <span class="o">-</span> <span class="n">EvapDeltaTemp</span>
<a name="ln-4880"></a>        <span class="k">ELSE</span>
<a name="ln-4881"></a><span class="k">           </span><span class="n">QEvaporator</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4882"></a>           <span class="n">EvapOutletTemp</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapInletNode</span><span class="p">)%</span><span class="n">Temp</span>
<a name="ln-4883"></a><span class="c">!           ElecReformEIRChiller(EIRChillNum)%PrintMessage = .FALSE.</span>
<a name="ln-4884"></a>        <span class="k">END IF</span>
<a name="ln-4885"></a>
<a name="ln-4886"></a><span class="k">      END IF</span>
<a name="ln-4887"></a>
<a name="ln-4888"></a><span class="k">      IF</span><span class="p">(</span><span class="n">AvailChillerCap</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-4889"></a><span class="k">        </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,</span><span class="nb">MIN</span><span class="p">((</span><span class="n">QEvaporator</span><span class="o">/</span><span class="n">AvailChillerCap</span><span class="p">),</span><span class="n">MaxPartLoadRat</span><span class="p">))</span>
<a name="ln-4890"></a>      <span class="k">ELSE</span>
<a name="ln-4891"></a><span class="k">        </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4892"></a>      <span class="k">END IF</span>
<a name="ln-4893"></a>
<a name="ln-4894"></a>      <span class="c">! Chiller cycles below minimum part load ratio, FRAC = amount of time chiller is ON during this time step</span>
<a name="ln-4895"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">PartLoadRat</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">MinPartLoadRat</span><span class="p">)</span> <span class="n">FRAC</span> <span class="o">=</span> <span class="nb">MIN</span><span class="p">(</span><span class="mf">1.0d0</span><span class="p">,(</span><span class="n">PartLoadRat</span><span class="o">/</span><span class="n">MinPartLoadRat</span><span class="p">))</span>
<a name="ln-4896"></a>
<a name="ln-4897"></a>      <span class="c">! set the module level variable used for reporting FRAC</span>
<a name="ln-4898"></a>      <span class="n">ChillerCyclingRatio</span> <span class="o">=</span> <span class="n">FRAC</span>
<a name="ln-4899"></a>
<a name="ln-4900"></a>      <span class="c">! Chiller is false loading below PLR = minimum unloading ratio, find PLR used for energy calculation</span>
<a name="ln-4901"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">AvailChillerCap</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-4902"></a><span class="k">        </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="n">PartLoadRat</span><span class="p">,</span><span class="n">MinUnLoadRat</span><span class="p">)</span>
<a name="ln-4903"></a>      <span class="k">ELSE</span>
<a name="ln-4904"></a><span class="k">        </span><span class="n">PartLoadRat</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4905"></a>      <span class="k">END IF</span>
<a name="ln-4906"></a>
<a name="ln-4907"></a>       <span class="c">! set the module level variable used for reporting PLR</span>
<a name="ln-4908"></a>      <span class="n">ChillerPartLoadRatio</span> <span class="o">=</span> <span class="n">PartLoadRat</span>
<a name="ln-4909"></a>
<a name="ln-4910"></a>      <span class="c">! calculate the load due to false loading on chiller over and above water side load</span>
<a name="ln-4911"></a>      <span class="n">ChillerFalseLoadRate</span> <span class="o">=</span> <span class="p">(</span><span class="n">AvailChillerCap</span> <span class="o">*</span> <span class="n">PartLoadRat</span> <span class="o">*</span> <span class="n">FRAC</span><span class="p">)</span> <span class="o">-</span> <span class="n">QEvaporator</span>
<a name="ln-4912"></a>      <span class="k">IF</span><span class="p">(</span><span class="n">ChillerFalseLoadRate</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">SmallLoad</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4913"></a><span class="k">       </span><span class="n">ChillerFalseLoadRate</span> <span class="o">=</span> <span class="mf">0.0d0</span>
<a name="ln-4914"></a>      <span class="k">END IF</span>
<a name="ln-4915"></a>
<a name="ln-4916"></a><span class="k">  END IF</span>  <span class="c">!This is the end of the FlowLock Block</span>
<a name="ln-4917"></a>
<a name="ln-4918"></a>  <span class="n">ChillerEIRFT</span>   <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span><span class="p">,</span><span class="n">EvapOutletTemp</span><span class="p">,</span><span class="n">AvgCondSinkTemp</span><span class="p">))</span>
<a name="ln-4919"></a>
<a name="ln-4920"></a>  <span class="n">ChillerEIRFPLR</span>  <span class="o">=</span> <span class="nb">MAX</span><span class="p">(</span><span class="mf">0.0d0</span><span class="p">,</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span><span class="n">AvgCondSinkTemp</span><span class="p">,</span><span class="n">PartLoadRat</span><span class="p">))</span>
<a name="ln-4921"></a>
<a name="ln-4922"></a>  <span class="n">Power</span> <span class="o">=</span> <span class="p">(</span><span class="n">AvailChillerCap</span><span class="o">/</span><span class="n">ReferenceCOP</span><span class="p">)</span> <span class="o">*</span> <span class="n">ChillerEIRFPLR</span> <span class="o">*</span> <span class="n">ChillerEIRFT</span> <span class="o">*</span> <span class="n">FRAC</span>
<a name="ln-4923"></a>
<a name="ln-4924"></a>  <span class="n">QCondenser</span> <span class="o">=</span> <span class="n">Power</span><span class="o">*</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CompPowerToCondenserFrac</span> <span class="o">+</span> <span class="n">QEvaporator</span> <span class="o">+</span> <span class="n">ChillerFalseLoadRate</span>
<a name="ln-4925"></a>
<a name="ln-4926"></a><span class="c">!  Currently only water cooled chillers are allowed for the reformulated EIR chiller model</span>
<a name="ln-4927"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">CondMassFlowRate</span> <span class="o">&gt;</span> <span class="n">MassFlowTolerance</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-4928"></a>    <span class="c">! If Heat Recovery specified for this vapor compression chiller, then Qcondenser will be adjusted by this subroutine</span>
<a name="ln-4929"></a>    <span class="k">IF</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">HeatRecActive</span><span class="p">)</span> <span class="k">CALL </span><span class="n">ReformEIRChillerHeatRecovery</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span><span class="n">QCondenser</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4930"></a>                                                             <span class="n">CondMassFlowRate</span><span class="p">,</span><span class="n">CondInletTemp</span><span class="p">,</span><span class="n">QHeatRecovered</span><span class="p">)</span>
<a name="ln-4931"></a>    <span class="n">Cp</span>  <span class="o">=</span> <span class="n">GetSpecificHeatGlycol</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidName</span><span class="p">,</span>  <span class="p">&amp;</span>
<a name="ln-4932"></a>                                <span class="n">CondInletTemp</span><span class="p">,</span>                      <span class="p">&amp;</span>
<a name="ln-4933"></a>                                <span class="n">PlantLoop</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CDLoopNum</span><span class="p">)%</span><span class="n">FluidIndex</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4934"></a>                                <span class="s1">&#39;CalcElecReformEIRChillerModel&#39;</span><span class="p">)</span>
<a name="ln-4935"></a>    <span class="n">CondOutletTemp</span> <span class="o">=</span> <span class="n">QCondenser</span><span class="o">/</span><span class="n">CondMassFlowRate</span><span class="o">/</span><span class="n">Cp</span> <span class="o">+</span> <span class="n">CondInletTemp</span>
<a name="ln-4936"></a>  <span class="k">ELSE</span>
<a name="ln-4937"></a><span class="k">    CALL </span><span class="n">ShowSevereError</span><span class="p">(</span><span class="s1">&#39;ControlReformEIRChillerModel: Condenser flow = 0, for ElecReformEIRChiller=&#39;</span><span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-4938"></a>                         <span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">))</span>
<a name="ln-4939"></a>    <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<a name="ln-4940"></a>
<a name="ln-4941"></a>  <span class="k">END IF</span>
<a name="ln-4942"></a>
<a name="ln-4943"></a><span class="k">  RETURN</span>
<a name="ln-4944"></a>
<a name="ln-4945"></a><span class="k">END SUBROUTINE </span><span class="n">CalcReformEIRChillerModel</span>
<a name="ln-4946"></a>
<a name="ln-4947"></a><span class="k">SUBROUTINE </span><span class="n">CheckMinMaxCurveBoundaries</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">,</span> <span class="n">FirstIteration</span><span class="p">)</span>
<a name="ln-4948"></a>            <span class="c">! SUBROUTINE INFORMATION:</span>
<a name="ln-4949"></a>            <span class="c">!       AUTHOR:          R Raustad, FSEC</span>
<a name="ln-4950"></a>            <span class="c">!       DATE WRITTEN:    August 2006</span>
<a name="ln-4951"></a>
<a name="ln-4952"></a>            <span class="c">! PURPOSE OF THIS SUBROUTINE:</span>
<a name="ln-4953"></a>            <span class="c">!  To compare the evaporator/condenser outlet temperatures to curve object min/max values</span>
<a name="ln-4954"></a>
<a name="ln-4955"></a>            <span class="c">! METHODOLOGY EMPLOYED:</span>
<a name="ln-4956"></a>            <span class="c">!  na</span>
<a name="ln-4957"></a>
<a name="ln-4958"></a>            <span class="c">! REFERENCES:</span>
<a name="ln-4959"></a>            <span class="c">!  na</span>
<a name="ln-4960"></a>
<a name="ln-4961"></a>            <span class="c">! USE STATEMENTS:</span>
<a name="ln-4962"></a>  <span class="k">USE </span><span class="n">General</span><span class="p">,</span>         <span class="n">ONLY</span> <span class="p">:</span> <span class="n">TrimSigDigits</span><span class="p">,</span> <span class="n">RoundSigDigits</span>
<a name="ln-4963"></a>  <span class="k">USE </span><span class="n">DataGlobals</span><span class="p">,</span>     <span class="n">ONLY</span> <span class="p">:</span> <span class="n">WarmupFlag</span>
<a name="ln-4964"></a>  <span class="k">USE </span><span class="n">DataInterfaces</span><span class="p">,</span>  <span class="n">ONLY</span> <span class="p">:</span> <span class="n">ShowWarningError</span><span class="p">,</span> <span class="n">ShowContinueErrorTimeStamp</span><span class="p">,</span> <span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-4965"></a>                              <span class="n">ShowContinueError</span>
<a name="ln-4966"></a>  <span class="k">USE </span><span class="n">CurveManager</span><span class="p">,</span>    <span class="n">ONLY</span> <span class="p">:</span> <span class="n">CurveValue</span>
<a name="ln-4967"></a>  <span class="k">USE </span><span class="n">DataPlant</span><span class="p">,</span>       <span class="n">ONLY</span> <span class="p">:</span> <span class="n">PlantLoop</span><span class="p">,</span> <span class="n">CompSetPtBasedSchemeType</span><span class="p">,</span> <span class="n">SingleSetpoint</span><span class="p">,</span> <span class="n">DualSetpointDeadband</span>
<a name="ln-4968"></a>
<a name="ln-4969"></a>  <span class="k">IMPLICIT NONE</span>    <span class="c">! Enforce explicit typing of all variables in this routine</span>
<a name="ln-4970"></a>
<a name="ln-4971"></a>          <span class="c">! SUBROUTINE ARGUMENT DEFINITIONS:</span>
<a name="ln-4972"></a>  <span class="kt">INTEGER</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>   <span class="kd">::</span> <span class="n">EIRChillNum</span>     <span class="c">! Number of the current electric EIR chiller being simulated</span>
<a name="ln-4973"></a>  <span class="kt">LOGICAL</span><span class="p">,</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>   <span class="kd">::</span> <span class="n">FirstIteration</span>  <span class="c">! TRUE when first iteration of timestep</span>
<a name="ln-4974"></a>
<a name="ln-4975"></a>          <span class="c">! SUBROUTINE PARAMETER DEFINITIONS:</span>
<a name="ln-4976"></a>          <span class="c">! na</span>
<a name="ln-4977"></a>
<a name="ln-4978"></a>          <span class="c">! DERIVED TYPE DEFINITIONS:</span>
<a name="ln-4979"></a>          <span class="c">! na</span>
<a name="ln-4980"></a>
<a name="ln-4981"></a>          <span class="c">! SUBROUTINE LOCAL VARIABLE DECLARATIONS:</span>
<a name="ln-4982"></a>  <span class="kt">INTEGER</span>    <span class="kd">::</span> <span class="n">EvapOutletNode</span>        <span class="c">! Chiller evaporator outlet node number</span>
<a name="ln-4983"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">EvapOutletTempSetpoint</span> <span class="c">! Evaporator outlet temperature setpoint [C]</span>
<a name="ln-4984"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">CAPFTXTmin</span>            <span class="c">! Minimum evaporator leaving temperature allowed by CAPFT curve [C]</span>
<a name="ln-4985"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">CAPFTXTmax</span>            <span class="c">! Maximum evaporator leaving temperature allowed by CAPFT curve [C]</span>
<a name="ln-4986"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">CAPFTYTmin</span>            <span class="c">! Minimum condenser  leaving temperature allowed by CAPFT curve [C]</span>
<a name="ln-4987"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">CAPFTYTmax</span>            <span class="c">! Maximum condenser  leaving temperature allowed by CAPFT curve [C]</span>
<a name="ln-4988"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">EIRFTXTmin</span>            <span class="c">! Minimum evaporator leaving temperature allowed by EIRFT curve [C]</span>
<a name="ln-4989"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">EIRFTXTmax</span>            <span class="c">! Maximum evaporator leaving temperature allowed by EIRFT curve [C]</span>
<a name="ln-4990"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">EIRFTYTmin</span>            <span class="c">! Minimum condenser  leaving temperature allowed by EIRFT curve [C]</span>
<a name="ln-4991"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">EIRFTYTmax</span>            <span class="c">! Maximum condenser  leaving temperature allowed by EIRFT curve [C]</span>
<a name="ln-4992"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">EIRFPLRTmin</span>           <span class="c">! Minimum condenser  leaving temperature allowed by EIRFPLR curve [C]</span>
<a name="ln-4993"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">EIRFPLRTmax</span>           <span class="c">! Maximum condenser  leaving temperature allowed by EIRFPLR curve [C]</span>
<a name="ln-4994"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">EIRFPLRPLRmin</span>         <span class="c">! Minimum PLR allowed by EIRFPLR curve</span>
<a name="ln-4995"></a>  <span class="kt">REAL</span><span class="p">(</span><span class="n">r64</span><span class="p">)</span>  <span class="kd">::</span> <span class="n">EIRFPLRPLRmax</span>         <span class="c">! Maximum PLR allowed by EIRFPLR curve</span>
<a name="ln-4996"></a>  <span class="kt">INTEGER</span>    <span class="kd">::</span> <span class="n">PlantLoopNum</span>          <span class="c">! Plant loop which contains the current chiller</span>
<a name="ln-4997"></a>  <span class="kt">INTEGER</span>    <span class="kd">::</span> <span class="n">LoopSideNum</span>           <span class="c">! Plant loop side which contains the current chiller (usually supply side)</span>
<a name="ln-4998"></a>  <span class="kt">INTEGER</span>    <span class="kd">::</span> <span class="n">BranchNum</span>
<a name="ln-4999"></a>  <span class="kt">INTEGER</span>    <span class="kd">::</span> <span class="n">CompNum</span>
<a name="ln-5000"></a>
<a name="ln-5001"></a><span class="c">! Do not print out warnings if chiller not operating or FirstIteration/WarmupFlag/FlowLock</span>
<a name="ln-5002"></a>  <span class="n">PlantLoopNum</span>   <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopNum</span>
<a name="ln-5003"></a>  <span class="n">LoopSideNum</span>    <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWLoopSideNum</span>
<a name="ln-5004"></a>  <span class="n">BranchNum</span>      <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWBranchNum</span>
<a name="ln-5005"></a>  <span class="n">CompNum</span>        <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CWCompNum</span>
<a name="ln-5006"></a>
<a name="ln-5007"></a>  <span class="k">IF</span> <span class="p">(</span><span class="n">FirstIteration</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">WarmupFlag</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span> <span class="k">RETURN</span>
<a name="ln-5008"></a>
<a name="ln-5009"></a><span class="k">  </span><span class="n">EvapOutletNode</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span>
<a name="ln-5010"></a>
<a name="ln-5011"></a><span class="c">! Move CAPFT and EIRFT min/max values for evaporator outlet temperature to local variables</span>
<a name="ln-5012"></a>  <span class="n">CAPFTXTmin</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTXTempMin</span>
<a name="ln-5013"></a>  <span class="n">CAPFTXTmax</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTXTempMax</span>
<a name="ln-5014"></a>
<a name="ln-5015"></a>  <span class="n">EIRFTXTmin</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTXTempMin</span>
<a name="ln-5016"></a>  <span class="n">EIRFTXTmax</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTXTempMax</span>
<a name="ln-5017"></a>
<a name="ln-5018"></a><span class="c">! Check bounds for curves, lump min/max into same check since min/max values are reported in recurring warning messages</span>
<a name="ln-5019"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">EvapOutletTemp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">CAPFTXTmin</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">EvapOutletTemp</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">CAPFTXTmax</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5020"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTXIter</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTXIter</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5021"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTXIter</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5022"></a><span class="k">      CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-5023"></a>         <span class="s1">&#39;&quot;: The evaporator outlet temperature (&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EvapOutletTemp</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; C) is outside the range of &#39;</span> <span class="p">&amp;</span>
<a name="ln-5024"></a>         <span class="o">//</span><span class="s1">&#39;evaporator outlet temperatures (X var) given in Cooling Capacity Function of Temperature biquadratic curve = &#39;</span> <span class="p">&amp;</span>
<a name="ln-5025"></a>         <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTName</span><span class="p">))</span>
<a name="ln-5026"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39;The range specified = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CAPFTXTmin</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="p">&amp;</span>
<a name="ln-5027"></a>                                      <span class="o">//</span><span class="s1">&#39; C to &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CAPFTXTmax</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; C. &#39;</span><span class="p">)</span>
<a name="ln-5028"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5029"></a>        <span class="s1">&#39;&quot;: The evap outlet temp range in Cooling Capacity Function of Temp curve error continues.&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-5030"></a>        <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTXIterIndex</span><span class="p">,</span> <span class="n">EvapOutletTemp</span><span class="p">,</span> <span class="n">EvapOutletTemp</span><span class="p">)</span>
<a name="ln-5031"></a>    <span class="k">ELSE</span>
<a name="ln-5032"></a><span class="k">      CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5033"></a>        <span class="s1">&#39;&quot;: The evap outlet temp range in Cooling Capacity Function of Temp curve error continues.&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-5034"></a>        <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTXIterIndex</span><span class="p">,</span> <span class="n">EvapOutletTemp</span><span class="p">,</span> <span class="n">EvapOutletTemp</span><span class="p">)</span>
<a name="ln-5035"></a>    <span class="k">END IF</span>
<a name="ln-5036"></a><span class="k">  END IF</span>
<a name="ln-5037"></a>
<a name="ln-5038"></a><span class="k">  IF</span><span class="p">(</span><span class="n">EvapOutletTemp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">EIRFTXTmin</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">EvapOutletTemp</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">EIRFTXTmax</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5039"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTXIter</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTXIter</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5040"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTXIter</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5041"></a><span class="k">      CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-5042"></a>         <span class="s1">&#39;&quot;: The evaporator outlet temperature (&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EvapOutletTemp</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; C) is outside the range of &#39;</span> <span class="p">&amp;</span>
<a name="ln-5043"></a>         <span class="o">//</span><span class="s1">&#39;evaporator outlet temperatures (X var) given in Electric Input to Cooling Output Ratio Function of &#39;</span> <span class="p">&amp;</span>
<a name="ln-5044"></a>         <span class="o">//</span><span class="s1">&#39;Temperature biquadratic curve = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTName</span><span class="p">))</span>
<a name="ln-5045"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39;The range specified = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRFTXTmin</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="p">&amp;</span>
<a name="ln-5046"></a>                                      <span class="o">//</span><span class="s1">&#39; C to &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRFTXTmax</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; C. &#39;</span><span class="p">)</span>
<a name="ln-5047"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5048"></a>        <span class="s1">&#39;&quot;: The evap outlet temp range in Electric Input to Cooling Output Ratio Function of Temp curve error&#39;</span> <span class="p">&amp;</span>
<a name="ln-5049"></a>        <span class="o">//</span><span class="s1">&#39; continues.&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTXIterIndex</span><span class="p">,</span> <span class="n">EvapOutletTemp</span><span class="p">,</span> <span class="n">EvapOutletTemp</span><span class="p">)</span>
<a name="ln-5050"></a>    <span class="k">ELSE</span>
<a name="ln-5051"></a><span class="k">      CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5052"></a>        <span class="s1">&#39;&quot;: The evap outlet temp range in Electric Input to Cooling Output Ratio Function of Temp curve error&#39;</span> <span class="p">&amp;</span>
<a name="ln-5053"></a>        <span class="o">//</span><span class="s1">&#39; continues.&#39;</span><span class="p">,</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTXIterIndex</span><span class="p">,</span> <span class="n">EvapOutletTemp</span><span class="p">,</span> <span class="n">EvapOutletTemp</span><span class="p">)</span>
<a name="ln-5054"></a>    <span class="k">END IF</span>
<a name="ln-5055"></a><span class="k">  END IF</span>
<a name="ln-5056"></a>
<a name="ln-5057"></a><span class="c">! Move CAPFT, EIRFT, and EIRFPLR min/max condenser outlet temperature values to local variables</span>
<a name="ln-5058"></a>  <span class="n">CAPFTYTmin</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTYTempMin</span>
<a name="ln-5059"></a>  <span class="n">CAPFTYTmax</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCAPFTYTempMax</span>
<a name="ln-5060"></a>
<a name="ln-5061"></a>  <span class="n">EIRFTYTmin</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTYTempMin</span>
<a name="ln-5062"></a>  <span class="n">EIRFTYTmax</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTYTempMax</span>
<a name="ln-5063"></a>
<a name="ln-5064"></a>  <span class="n">EIRFPLRTmin</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRTempMin</span>
<a name="ln-5065"></a>  <span class="n">EIRFPLRTmax</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRTempMax</span>
<a name="ln-5066"></a>
<a name="ln-5067"></a><span class="c">! Move EIRFPLR min/max part-load ratio values to local variables</span>
<a name="ln-5068"></a>  <span class="n">EIRFPLRPLRmin</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMin</span>
<a name="ln-5069"></a>  <span class="n">EIRFPLRPLRmax</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRPLRMax</span>
<a name="ln-5070"></a>
<a name="ln-5071"></a><span class="c">! Check bounds for curves, lump min/max into same check since min/max values are reported in recurring warning messages</span>
<a name="ln-5072"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">CondOutletTemp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">CAPFTYTmin</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">CondOutletTemp</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">CAPFTYTmax</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5073"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTYIter</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTYIter</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5074"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTYIter</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5075"></a><span class="k">      CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-5076"></a>         <span class="s1">&#39;&quot;: The condenser outlet temperature (&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CondOutletTemp</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; C) is outside the range of &#39;</span> <span class="p">&amp;</span>
<a name="ln-5077"></a>         <span class="o">//</span><span class="s1">&#39;condenser outlet temperatures (Y var) given in Cooling Capacity Function of Temperature biquadratic curve = &#39;</span> <span class="p">&amp;</span>
<a name="ln-5078"></a>         <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTName</span><span class="p">))</span>
<a name="ln-5079"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39;The range specified = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CAPFTYTmin</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="p">&amp;</span>
<a name="ln-5080"></a>                                      <span class="o">//</span><span class="s1">&#39; C to &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CAPFTYTmax</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; C. &#39;</span><span class="p">)</span>
<a name="ln-5081"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5082"></a>        <span class="s1">&#39;&quot;: The cond outlet temp range in Cooling Capacity Function of Temp curve error continues.&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-5083"></a>        <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTYIterIndex</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">)</span>
<a name="ln-5084"></a>    <span class="k">ELSE</span>
<a name="ln-5085"></a><span class="k">      CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5086"></a>        <span class="s1">&#39;&quot;: The cond outlet temp range in Cooling Capacity Function of Temp curve error continues.&#39;</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-5087"></a>        <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">CAPFTYIterIndex</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">)</span>
<a name="ln-5088"></a>    <span class="k">END IF</span>
<a name="ln-5089"></a><span class="k">  END IF</span>
<a name="ln-5090"></a>
<a name="ln-5091"></a><span class="k">  IF</span><span class="p">(</span><span class="n">CondOutletTemp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">EIRFTYTmin</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">CondOutletTemp</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">EIRFTYTmax</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5092"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTYIter</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTYIter</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5093"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTYIter</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5094"></a><span class="k">      CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-5095"></a>         <span class="s1">&#39;&quot;: The condenser outlet temperature (&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CondOutletTemp</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; C) is outside the range of &#39;</span> <span class="p">&amp;</span>
<a name="ln-5096"></a>         <span class="o">//</span><span class="s1">&#39;condenser outlet temperatures (Y var) given in Electric Input to Cooling Output Ratio Function of &#39;</span> <span class="p">&amp;</span>
<a name="ln-5097"></a>         <span class="o">//</span><span class="s1">&#39;Temperature biquadratic curve = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTName</span><span class="p">))</span>
<a name="ln-5098"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39;The range specified = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRFTYTmin</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="p">&amp;</span>
<a name="ln-5099"></a>                                      <span class="o">//</span><span class="s1">&#39; C to &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRFTYTmax</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; C. &#39;</span><span class="p">)</span>
<a name="ln-5100"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5101"></a>        <span class="s1">&#39;&quot;: The cond outlet temp range in Electric Input to Cooling Output Ratio as a Function of Temp &#39;</span> <span class="p">&amp;</span>
<a name="ln-5102"></a>        <span class="o">//</span><span class="s1">&#39;curve error continues.&#39;</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTYIterIndex</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">)</span>
<a name="ln-5103"></a>    <span class="k">ELSE</span>
<a name="ln-5104"></a><span class="k">      CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5105"></a>        <span class="s1">&#39;&quot;: The cond outlet temp range in Electric Input to Cooling Output Ratio as a Function of Temp &#39;</span> <span class="p">&amp;</span>
<a name="ln-5106"></a>        <span class="o">//</span><span class="s1">&#39;curve error continues.&#39;</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFTYIterIndex</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">)</span>
<a name="ln-5107"></a>    <span class="k">END IF</span>
<a name="ln-5108"></a><span class="k">  END IF</span>
<a name="ln-5109"></a>
<a name="ln-5110"></a><span class="k">  IF</span><span class="p">(</span><span class="n">CondOutletTemp</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">EIRFPLRTmin</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">CondOutletTemp</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">EIRFPLRTmax</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5111"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRTIter</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRTIter</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5112"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRTIter</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5113"></a><span class="k">      CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-5114"></a>         <span class="s1">&#39;&quot;: The condenser outlet temperature (&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">CondOutletTemp</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; C) is outside the range of &#39;</span> <span class="p">&amp;</span>
<a name="ln-5115"></a>         <span class="o">//</span><span class="s1">&#39;condenser outlet temperatures (X var) given in Electric Input to Cooling Output Ratio Function of Part-load Ratio &#39;</span> <span class="p">&amp;</span>
<a name="ln-5116"></a>         <span class="o">//</span><span class="s1">&#39;bicubic curve = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRName</span><span class="p">))</span>
<a name="ln-5117"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39;The range specified = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRFPLRTmin</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="p">&amp;</span>
<a name="ln-5118"></a>                                      <span class="o">//</span><span class="s1">&#39; C to &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRFPLRTmax</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; C. &#39;</span><span class="p">)</span>
<a name="ln-5119"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5120"></a>        <span class="s1">&#39;&quot;: The cond outlet temp range in Electric Input to Cooling Output Ratio Function of PLR &#39;</span> <span class="p">&amp;</span>
<a name="ln-5121"></a>        <span class="o">//</span><span class="s1">&#39;curve error continues.&#39;</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRTIterIndex</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">)</span>
<a name="ln-5122"></a>    <span class="k">ELSE</span>
<a name="ln-5123"></a><span class="k">      CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5124"></a>        <span class="s1">&#39;&quot;: The cond outlet temp range in Electric Input to Cooling Output Ratio Function of PLR &#39;</span> <span class="p">&amp;</span>
<a name="ln-5125"></a>        <span class="o">//</span><span class="s1">&#39;curve error continues.&#39;</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRTIterIndex</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">,</span> <span class="n">CondOutletTemp</span><span class="p">)</span>
<a name="ln-5126"></a>    <span class="k">END IF</span>
<a name="ln-5127"></a><span class="k">  END IF</span>
<a name="ln-5128"></a>
<a name="ln-5129"></a><span class="k">  IF</span><span class="p">(</span><span class="n">ChillerPartLoadRatio</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="n">EIRFPLRPLRmin</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="n">ChillerPartLoadRatio</span> <span class="p">.</span><span class="n">GT</span><span class="p">.</span> <span class="n">EIRFPLRPLRmax</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5130"></a><span class="k">    </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRPLRIter</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRPLRIter</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5131"></a>    <span class="k">IF</span> <span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRPLRIter</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">1</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5132"></a><span class="k">      CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span> <span class="o">//</span>  <span class="p">&amp;</span>
<a name="ln-5133"></a>         <span class="s1">&#39;&quot;: The part-load ratio (&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">ChillerPartLoadRatio</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;) is outside the range of &#39;</span> <span class="p">&amp;</span>
<a name="ln-5134"></a>         <span class="o">//</span><span class="s1">&#39;part-load ratios (Y var) given in Electric Input to Cooling Output Ratio Function of Part-load Ratio &#39;</span> <span class="p">&amp;</span>
<a name="ln-5135"></a>         <span class="o">//</span><span class="s1">&#39;bicubic curve = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRName</span><span class="p">))</span>
<a name="ln-5136"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39;The range specified = &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRFPLRPLRmin</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="p">&amp;</span>
<a name="ln-5137"></a>                                      <span class="o">//</span><span class="s1">&#39; to &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">TrimSigDigits</span><span class="p">(</span><span class="n">EIRFPLRPLRmax</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;. &#39;</span><span class="p">)</span>
<a name="ln-5138"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5139"></a>        <span class="s1">&#39;&quot;: The part-load ratio range in Electric Input to Cooling Output Ratio Function of PLRatio curve &#39;</span> <span class="p">&amp;</span>
<a name="ln-5140"></a>        <span class="o">//</span><span class="s1">&#39;error continues.&#39;</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRPLRIterIndex</span><span class="p">,</span> <span class="n">ChillerPartLoadRatio</span><span class="p">,</span> <span class="n">ChillerPartLoadRatio</span><span class="p">)</span>
<a name="ln-5141"></a>    <span class="k">ELSE</span>
<a name="ln-5142"></a><span class="k">      CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5143"></a>        <span class="s1">&#39;&quot;: The part-load ratio range in Electric Input to Cooling Output Ratio Function of PLRatio curve &#39;</span> <span class="p">&amp;</span>
<a name="ln-5144"></a>        <span class="o">//</span><span class="s1">&#39;error continues.&#39;</span><span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EIRFPLRPLRIterIndex</span><span class="p">,</span> <span class="n">ChillerPartLoadRatio</span><span class="p">,</span> <span class="n">ChillerPartLoadRatio</span><span class="p">)</span>
<a name="ln-5145"></a>    <span class="k">END IF</span>
<a name="ln-5146"></a><span class="k">  END IF</span>
<a name="ln-5147"></a>
<a name="ln-5148"></a><span class="k">  SELECT CASE</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopDemandCalcScheme</span><span class="p">)</span>
<a name="ln-5149"></a>  <span class="k">CASE</span> <span class="p">(</span><span class="n">SingleSetpoint</span><span class="p">)</span>
<a name="ln-5150"></a>    <span class="k">IF</span> <span class="p">((</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-5151"></a>        <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">Branch</span><span class="p">(</span><span class="n">BranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">CompNum</span><span class="p">)%</span><span class="n">CurOpSchemeType</span> <span class="p">&amp;</span>
<a name="ln-5152"></a>                 <span class="o">==</span> <span class="n">CompSetPtBasedSchemeType</span><span class="p">)</span>          <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-5153"></a>        <span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span> <span class="o">/=</span> <span class="n">SensedNodeFlagValue</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5154"></a>         <span class="c">! there will be a valid setpoint on outlet</span>
<a name="ln-5155"></a>      <span class="n">EvapOutletTempSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-5156"></a>    <span class="k">ELSE</span> <span class="c">! use plant loop overall setpoint</span>
<a name="ln-5157"></a>      <span class="n">EvapOutletTempSetpoint</span><span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPoint</span>
<a name="ln-5158"></a>    <span class="n">ENDIF</span>
<a name="ln-5159"></a>  <span class="k">CASE</span> <span class="p">(</span><span class="n">DualSetpointDeadband</span><span class="p">)</span>
<a name="ln-5160"></a>    <span class="k">IF</span> <span class="p">((</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">FlowMode</span> <span class="o">==</span> <span class="n">LeavingSetpointModulated</span><span class="p">)</span> <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-5161"></a>        <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">LoopSide</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">Branch</span><span class="p">(</span><span class="n">BranchNum</span><span class="p">)%</span><span class="n">Comp</span><span class="p">(</span><span class="n">CompNum</span><span class="p">)%</span><span class="n">CurOpSchemeType</span> <span class="p">&amp;</span>
<a name="ln-5162"></a>                 <span class="o">==</span> <span class="n">CompSetPtBasedSchemeType</span><span class="p">)</span>          <span class="p">.</span><span class="nb">OR</span><span class="p">.</span> <span class="p">&amp;</span>
<a name="ln-5163"></a>        <span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">EvapOutletNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span> <span class="o">/=</span> <span class="n">SensedNodeFlagValue</span><span class="p">)</span> <span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5164"></a>         <span class="c">! there will be a valid setpoint on outlet</span>
<a name="ln-5165"></a>      <span class="n">EvapOutletTempSetpoint</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">EvapOutletNode</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-5166"></a>    <span class="k">ELSE</span> <span class="c">! use plant loop overall setpoint</span>
<a name="ln-5167"></a>      <span class="n">EvapOutletTempSetpoint</span><span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">TempSetPointNodeNum</span><span class="p">)%</span><span class="n">TempSetPointHi</span>
<a name="ln-5168"></a>    <span class="n">ENDIF</span>
<a name="ln-5169"></a>  <span class="k">END SELECT</span>
<a name="ln-5170"></a><span class="k">  </span><span class="n">ChillerCapFT</span> <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFT</span><span class="p">,</span> <span class="p">&amp;</span>
<a name="ln-5171"></a>                            <span class="n">EvapOutletTempSetpoint</span><span class="p">,</span><span class="n">CondOutletTemp</span><span class="p">)</span>
<a name="ln-5172"></a>
<a name="ln-5173"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">ChillerCapFT</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-5174"></a><span class="k">    IF</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mi">1</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">&amp;</span>
<a name="ln-5175"></a>     <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-5176"></a><span class="k">      </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5177"></a>      <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="p">)</span>
<a name="ln-5178"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Chiller Capacity as a Function of Temperature curve output is negative (&#39;</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5179"></a>                               <span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">ChillerCapFT</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;).&#39;</span><span class="p">)</span>
<a name="ln-5180"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Negative value occurs using an Evaporator Leaving Temp of &#39;</span> <span class="p">&amp;</span>
<a name="ln-5181"></a>                              <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">EvapOutletTempSetpoint</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5182"></a>                             <span class="s1">&#39; and a Condenser Leaving Temp of &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">CondOutletTemp</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<a name="ln-5183"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39; Resetting curve output to zero and continuing simulation.&#39;</span><span class="p">)</span>
<a name="ln-5184"></a>    <span class="k">ELSE IF</span><span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-5185"></a><span class="k">      </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5186"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span> <span class="p">&amp;</span>
<a name="ln-5187"></a>                                        <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="o">//</span><span class="p">&amp;</span>
<a name="ln-5188"></a>          <span class="s1">&#39; Chiller Capacity as a Function of Temperature curve output is negative warning continues...&#39;</span> <span class="p">&amp;</span>
<a name="ln-5189"></a>          <span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerCapFTErrorIndex</span><span class="p">,</span> <span class="n">ChillerCapFT</span><span class="p">,</span> <span class="n">ChillerCapFT</span><span class="p">)</span>
<a name="ln-5190"></a>    <span class="k">END IF</span>
<a name="ln-5191"></a><span class="k">  END IF</span>
<a name="ln-5192"></a>
<a name="ln-5193"></a><span class="k">  </span><span class="n">ChillerEIRFT</span>   <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFT</span><span class="p">,</span><span class="n">EvapOutletTemp</span><span class="p">,</span><span class="n">CondOutletTemp</span><span class="p">)</span>
<a name="ln-5194"></a>
<a name="ln-5195"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">ChillerEIRFT</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-5196"></a><span class="k">    IF</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTError</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mi">1</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">&amp;</span>
<a name="ln-5197"></a>     <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-5198"></a><span class="k">      </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTError</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5199"></a>      <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="p">)</span>
<a name="ln-5200"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Reformulated Chiller EIR as a Function of Temperature curve output is negative (&#39;</span> <span class="p">&amp;</span>
<a name="ln-5201"></a>                           <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">ChillerEIRFT</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;).&#39;</span><span class="p">)</span>
<a name="ln-5202"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Negative value occurs using an Evaporator Leaving Temp of &#39;</span> <span class="p">&amp;</span>
<a name="ln-5203"></a>                            <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">EvapOutletTemp</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5204"></a>                           <span class="s1">&#39; and a Condenser Leaving Temp of &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">CondOutletTemp</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<a name="ln-5205"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39; Resetting curve output to zero and continuing simulation.&#39;</span><span class="p">)</span>
<a name="ln-5206"></a>    <span class="k">ELSE IF</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5207"></a><span class="k">      </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTError</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5208"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span> <span class="p">&amp;</span>
<a name="ln-5209"></a>                                        <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="o">//</span><span class="p">&amp;</span>
<a name="ln-5210"></a>          <span class="s1">&#39; Chiller EIR as a Function of Temperature curve output is negative warning continues...&#39;</span> <span class="p">&amp;</span>
<a name="ln-5211"></a>          <span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFTErrorIndex</span><span class="p">,</span> <span class="n">ChillerEIRFT</span><span class="p">,</span> <span class="n">ChillerEIRFT</span><span class="p">)</span>
<a name="ln-5212"></a>    <span class="k">END IF</span>
<a name="ln-5213"></a><span class="k">  END IF</span>
<a name="ln-5214"></a>
<a name="ln-5215"></a><span class="k">  </span><span class="n">ChillerEIRFPLR</span>  <span class="o">=</span> <span class="n">CurveValue</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span><span class="n">CondOutletTemp</span><span class="p">,</span><span class="n">ChillerPartLoadRatio</span><span class="p">)</span>
<a name="ln-5216"></a>  <span class="k">IF</span><span class="p">(</span><span class="n">ChillerEIRFPLR</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mf">0.0d0</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-5217"></a><span class="k">    IF</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRError</span> <span class="p">.</span><span class="n">LT</span><span class="p">.</span> <span class="mi">1</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">&amp;</span>
<a name="ln-5218"></a>     <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span><span class="k">THEN</span>
<a name="ln-5219"></a><span class="k">      </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRError</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5220"></a>      <span class="k">CALL </span><span class="n">ShowWarningError</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="p">)</span>
<a name="ln-5221"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Chiller EIR as a function of PLR and condenser water temperature curve output is negative (&#39;</span> <span class="p">&amp;</span>
<a name="ln-5222"></a>                           <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">ChillerEIRFPLR</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39;).&#39;</span><span class="p">)</span>
<a name="ln-5223"></a>      <span class="k">CALL </span><span class="n">ShowContinueError</span><span class="p">(</span><span class="s1">&#39; Negative value occurs using a part-load ratio of &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">ChillerPartLoadRatio</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">//</span> <span class="p">&amp;</span>
<a name="ln-5224"></a>                           <span class="s1">&#39; and a Condenser Leaving Temp of &#39;</span><span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">RoundSigDigits</span><span class="p">(</span><span class="n">CondOutletTemp</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="s1">&#39; C.&#39;</span><span class="p">)</span>
<a name="ln-5225"></a>      <span class="k">CALL </span><span class="n">ShowContinueErrorTimeStamp</span><span class="p">(</span><span class="s1">&#39; Resetting curve output to zero and continuing simulation.&#39;</span><span class="p">)</span>
<a name="ln-5226"></a>    <span class="k">ELSE IF</span> <span class="p">(</span><span class="n">PlantLoop</span><span class="p">(</span><span class="n">PlantLoopNum</span><span class="p">)%</span><span class="n">Loopside</span><span class="p">(</span><span class="n">LoopSideNum</span><span class="p">)%</span><span class="n">FlowLock</span> <span class="p">.</span><span class="n">NE</span><span class="p">.</span> <span class="mi">0</span> <span class="p">.</span><span class="nb">AND</span><span class="p">.</span> <span class="p">.</span><span class="nb">NOT</span><span class="p">.</span> <span class="n">WarmupFlag</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-5227"></a><span class="k">      </span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRError</span> <span class="o">=</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRError</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-5228"></a>      <span class="k">CALL </span><span class="n">ShowRecurringWarningErrorAtEnd</span><span class="p">(</span><span class="s1">&#39;CHILLER:ELECTRIC:REFORMULATEDEIR &quot;&#39;</span> <span class="p">&amp;</span>
<a name="ln-5229"></a>                                        <span class="o">//</span><span class="nb">TRIM</span><span class="p">(</span><span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">Name</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;&quot;:&#39;</span><span class="o">//</span><span class="p">&amp;</span>
<a name="ln-5230"></a>          <span class="s1">&#39; Chiller EIR as a function of PLR curve output is negative warning continues...&#39;</span> <span class="p">&amp;</span>
<a name="ln-5231"></a>          <span class="p">,</span> <span class="n">ElecReformEIRChiller</span><span class="p">(</span><span class="n">EIRChillNum</span><span class="p">)%</span><span class="n">ChillerEIRFPLRErrorIndex</span><span class="p">,</span> <span class="n">ChillerEIRFPLR</span><span class="p">,</span> <span class="n">ChillerEIRFPLR</span><span class="p">)</span>
<a name="ln-5232"></a>    <span class="k">END IF</span>
<a name="ln-5233"></a><span class="k">  END IF</span>
<a name="ln-5234"></a>
<a name="ln-5235"></a><span class="k">  RETURN</span>
<a name="ln-5236"></a>
<a name="ln-5237"></a><span class="k">END SUBROUTINE </span><span class="n">CheckMinMaxCurveBoundaries</span>
<a name="ln-5238"></a>
<a name="ln-5239"></a><span class="k">END MODULE </span><span class="n">ChillerReformulatedEIR</span>
<a name="ln-5240"></a>
<a name="ln-5241"></a><span class="c">!     NOTICE</span>
<a name="ln-5242"></a><span class="c">!</span>
<a name="ln-5243"></a><span class="c">!     Copyright  1996-2013 The Board of Trustees of the University of Illinois</span>
<a name="ln-5244"></a><span class="c">!     and The Regents of the University of California through Ernest Orlando Lawrence</span>
<a name="ln-5245"></a><span class="c">!     Berkeley National Laboratory.  All rights reserved.</span>
<a name="ln-5246"></a><span class="c">!</span>
<a name="ln-5247"></a><span class="c">!     Portions of the EnergyPlus software package have been developed and copyrighted</span>
<a name="ln-5248"></a><span class="c">!     by other individuals, companies and institutions.  These portions have been</span>
<a name="ln-5249"></a><span class="c">!     incorporated into the EnergyPlus software package under license.   For a complete</span>
<a name="ln-5250"></a><span class="c">!     list of contributors, see &quot;Notice&quot; located in EnergyPlus.f90.</span>
<a name="ln-5251"></a><span class="c">!</span>
<a name="ln-5252"></a><span class="c">!     NOTICE: The U.S. Government is granted for itself and others acting on its</span>
<a name="ln-5253"></a><span class="c">!     behalf a paid-up, nonexclusive, irrevocable, worldwide license in this data to</span>
<a name="ln-5254"></a><span class="c">!     reproduce, prepare derivative works, and perform publicly and display publicly.</span>
<a name="ln-5255"></a><span class="c">!     Beginning five (5) years after permission to assert copyright is granted,</span>
<a name="ln-5256"></a><span class="c">!     subject to two possible five year renewals, the U.S. Government is granted for</span>
<a name="ln-5257"></a><span class="c">!     itself and others acting on its behalf a paid-up, non-exclusive, irrevocable</span>
<a name="ln-5258"></a><span class="c">!     worldwide license in this data to reproduce, prepare derivative works,</span>
<a name="ln-5259"></a><span class="c">!     distribute copies to the public, perform publicly and display publicly, and to</span>
<a name="ln-5260"></a><span class="c">!     permit others to do so.</span>
<a name="ln-5261"></a><span class="c">!</span>
<a name="ln-5262"></a><span class="c">!     TRADEMARKS: EnergyPlus is a trademark of the US Department of Energy.</span>
<a name="ln-5263"></a><span class="c">!</span>
</pre></div>

    </section>
    </div>
  </div>

  <section class="visible-xs visible-sm hidden-md">
    <hr>


<div class="panel panel-default">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#allfiles-1">All Source Files</a></h3></div>
  <div id="allfiles-1" class="panel-collapse collapse">
    <div class="list-group">

      <a class="list-group-item" href="../sourcefile/airflownetworkbalancemanager.f90.html">AirflowNetworkBalanceManager.f90</a>

      <a class="list-group-item" href="../sourcefile/airflownetworksolver.f90.html">AirflowNetworkSolver.f90</a>

      <a class="list-group-item" href="../sourcefile/baseboardradiator.f90.html">BaseboardRadiator.f90</a>

      <a class="list-group-item" href="../sourcefile/baseboardradiatorelectric.f90.html">BaseboardRadiatorElectric.f90</a>

      <a class="list-group-item" href="../sourcefile/baseboardradiatorsteam.f90.html">BaseboardRadiatorSteam.f90</a>

      <a class="list-group-item" href="../sourcefile/baseboardradiatorwater.f90.html">BaseboardRadiatorWater.f90</a>

      <a class="list-group-item" href="../sourcefile/branchinputmanager.f90.html">BranchInputManager.f90</a>

      <a class="list-group-item" href="../sourcefile/branchnodeconnections.f90.html">BranchNodeConnections.f90</a>

      <a class="list-group-item" href="../sourcefile/conductiontransferfunctioncalc.f90.html">ConductionTransferFunctionCalc.f90</a>

      <a class="list-group-item" href="../sourcefile/cooltower.f90.html">CoolTower.f90</a>

      <a class="list-group-item" href="../sourcefile/costestimatemanager.f90.html">CostEstimateManager.f90</a>

      <a class="list-group-item" href="../sourcefile/curvemanager.f90.html">CurveManager.f90</a>

      <a class="list-group-item" href="../sourcefile/cvfonlyroutines.f90.html">CVFOnlyRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/dataairflownetwork.f90.html">DataAirflowNetwork.f90</a>

      <a class="list-group-item" href="../sourcefile/dataairloop.f90.html">DataAirLoop.f90</a>

      <a class="list-group-item" href="../sourcefile/dataairsystems.f90.html">DataAirSystems.f90</a>

      <a class="list-group-item" href="../sourcefile/databranchairloopplant.f90.html">DataBranchAirLoopPlant.f90</a>

      <a class="list-group-item" href="../sourcefile/databranchnodeconnections.f90.html">DataBranchNodeConnections.f90</a>

      <a class="list-group-item" href="../sourcefile/databsdfwindow.f90.html">DataBSDFWindow.f90</a>

      <a class="list-group-item" href="../sourcefile/datacomplexfenestration.f90.html">DataComplexFenestration.f90</a>

      <a class="list-group-item" href="../sourcefile/datacontaminantbalance.f90.html">DataContaminantBalance.f90</a>

      <a class="list-group-item" href="../sourcefile/dataconvergparams.f90.html">DataConvergParams.f90</a>

      <a class="list-group-item" href="../sourcefile/dataconversions.f90.html">DataConversions.f90</a>

      <a class="list-group-item" href="../sourcefile/datacostestimate.f90.html">DataCostEstimate.f90</a>

      <a class="list-group-item" href="../sourcefile/datadaylighting.f90.html">DataDaylighting.f90</a>

      <a class="list-group-item" href="../sourcefile/datadaylightingdevices.f90.html">DataDaylightingDevices.f90</a>

      <a class="list-group-item" href="../sourcefile/datadefineequip.f90.html">Datadefineequip.f90</a>

      <a class="list-group-item" href="../sourcefile/datadelight.f90.html">DataDElight.f90</a>

      <a class="list-group-item" href="../sourcefile/dataenvironment.f90.html">DataEnvironment.f90</a>

      <a class="list-group-item" href="../sourcefile/dataequivalentlayerwindow.f90.html">DataEquivalentLayerWindow.f90</a>

      <a class="list-group-item" href="../sourcefile/dataerrortracking.f90.html">DataErrorTracking.f90</a>

      <a class="list-group-item" href="../sourcefile/datagenerators.f90.html">DataGenerators.f90</a>

      <a class="list-group-item" href="../sourcefile/dataglobalconstants.f90.html">DataGlobalConstants.f90</a>

      <a class="list-group-item" href="../sourcefile/dataglobals.f90.html">DataGlobals.f90</a>

      <a class="list-group-item" href="../sourcefile/dataheatbalance.f90.html">DataHeatBalance.f90</a>

      <a class="list-group-item" href="../sourcefile/dataheatbalfansys.f90.html">DataHeatBalFanSys.f90</a>

      <a class="list-group-item" href="../sourcefile/dataheatbalsurface.f90.html">DataHeatBalSurface.f90</a>

      <a class="list-group-item" href="../sourcefile/datahvaccontrollers.f90.html">DataHVACControllers.f90</a>

      <a class="list-group-item" href="../sourcefile/datahvacglobals.f90.html">DataHVACGlobals.f90</a>

      <a class="list-group-item" href="../sourcefile/datainterfaces.f90.html">DataInterfaces.f90</a>

      <a class="list-group-item" href="../sourcefile/dataipshortcuts.f90.html">DataIPShortCuts.f90</a>

      <a class="list-group-item" href="../sourcefile/dataloopnode.f90.html">DataLoopNode.f90</a>

      <a class="list-group-item" href="../sourcefile/datamoisturebalance.f90.html">DataMoistureBalance.f90</a>

      <a class="list-group-item" href="../sourcefile/datamoisturebalanceempd.f90.html">DataMoistureBalanceEMPD.f90</a>

      <a class="list-group-item" href="../sourcefile/dataoutputs.f90.html">DataOutputs.f90</a>

      <a class="list-group-item" href="../sourcefile/dataphotovoltaics.f90.html">DataPhotovoltaics.f90</a>

      <a class="list-group-item" href="../sourcefile/dataplant.f90.html">DataPlant.f90</a>

      <a class="list-group-item" href="../sourcefile/dataplantpipingsystems.f90.html">DataPlantPipingSystems.f90</a>

      <a class="list-group-item" href="../sourcefile/dataprecisionglobals.f90.html">DataPrecisionGlobals.f90</a>

      <a class="list-group-item" href="../sourcefile/datareportingflags.f90.html">DataReportingFlags.f90</a>

      <a class="list-group-item" href="../sourcefile/dataroomair.f90.html">DataRoomAir.f90</a>

      <a class="list-group-item" href="../sourcefile/datarootfinder.f90.html">DataRootFinder.f90</a>

      <a class="list-group-item" href="../sourcefile/dataruntimelanguage.f90.html">DataRuntimeLanguage.f90</a>

      <a class="list-group-item" href="../sourcefile/datashadowingcombinations.f90.html">DataShadowingCombinations.f90</a>

      <a class="list-group-item" href="../sourcefile/datasizing.f90.html">DataSizing.f90</a>

      <a class="list-group-item" href="../sourcefile/datastringglobals.f90.html">DataStringGlobals.f90</a>

      <a class="list-group-item" href="../sourcefile/datasurfacecolors.f90.html">DataSurfaceColors.f90</a>

      <a class="list-group-item" href="../sourcefile/datasurfacelists.f90.html">DataSurfaceLists.f90</a>

      <a class="list-group-item" href="../sourcefile/datasurfaces.f90.html">DataSurfaces.f90</a>

      <a class="list-group-item" href="../sourcefile/datasystemvariables.f90.html">DataSystemVariables.f90</a>

      <a class="list-group-item" href="../sourcefile/datatimings.f90.html">DataTimings.f90</a>

      <a class="list-group-item" href="../sourcefile/dataucsdshareddata.f90.html">DataUCSDSharedData.f90</a>

      <a class="list-group-item" href="../sourcefile/datavectortypes.f90.html">DataVectorTypes.f90</a>

      <a class="list-group-item" href="../sourcefile/dataviewfactorinformation.f90.html">DataViewFactorInformation.f90</a>

      <a class="list-group-item" href="../sourcefile/datawater.f90.html">DataWater.f90</a>

      <a class="list-group-item" href="../sourcefile/datazonecontrols.f90.html">DataZoneControls.f90</a>

      <a class="list-group-item" href="../sourcefile/datazoneenergydemands.f90.html">DataZoneEnergyDemands.f90</a>

      <a class="list-group-item" href="../sourcefile/datazoneequipment.f90.html">DataZoneEquipment.f90</a>

      <a class="list-group-item" href="../sourcefile/daylightingdevices.f90.html">DaylightingDevices.f90</a>

      <a class="list-group-item" href="../sourcefile/daylightingmanager.f90.html">DaylightingManager.f90</a>

      <a class="list-group-item" href="../sourcefile/delightmanagerf.f90.html">DElightManagerF.f90</a>

      <a class="list-group-item" href="../sourcefile/delightmanagerf_no.f90.html">DElightManagerF_NO.f90</a>

      <a class="list-group-item" href="../sourcefile/demandmanager.f90.html">DemandManager.f90</a>

      <a class="list-group-item" href="../sourcefile/desiccantdehumidifiers.f90.html">DesiccantDehumidifiers.f90</a>

      <a class="list-group-item" href="../sourcefile/directair.f90.html">DirectAir.f90</a>

      <a class="list-group-item" href="../sourcefile/displayroutines.f90.html">DisplayRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/dxcoil.f90.html">DXCoil.f90</a>

      <a class="list-group-item" href="../sourcefile/earthtube.f90.html">EarthTube.f90</a>

      <a class="list-group-item" href="../sourcefile/economiclifecyclecost.f90.html">EconomicLifeCycleCost.f90</a>

      <a class="list-group-item" href="../sourcefile/economictariff.f90.html">EconomicTariff.f90</a>

      <a class="list-group-item" href="../sourcefile/ecoroof.f90.html">EcoRoof.f90</a>

      <a class="list-group-item" href="../sourcefile/electricpowergenerators.f90.html">ElectricPowerGenerators.f90</a>

      <a class="list-group-item" href="../sourcefile/electricpowermanager.f90.html">ElectricPowerManager.f90</a>

      <a class="list-group-item" href="../sourcefile/emsmanager.f90.html">EMSManager.f90</a>

      <a class="list-group-item" href="../sourcefile/energyplus.f90.html">EnergyPlus.f90</a>

      <a class="list-group-item" href="../sourcefile/exteriorenergyusemanager.f90.html">ExteriorEnergyUseManager.f90</a>

      <a class="list-group-item" href="../sourcefile/externalinterface_no.f90.html">ExternalInterface_NO.f90</a>

      <a class="list-group-item" href="../sourcefile/fancoilunits.f90.html">FanCoilUnits.f90</a>

      <a class="list-group-item" href="../sourcefile/faultsmanager.f90.html">FaultsManager.f90</a>

      <a class="list-group-item" href="../sourcefile/fluidproperties.f90.html">FluidProperties.f90</a>

      <a class="list-group-item" href="../sourcefile/general.f90.html">General.f90</a>

      <a class="list-group-item" href="../sourcefile/generalroutines.f90.html">GeneralRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/globalnames.f90.html">GlobalNames.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalanceairmanager.f90.html">HeatBalanceAirManager.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalanceconvectioncoeffs.f90.html">HeatBalanceConvectionCoeffs.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalancehamtmanager.f90.html">HeatBalanceHAMTManager.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalanceinternalheatgains.f90.html">HeatBalanceInternalHeatGains.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalanceintradexchange.f90.html">HeatBalanceIntRadExchange.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalancemanager.f90.html">HeatBalanceManager.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalancemovableinsulation.f90.html">HeatBalanceMovableInsulation.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalancesurfacemanager.f90.html">HeatBalanceSurfaceManager.f90</a>

      <a class="list-group-item" href="../sourcefile/heatbalfinitedifferencemanager.f90.html">HeatBalFiniteDifferenceManager.f90</a>

      <a class="list-group-item" href="../sourcefile/heatrecovery.f90.html">HeatRecovery.f90</a>

      <a class="list-group-item" href="../sourcefile/humidifiers.f90.html">Humidifiers.f90</a>

      <a class="list-group-item" href="../sourcefile/hvaccontrollers.f90.html">HVACControllers.f90</a>

      <a class="list-group-item" href="../sourcefile/hvaccooledbeam.f90.html">HVACCooledBeam.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacdualductsystem.f90.html">HVACDualDuctSystem.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacduct.f90.html">HVACDuct.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacdxsystem.f90.html">HVACDXSystem.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacevapcomponent.f90.html">HVACEvapComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacfancomponent.f90.html">HVACFanComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacfurnace.f90.html">HVACFurnace.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacheatingcoils.f90.html">HVACHeatingCoils.f90</a>

      <a class="list-group-item" href="../sourcefile/hvachxassistedcoolingcoil.f90.html">HVACHXAssistedCoolingCoil.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacinterfacemanager.f90.html">HVACInterfaceManager.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacmanager.f90.html">HVACManager.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacmixercomponent.f90.html">HVACMixerComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacmultispeedheatpump.f90.html">HVACMultiSpeedHeatPump.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacsingleductinduc.f90.html">HVACSingleDuctInduc.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacsingleductsystem.f90.html">HVACSingleDuctSystem.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacsplittercomponent.f90.html">HVACSplitterComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacstandaloneerv.f90.html">HVACStandAloneERV.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacsteamcoilcomponent.f90.html">HVACSteamCoilComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvactranspiredcollector.f90.html">HVACTranspiredCollector.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacunitarybypassvav.f90.html">HVACUnitaryBypassVAV.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacunitarysystem.f90.html">HVACUnitarySystem.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacvariablerefrigerantflow.f90.html">HVACVariableRefrigerantFlow.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacwatercoilcomponent.f90.html">HVACWaterCoilComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacwatertoair.f90.html">HVACWatertoAir.f90</a>

      <a class="list-group-item" href="../sourcefile/hvacwatertoairmultispeedhp.f90.html">HVACWatertoAirMultiSpeedHP.f90</a>

      <a class="list-group-item" href="../sourcefile/inputprocessor.f90.html">InputProcessor.f90</a>

      <a class="list-group-item" href="../sourcefile/matrixdatamanager.f90.html">MatrixDataManager.f90</a>

      <a class="list-group-item" href="../sourcefile/mixedair.f90.html">MixedAir.f90</a>

      <a class="list-group-item" href="../sourcefile/moisturebalanceempdmanager.f90.html">MoistureBalanceEMPDManager.f90</a>

      <a class="list-group-item" href="../sourcefile/nodeinputmanager.f90.html">NodeInputManager.f90</a>

      <a class="list-group-item" href="../sourcefile/nonzoneequipmentmanager.f90.html">NonZoneEquipmentManager.f90</a>

      <a class="list-group-item" href="../sourcefile/outairnodemanager.f90.html">OutAirNodeManager.f90</a>

      <a class="list-group-item" href="../sourcefile/outdoorairunit.f90.html">OutdoorAirUnit.f90</a>

      <a class="list-group-item" href="../sourcefile/outputprocessor.f90.html">OutputProcessor.f90</a>

      <a class="list-group-item" href="../sourcefile/outputreportpredefined.f90.html">OutputReportPredefined.f90</a>

      <a class="list-group-item" href="../sourcefile/outputreports.f90.html">OutputReports.f90</a>

      <a class="list-group-item" href="../sourcefile/outputreporttabular.f90.html">OutputReportTabular.f90</a>

      <a class="list-group-item" href="../sourcefile/packagedterminalheatpump.f90.html">PackagedTerminalHeatPump.f90</a>

      <a class="list-group-item" href="../sourcefile/packagedthermalstoragecoil.f90.html">PackagedThermalStorageCoil.f90</a>

      <a class="list-group-item" href="../sourcefile/photovoltaics.f90.html">Photovoltaics.f90</a>

      <a class="list-group-item" href="../sourcefile/photovoltaicthermalcollectors.f90.html">PhotovoltaicThermalCollectors.f90</a>

      <a class="list-group-item" href="../sourcefile/plantabsorptionchillers.f90.html">PlantAbsorptionChillers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantboilers.f90.html">PlantBoilers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantboilerssteam.f90.html">PlantBoilersSteam.f90</a>

      <a class="list-group-item" href="../sourcefile/plantcentralgshp.f90.html">PlantCentralGSHP.f90</a>

      <a class="list-group-item" href="../sourcefile/plantchillers.f90.html">PlantChillers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantcondloopoperation.f90.html">PlantCondLoopOperation.f90</a>

      <a class="list-group-item" href="../sourcefile/plantcondlooptowers.f90.html">PlantCondLoopTowers.f90</a>

      <a class="list-group-item" href="../sourcefile/planteirchillers.f90.html">PlantEIRChillers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantevapfluidcoolers.f90.html">PlantEvapFluidCoolers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantexhaustabsorptionchiller.f90.html">PlantExhaustAbsorptionChiller.f90</a>

      <a class="list-group-item" href="../sourcefile/plantfluidcoolers.f90.html">PlantFluidCoolers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantgasabsorptionchiller.f90.html">PlantGasAbsorptionChiller.f90</a>

      <a class="list-group-item" href="../sourcefile/plantgroundheatexchangers.f90.html">PlantGroundHeatExchangers.f90</a>

      <a class="list-group-item" href="../sourcefile/plantheatexchanger.f90.html">PlantHeatExchanger.f90</a>

      <a class="list-group-item" href="../sourcefile/planticethermalstorage.f90.html">PlantIceThermalStorage.f90</a>

      <a class="list-group-item" href="../sourcefile/plantloadprofile.f90.html">PlantLoadProfile.f90</a>

      <a class="list-group-item" href="../sourcefile/plantloopequipment.f90.html">PlantLoopEquipment.f90</a>

      <a class="list-group-item" href="../sourcefile/plantloopsolver.f90.html">PlantLoopSolver.f90</a>

      <a class="list-group-item" href="../sourcefile/plantmanager.f90.html">PlantManager.f90</a>

      <a class="list-group-item" href="../sourcefile/plantoutsideenergysources.f90.html">PlantOutsideEnergySources.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpipeheattransfer.f90.html">PlantPipeHeatTransfer.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpipes.f90.html">PlantPipes.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpipingsystemmanager.f90.html">PlantPipingSystemManager.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpondgroundheatexchanger.f90.html">PlantPondGroundHeatExchanger.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpressuresystem.f90.html">PlantPressureSystem.f90</a>

      <a class="list-group-item" href="../sourcefile/plantpumps.f90.html">PlantPumps.f90</a>

      <a class="list-group-item" href="../sourcefile/plantsolarcollectors.f90.html">PlantSolarCollectors.f90</a>

      <a class="list-group-item" href="../sourcefile/plantsurfacegroundheatexchanger.f90.html">PlantSurfaceGroundHeatExchanger.f90</a>

      <a class="list-group-item" href="../sourcefile/plantutilities.f90.html">PlantUtilities.f90</a>

      <a class="list-group-item" href="../sourcefile/plantvalves.f90.html">PlantValves.f90</a>

      <a class="list-group-item" href="../sourcefile/plantwatersources.f90.html">PlantWaterSources.f90</a>

      <a class="list-group-item" href="../sourcefile/plantwaterthermaltank.f90.html">PlantWaterThermalTank.f90</a>

      <a class="list-group-item" href="../sourcefile/plantwatertowatergshp.f90.html">PlantWatertoWaterGSHP.f90</a>

      <a class="list-group-item" href="../sourcefile/plantwateruse.f90.html">PlantWaterUse.f90</a>

      <a class="list-group-item" href="../sourcefile/pollutionanalysismodule.f90.html">PollutionAnalysisModule.f90</a>

      <a class="list-group-item" href="../sourcefile/poweredinductionunits.f90.html">PoweredInductionUnits.f90</a>

      <a class="list-group-item" href="../sourcefile/psychroutines.f90.html">PsychRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/purchasedairmanager.f90.html">Purchasedairmanager.f90</a>

      <a class="list-group-item" href="../sourcefile/radiantsystemhightemp.f90.html">RadiantSystemHighTemp.f90</a>

      <a class="list-group-item" href="../sourcefile/radiantsystemlowtemp.f90.html">RadiantSystemLowTemp.f90</a>

      <a class="list-group-item" href="../sourcefile/refrigeratedcase.f90.html">RefrigeratedCase.f90</a>

      <a class="list-group-item" href="../sourcefile/reportsizingmanager.f90.html">ReportSizingManager.f90</a>

      <a class="list-group-item" href="../sourcefile/returnairpath.f90.html">ReturnAirPath.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmanager.f90.html">RoomAirManager.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmodelcrossvent.f90.html">RoomAirModelCrossVent.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmodeldisplacementvent.f90.html">RoomAirModelDisplacementVent.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmodelmundt.f90.html">RoomAirModelMundt.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmodelufad.f90.html">RoomAirModelUFAD.f90</a>

      <a class="list-group-item" href="../sourcefile/roomairmodelusertemppattern.f90.html">RoomAirModelUserTempPattern.f90</a>

      <a class="list-group-item" href="../sourcefile/rootfinder.f90.html">RootFinder.f90</a>

      <a class="list-group-item" href="../sourcefile/runtimelanguageprocessor.f90.html">RuntimeLanguageProcessor.f90</a>

      <a class="list-group-item" href="../sourcefile/schedulemanager.f90.html">ScheduleManager.f90</a>

      <a class="list-group-item" href="../sourcefile/setpointmanager.f90.html">SetPointManager.f90</a>

      <a class="list-group-item" href="../sourcefile/simairservingzones.f90.html">SimAirServingZones.f90</a>

      <a class="list-group-item" href="../sourcefile/simulationmanager.f90.html">SimulationManager.f90</a>

      <a class="list-group-item" href="../sourcefile/sizingmanager.f90.html">SizingManager.f90</a>

      <a class="list-group-item" href="../sourcefile/solarreflectionmanager.f90.html">SolarReflectionManager.f90</a>

      <a class="list-group-item" href="../sourcefile/solarshading.f90.html">SolarShading.f90</a>

      <a class="list-group-item" href="../sourcefile/sortandstringutilities.f90.html">SortAndStringUtilities.f90</a>

      <a class="list-group-item" href="../sourcefile/sqlite3.c.html">sqlite3.c</a>

      <a class="list-group-item" href="../sourcefile/sqlitecroutines.c.html">SQLiteCRoutines.c</a>

      <a class="list-group-item" href="../sourcefile/sqlitefortranroutines.f90.html">SQLiteFortranRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/sqlitefortranroutines_no.f90.html">SQLiteFortranRoutines_NO.f90</a>

      <a class="list-group-item" href="../sourcefile/standardratings.f90.html">StandardRatings.f90</a>

      <a class="list-group-item" href="../sourcefile/surfacegeometry.f90.html">SurfaceGeometry.f90</a>

      <a class="list-group-item" href="../sourcefile/systemavailabilitymanager.f90.html">SystemAvailabilityManager.f90</a>

      <a class="list-group-item" href="../sourcefile/systemreports.f90.html">SystemReports.f90</a>

      <a class="list-group-item" href="../sourcefile/tarcogcomplexfenestration.f90.html">TarcogComplexFenestration.f90</a>

      <a class="list-group-item" href="../sourcefile/thermalchimney.f90.html">ThermalChimney.f90</a>

      <a class="list-group-item" href="../sourcefile/thermalcomfort.f90.html">ThermalComfort.f90</a>

      <a class="list-group-item" href="../sourcefile/unitheater.f90.html">UnitHeater.f90</a>

      <a class="list-group-item" href="../sourcefile/unitventilator.f90.html">UnitVentilator.f90</a>

      <a class="list-group-item" href="../sourcefile/userdefinedcomponents.f90.html">UserDefinedComponents.f90</a>

      <a class="list-group-item" href="../sourcefile/utilityroutines.f90.html">UtilityRoutines.f90</a>

      <a class="list-group-item" href="../sourcefile/vectorutilities.f90.html">VectorUtilities.f90</a>

      <a class="list-group-item" href="../sourcefile/ventilatedslab.f90.html">VentilatedSlab.f90</a>

      <a class="list-group-item" href="../sourcefile/watermanager.f90.html">WaterManager.f90</a>

      <a class="list-group-item" href="../sourcefile/weathermanager.f90.html">WeatherManager.f90</a>

      <a class="list-group-item" href="../sourcefile/windowac.f90.html">WindowAC.f90</a>

      <a class="list-group-item" href="../sourcefile/windowcomplexmanager.f90.html">WindowComplexManager.f90</a>

      <a class="list-group-item" href="../sourcefile/windowequivalentlayer.f90.html">WindowEquivalentLayer.f90</a>

      <a class="list-group-item" href="../sourcefile/windowmanager.f90.html">WindowManager.f90</a>

      <a class="list-group-item" href="../sourcefile/windturbine.f90.html">WindTurbine.f90</a>

      <a class="list-group-item" href="../sourcefile/zoneairloopequipmentmanager.f90.html">Zoneairloopequipmentmanager.f90</a>

      <a class="list-group-item" href="../sourcefile/zonecontaminantpredictorcorrector.f90.html">ZoneContaminantPredictorCorrector.f90</a>

      <a class="list-group-item" href="../sourcefile/zonedehumidifier.f90.html">ZoneDehumidifier.f90</a>

      <a class="list-group-item" href="../sourcefile/zoneequipmentmanager.f90.html">Zoneequipmentmanager.f90</a>

      <a class="list-group-item" href="../sourcefile/zoneplenumcomponent.f90.html">ZonePlenumComponent.f90</a>

      <a class="list-group-item" href="../sourcefile/zonetemppredictorcorrector.f90.html">ZoneTempPredictorCorrector.f90</a>

    </div>
  </div>
</div>


  </section>

    <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-4"><p>&copy; 2017 </p></div>
        <div class="col-xs-6 col-md-4 col-md-push-4">
          <p class="text-right">
            Documentation generated by
            <a href="https://github.com/cmacmackin/ford">FORD</a>

          </p>
        </div>
        <div class="col-xs-12 col-md-4 col-md-pull-4"><p class="text-center"> EnergyPlusFortran</p></div>
      </div>
      <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],
        'HTML-CSS': {
           styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: '#000000 ! important'} }
        }
      });
    </script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  </body>
</html>
